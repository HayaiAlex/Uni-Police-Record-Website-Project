(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function n(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerpolicy&&(s.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?s.credentials="include":l.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(l){if(l.ep)return;l.ep=!0;const s=n(l);fetch(l.href,s)}})();function j(){}const Oe=t=>t;function Ie(t,e){for(const n in e)t[n]=e[n];return t}function ln(t){return t()}function kt(){return Object.create(null)}function J(t){t.forEach(ln)}function Me(t){return typeof t=="function"}function G(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Dn(t){return Object.keys(t).length===0}function En(t,...e){if(t==null)return j;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function fe(t,e,n){t.$$.on_destroy.push(En(e,n))}function Vn(t,e,n,o){if(t){const l=on(t,e,n,o);return t[0](l)}}function on(t,e,n,o){return t[1]&&o?Ie(n.ctx.slice(),t[1](o(e))):n.ctx}function Sn(t,e,n,o){if(t[2]&&o){const l=t[2](o(n));if(e.dirty===void 0)return l;if(typeof l=="object"){const s=[],r=Math.max(e.dirty.length,l.length);for(let a=0;a<r;a+=1)s[a]=e.dirty[a]|l[a];return s}return e.dirty|l}return e.dirty}function Tn(t,e,n,o,l,s){if(l){const r=on(e,n,o,s);t.p(r,l)}}function On(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let o=0;o<n;o++)e[o]=-1;return e}return-1}function yt(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function Pt(t){return t==null?"":t}function ve(t,e,n){return t.set(n),e}const sn=typeof window<"u";let tt=sn?()=>window.performance.now():()=>Date.now(),pt=sn?t=>requestAnimationFrame(t):j;const Se=new Set;function rn(t){Se.forEach(e=>{e.c(t)||(Se.delete(e),e.f())}),Se.size!==0&&pt(rn)}function nt(t){let e;return Se.size===0&&pt(rn),{promise:new Promise(n=>{Se.add(e={c:t,f:n})}),abort(){Se.delete(e)}}}function f(t,e){t.appendChild(e)}function an(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Rn(t){const e=w("style");return jn(an(t),e),e.sheet}function jn(t,e){return f(t.head||t,e),e.sheet}function C(t,e,n){t.insertBefore(e,n||null)}function $(t){t.parentNode.removeChild(t)}function Re(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function w(t){return document.createElement(t)}function lt(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function V(t){return document.createTextNode(t)}function P(){return V(" ")}function pe(){return V("")}function T(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function de(t){return function(e){return e.preventDefault(),t.call(this,e)}}function m(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Ze(t){return t===""?null:+t}function Nn(t){return Array.from(t.childNodes)}function U(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function F(t,e){t.value=e==null?"":e}function Qe(t,e){for(let n=0;n<t.options.length;n+=1){const o=t.options[n];if(o.__value===e){o.selected=!0;return}}t.selectedIndex=-1}function cn(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function ze(t,e,n){t.classList[n?"add":"remove"](e)}function un(t,e,{bubbles:n=!1,cancelable:o=!1}={}){const l=document.createEvent("CustomEvent");return l.initCustomEvent(t,n,o,e),l}class Fn{constructor(e=!1){this.is_svg=!1,this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,o=null){this.e||(this.is_svg?this.e=lt(n.nodeName):this.e=w(n.nodeName),this.t=n,this.c(e)),this.i(o)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)C(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach($)}}function We(t,e){return new t(e)}const Xe=new Map;let Ye=0;function An(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function Ln(t,e){const n={stylesheet:Rn(e),rules:{}};return Xe.set(t,n),n}function dt(t,e,n,o,l,s,r,a=0){const i=16.666/o;let u=`{
`;for(let k=0;k<=1;k+=i){const h=e+(n-e)*s(k);u+=k*100+`%{${r(h,1-h)}}
`}const c=u+`100% {${r(n,1-n)}}
}`,p=`__svelte_${An(c)}_${a}`,d=an(t),{stylesheet:g,rules:b}=Xe.get(d)||Ln(d,t);b[p]||(b[p]=!0,g.insertRule(`@keyframes ${p} ${c}`,g.cssRules.length));const _=t.style.animation||"";return t.style.animation=`${_?`${_}, `:""}${p} ${o}ms linear ${l}ms 1 both`,Ye+=1,p}function Je(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?s=>s.indexOf(e)<0:s=>s.indexOf("__svelte")===-1),l=n.length-o.length;l&&(t.style.animation=o.join(", "),Ye-=l,Ye||Bn())}function Bn(){pt(()=>{Ye||(Xe.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&$(e)}),Xe.clear())})}function Mn(t,e,n,o){if(!e)return j;const l=t.getBoundingClientRect();if(e.left===l.left&&e.right===l.right&&e.top===l.top&&e.bottom===l.bottom)return j;const{delay:s=0,duration:r=300,easing:a=Oe,start:i=tt()+s,end:u=i+r,tick:c=j,css:p}=n(t,{from:e,to:l},o);let d=!0,g=!1,b;function _(){p&&(b=dt(t,0,1,r,s,a,p)),s||(g=!0)}function k(){p&&Je(t,b),d=!1}return nt(h=>{if(!g&&h>=i&&(g=!0),g&&h>=u&&(c(1,0),k()),!d)return!1;if(g){const v=h-i,y=0+1*a(v/r);c(y,1-y)}return!0}),_(),c(0,1),k}function Un(t){const e=getComputedStyle(t);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:n,height:o}=e,l=t.getBoundingClientRect();t.style.position="absolute",t.style.width=n,t.style.height=o,fn(t,l)}}function fn(t,e){const n=t.getBoundingClientRect();if(e.left!==n.left||e.top!==n.top){const o=getComputedStyle(t),l=o.transform==="none"?"":o.transform;t.style.transform=`${l} translate(${e.left-n.left}px, ${e.top-n.top}px)`}}let Le;function Fe(t){Le=t}function ht(){if(!Le)throw new Error("Function called outside component initialization");return Le}function _t(t){ht().$$.on_mount.push(t)}function Hn(t){ht().$$.on_destroy.push(t)}function Pe(){const t=ht();return(e,n,{cancelable:o=!1}={})=>{const l=t.$$.callbacks[e];if(l){const s=un(e,n,{cancelable:o});return l.slice().forEach(r=>{r.call(t,s)}),!s.defaultPrevented}return!0}}const Ne=[],$t=[],Ge=[],Ct=[],qn=Promise.resolve();let at=!1;function zn(){at||(at=!0,qn.then(pn))}function ye(t){Ge.push(t)}const rt=new Set;let xe=0;function pn(){const t=Le;do{for(;xe<Ne.length;){const e=Ne[xe];xe++,Fe(e),xn(e.$$)}for(Fe(null),Ne.length=0,xe=0;$t.length;)$t.pop()();for(let e=0;e<Ge.length;e+=1){const n=Ge[e];rt.has(n)||(rt.add(n),n())}Ge.length=0}while(Ne.length);for(;Ct.length;)Ct.pop()();at=!1,rt.clear(),Fe(t)}function xn(t){if(t.fragment!==null){t.update(),J(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ye)}}let je;function dn(){return je||(je=Promise.resolve(),je.then(()=>{je=null})),je}function et(t,e,n){t.dispatchEvent(un(`${e?"intro":"outro"}${n}`))}const Ke=new Set;let ke;function ae(){ke={r:0,c:[],p:ke}}function ce(){ke.r||J(ke.c),ke=ke.p}function R(t,e){t&&t.i&&(Ke.delete(t),t.i(e))}function A(t,e,n,o){if(t&&t.o){if(Ke.has(t))return;Ke.add(t),ke.c.push(()=>{Ke.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}else o&&o()}const hn={duration:0};function Gn(t,e,n){let o=e(t,n),l=!1,s,r,a=0;function i(){s&&Je(t,s)}function u(){const{delay:p=0,duration:d=300,easing:g=Oe,tick:b=j,css:_}=o||hn;_&&(s=dt(t,0,1,d,p,g,_,a++)),b(0,1);const k=tt()+p,h=k+d;r&&r.abort(),l=!0,ye(()=>et(t,!0,"start")),r=nt(v=>{if(l){if(v>=h)return b(1,0),et(t,!0,"end"),i(),l=!1;if(v>=k){const y=g((v-k)/d);b(y,1-y)}}return l})}let c=!1;return{start(){c||(c=!0,Je(t),Me(o)?(o=o(),dn().then(u)):u())},invalidate(){c=!1},end(){l&&(i(),l=!1)}}}function Kn(t,e,n){let o=e(t,n),l=!0,s;const r=ke;r.r+=1;function a(){const{delay:i=0,duration:u=300,easing:c=Oe,tick:p=j,css:d}=o||hn;d&&(s=dt(t,1,0,u,i,c,d));const g=tt()+i,b=g+u;ye(()=>et(t,!1,"start")),nt(_=>{if(l){if(_>=b)return p(0,1),et(t,!1,"end"),--r.r||J(r.c),!1;if(_>=g){const k=c((_-g)/u);p(1-k,k)}}return l})}return Me(o)?dn().then(()=>{o=o(),a()}):a(),{end(i){i&&o.tick&&o.tick(1,0),l&&(s&&Je(t,s),l=!1)}}}function Zn(t,e){A(t,1,1,()=>{e.delete(t.key)})}function Qn(t,e){t.f(),Zn(t,e)}function Wn(t,e,n,o,l,s,r,a,i,u,c,p){let d=t.length,g=s.length,b=d;const _={};for(;b--;)_[t[b].key]=b;const k=[],h=new Map,v=new Map;for(b=g;b--;){const S=p(l,s,b),O=n(S);let N=r.get(O);N?o&&N.p(S,e):(N=u(O,S),N.c()),h.set(O,k[b]=N),O in _&&v.set(O,Math.abs(b-_[O]))}const y=new Set,I=new Set;function D(S){R(S,1),S.m(a,c),r.set(S.key,S),c=S.first,g--}for(;d&&g;){const S=k[g-1],O=t[d-1],N=S.key,E=O.key;S===O?(c=S.first,d--,g--):h.has(E)?!r.has(N)||y.has(N)?D(S):I.has(E)?d--:v.get(N)>v.get(E)?(I.add(N),D(S)):(y.add(E),d--):(i(O,r),d--)}for(;d--;){const S=t[d];h.has(S.key)||i(S,r)}for(;g;)D(k[g-1]);return k}function _n(t,e){const n={},o={},l={$$scope:1};let s=t.length;for(;s--;){const r=t[s],a=e[s];if(a){for(const i in r)i in a||(o[i]=1);for(const i in a)l[i]||(n[i]=a[i],l[i]=1);t[s]=a}else for(const i in r)l[i]=1}for(const r in o)r in n||(n[r]=void 0);return n}function mn(t){return typeof t=="object"&&t!==null?t:{}}function x(t){t&&t.c()}function q(t,e,n,o){const{fragment:l,after_update:s}=t.$$;l&&l.m(e,n),o||ye(()=>{const r=t.$$.on_mount.map(ln).filter(Me);t.$$.on_destroy?t.$$.on_destroy.push(...r):J(r),t.$$.on_mount=[]}),s.forEach(ye)}function z(t,e){const n=t.$$;n.fragment!==null&&(J(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Xn(t,e){t.$$.dirty[0]===-1&&(Ne.push(t),zn(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function K(t,e,n,o,l,s,r,a=[-1]){const i=Le;Fe(t);const u=t.$$={fragment:null,ctx:[],props:s,update:j,not_equal:l,bound:kt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(i?i.$$.context:[])),callbacks:kt(),dirty:a,skip_bound:!1,root:e.target||i.$$.root};r&&r(u.root);let c=!1;if(u.ctx=n?n(t,e.props||{},(p,d,...g)=>{const b=g.length?g[0]:d;return u.ctx&&l(u.ctx[p],u.ctx[p]=b)&&(!u.skip_bound&&u.bound[p]&&u.bound[p](b),c&&Xn(t,p)),d}):[],u.update(),c=!0,J(u.before_update),u.fragment=o?o(u.ctx):!1,e.target){if(e.hydrate){const p=Nn(e.target);u.fragment&&u.fragment.l(p),p.forEach($)}else u.fragment&&u.fragment.c();e.intro&&R(t.$$.fragment),q(t,e.target,e.anchor,e.customElement),pn()}Fe(i)}class Z{$destroy(){z(this,1),this.$destroy=j}$on(e,n){if(!Me(n))return j;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const l=o.indexOf(n);l!==-1&&o.splice(l,1)}}$set(e){this.$$set&&!Dn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}let Y="http://",De=import.meta.url;De=De.split("config.js")[0];console.log(`Path: ${De}`);const It={"http://localhost:5173/src/":"http://localhost","http://mersey.cs.nott.ac.uk/~psxaa48/police/main.js":"http://mersey.cs.nott.ac.uk/~psxaa48/police"};It[De]?Y=It[De]:(console.log("Did not find a custom root to use. Using default localhost to get php files"),Y="http://localhost");console.log(`Root: ${Y}`);let ge="";const Dt={"http://localhost:5173/src/":"","http://mersey.cs.nott.ac.uk/~psxaa48/police/main.js":"/~psxaa48/police"};Dt[De]?ge=Dt[De]:console.log("Did not find a custom url prefix to use. Defaulting to /");var ct=Array.isArray||function(t){return Object.prototype.toString.call(t)=="[object Array]"},Ue=wn,Yn=mt,Jn=ll,el=bn,tl=vn,nl=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^()])+)\\))?|\\(((?:\\\\.|[^()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function mt(t){for(var e=[],n=0,o=0,l="",s;(s=nl.exec(t))!=null;){var r=s[0],a=s[1],i=s.index;if(l+=t.slice(o,i),o=i+r.length,a){l+=a[1];continue}l&&(e.push(l),l="");var u=s[2],c=s[3],p=s[4],d=s[5],g=s[6],b=s[7],_=g==="+"||g==="*",k=g==="?"||g==="*",h=u||"/",v=p||d||(b?".*":"[^"+h+"]+?");e.push({name:c||n++,prefix:u||"",delimiter:h,optional:k,repeat:_,pattern:ol(v)})}return o<t.length&&(l+=t.substr(o)),l&&e.push(l),e}function ll(t){return bn(mt(t))}function bn(t){for(var e=new Array(t.length),n=0;n<t.length;n++)typeof t[n]=="object"&&(e[n]=new RegExp("^"+t[n].pattern+"$"));return function(o){for(var l="",s=o||{},r=0;r<t.length;r++){var a=t[r];if(typeof a=="string"){l+=a;continue}var i=s[a.name],u;if(i==null){if(a.optional)continue;throw new TypeError('Expected "'+a.name+'" to be defined')}if(ct(i)){if(!a.repeat)throw new TypeError('Expected "'+a.name+'" to not repeat, but received "'+i+'"');if(i.length===0){if(a.optional)continue;throw new TypeError('Expected "'+a.name+'" to not be empty')}for(var c=0;c<i.length;c++){if(u=encodeURIComponent(i[c]),!e[r].test(u))throw new TypeError('Expected all "'+a.name+'" to match "'+a.pattern+'", but received "'+u+'"');l+=(c===0?a.prefix:a.delimiter)+u}continue}if(u=encodeURIComponent(i),!e[r].test(u))throw new TypeError('Expected "'+a.name+'" to match "'+a.pattern+'", but received "'+u+'"');l+=a.prefix+u}return l}}function Et(t){return t.replace(/([.+*?=^!:${}()[\]|\/])/g,"\\$1")}function ol(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function bt(t,e){return t.keys=e,t}function gn(t){return t.sensitive?"":"i"}function sl(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var o=0;o<n.length;o++)e.push({name:o,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return bt(t,e)}function rl(t,e,n){for(var o=[],l=0;l<t.length;l++)o.push(wn(t[l],e,n).source);var s=new RegExp("(?:"+o.join("|")+")",gn(n));return bt(s,e)}function il(t,e,n){for(var o=mt(t),l=vn(o,n),s=0;s<o.length;s++)typeof o[s]!="string"&&e.push(o[s]);return bt(l,e)}function vn(t,e){e=e||{};for(var n=e.strict,o=e.end!==!1,l="",s=t[t.length-1],r=typeof s=="string"&&/\/$/.test(s),a=0;a<t.length;a++){var i=t[a];if(typeof i=="string")l+=Et(i);else{var u=Et(i.prefix),c=i.pattern;i.repeat&&(c+="(?:"+u+c+")*"),i.optional?u?c="(?:"+u+"("+c+"))?":c="("+c+")?":c=u+"("+c+")",l+=c}}return n||(l=(r?l.slice(0,-2):l)+"(?:\\/(?=$))?"),o?l+="$":l+=n&&r?"":"(?=\\/|$)",new RegExp("^"+l,gn(e))}function wn(t,e,n){return e=e||[],ct(e)?n||(n={}):(n=e,e=[]),t instanceof RegExp?sl(t,e):ct(t)?rl(t,e,n):il(t,e,n)}Ue.parse=Yn;Ue.compile=Jn;Ue.tokensToFunction=el;Ue.tokensToRegExp=tl;var Te=typeof document<"u",_e=typeof window<"u",ot=typeof history<"u",al=typeof process<"u",ut=Te&&document.ontouchstart?"touchstart":"click",we=_e&&!!(window.history.location||window.location);function ee(){this.callbacks=[],this.exits=[],this.current="",this.len=0,this._decodeURLComponents=!0,this._base="",this._strict=!1,this._running=!1,this._hashbang=!1,this.clickHandler=this.clickHandler.bind(this),this._onpopstate=this._onpopstate.bind(this)}ee.prototype.configure=function(t){var e=t||{};this._window=e.window||_e&&window,this._decodeURLComponents=e.decodeURLComponents!==!1,this._popstate=e.popstate!==!1&&_e,this._click=e.click!==!1&&Te,this._hashbang=!!e.hashbang;var n=this._window;this._popstate?n.addEventListener("popstate",this._onpopstate,!1):_e&&n.removeEventListener("popstate",this._onpopstate,!1),this._click?n.document.addEventListener(ut,this.clickHandler,!1):Te&&n.document.removeEventListener(ut,this.clickHandler,!1),this._hashbang&&_e&&!ot?n.addEventListener("hashchange",this._onpopstate,!1):_e&&n.removeEventListener("hashchange",this._onpopstate,!1)};ee.prototype.base=function(t){if(arguments.length===0)return this._base;this._base=t};ee.prototype._getBase=function(){var t=this._base;if(t)return t;var e=_e&&this._window&&this._window.location;return _e&&this._hashbang&&e&&e.protocol==="file:"&&(t=e.pathname),t};ee.prototype.strict=function(t){if(arguments.length===0)return this._strict;this._strict=t};ee.prototype.start=function(t){var e=t||{};if(this.configure(e),e.dispatch!==!1){this._running=!0;var n;if(we){var o=this._window,l=o.location;this._hashbang&&~l.hash.indexOf("#!")?n=l.hash.substr(2)+l.search:this._hashbang?n=l.search+l.hash:n=l.pathname+l.search+l.hash}this.replace(n,null,!0,e.dispatch)}};ee.prototype.stop=function(){if(!!this._running){this.current="",this.len=0,this._running=!1;var t=this._window;this._click&&t.document.removeEventListener(ut,this.clickHandler,!1),_e&&t.removeEventListener("popstate",this._onpopstate,!1),_e&&t.removeEventListener("hashchange",this._onpopstate,!1)}};ee.prototype.show=function(t,e,n,o){var l=new He(t,e,this),s=this.prevContext;return this.prevContext=l,this.current=l.path,n!==!1&&this.dispatch(l,s),l.handled!==!1&&o!==!1&&l.pushState(),l};ee.prototype.back=function(t,e){var n=this;if(this.len>0){var o=this._window;ot&&o.history.back(),this.len--}else setTimeout(t?function(){n.show(t,e)}:function(){n.show(n._getBase(),e)})};ee.prototype.redirect=function(t,e){var n=this;typeof t=="string"&&typeof e=="string"&&st.call(this,t,function(o){setTimeout(function(){n.replace(e)},0)}),typeof t=="string"&&typeof e>"u"&&setTimeout(function(){n.replace(t)},0)};ee.prototype.replace=function(t,e,n,o){var l=new He(t,e,this),s=this.prevContext;return this.prevContext=l,this.current=l.path,l.init=n,l.save(),o!==!1&&this.dispatch(l,s),l};ee.prototype.dispatch=function(t,e){var n=0,o=0,l=this;function s(){var a=l.exits[o++];if(!a)return r();a(e,s)}function r(){var a=l.callbacks[n++];if(t.path!==l.current){t.handled=!1;return}if(!a)return cl.call(l,t);a(t,r)}e?s():r()};ee.prototype.exit=function(t,e){if(typeof t=="function")return this.exit("*",t);for(var n=new qe(t,null,this),o=1;o<arguments.length;++o)this.exits.push(n.middleware(arguments[o]))};ee.prototype.clickHandler=function(t){if(this._which(t)===1&&!(t.metaKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented){var e=t.target,n=t.path||(t.composedPath?t.composedPath():null);if(n){for(var o=0;o<n.length;o++)if(!!n[o].nodeName&&n[o].nodeName.toUpperCase()==="A"&&!!n[o].href){e=n[o];break}}for(;e&&e.nodeName.toUpperCase()!=="A";)e=e.parentNode;if(!(!e||e.nodeName.toUpperCase()!=="A")){var l=typeof e.href=="object"&&e.href.constructor.name==="SVGAnimatedString";if(!(e.hasAttribute("download")||e.getAttribute("rel")==="external")){var s=e.getAttribute("href");if(!(!this._hashbang&&this._samePath(e)&&(e.hash||s==="#"))&&!(s&&s.indexOf("mailto:")>-1)&&!(l?e.target.baseVal:e.target)&&!(!l&&!this.sameOrigin(e.href))){var r=l?e.href.baseVal:e.pathname+e.search+(e.hash||"");r=r[0]!=="/"?"/"+r:r,al&&r.match(/^\/[a-zA-Z]:\//)&&(r=r.replace(/^\/[a-zA-Z]:\//,"/"));var a=r,i=this._getBase();r.indexOf(i)===0&&(r=r.substr(i.length)),this._hashbang&&(r=r.replace("#!","")),!(i&&a===r&&(!we||this._window.location.protocol!=="file:"))&&(t.preventDefault(),this.show(a))}}}}};ee.prototype._onpopstate=function(){var t=!1;return _e?(Te&&document.readyState==="complete"?t=!0:window.addEventListener("load",function(){setTimeout(function(){t=!0},0)}),function(n){if(!!t){var o=this;if(n.state){var l=n.state.path;o.replace(l,n.state)}else if(we){var s=o._window.location;o.show(s.pathname+s.search+s.hash,void 0,void 0,!1)}}}):function(){}}();ee.prototype._which=function(t){return t=t||_e&&this._window.event,t.which==null?t.button:t.which};ee.prototype._toURL=function(t){var e=this._window;if(typeof URL=="function"&&we)return new URL(t,e.location.toString());if(Te){var n=e.document.createElement("a");return n.href=t,n}};ee.prototype.sameOrigin=function(t){if(!t||!we)return!1;var e=this._toURL(t),n=this._window,o=n.location;return o.protocol===e.protocol&&o.hostname===e.hostname&&(o.port===e.port||o.port===""&&(e.port==80||e.port==443))};ee.prototype._samePath=function(t){if(!we)return!1;var e=this._window,n=e.location;return t.pathname===n.pathname&&t.search===n.search};ee.prototype._decodeURLEncodedURIComponent=function(t){return typeof t!="string"?t:this._decodeURLComponents?decodeURIComponent(t.replace(/\+/g," ")):t};function kn(){var t=new ee;function e(){return st.apply(t,arguments)}return e.callbacks=t.callbacks,e.exits=t.exits,e.base=t.base.bind(t),e.strict=t.strict.bind(t),e.start=t.start.bind(t),e.stop=t.stop.bind(t),e.show=t.show.bind(t),e.back=t.back.bind(t),e.redirect=t.redirect.bind(t),e.replace=t.replace.bind(t),e.dispatch=t.dispatch.bind(t),e.exit=t.exit.bind(t),e.configure=t.configure.bind(t),e.sameOrigin=t.sameOrigin.bind(t),e.clickHandler=t.clickHandler.bind(t),e.create=kn,Object.defineProperty(e,"len",{get:function(){return t.len},set:function(n){t.len=n}}),Object.defineProperty(e,"current",{get:function(){return t.current},set:function(n){t.current=n}}),e.Context=He,e.Route=qe,e}function st(t,e){if(typeof t=="function")return st.call(this,"*",t);if(typeof e=="function")for(var n=new qe(t,null,this),o=1;o<arguments.length;++o)this.callbacks.push(n.middleware(arguments[o]));else typeof t=="string"?this[typeof e=="string"?"redirect":"show"](t,e):this.start(t)}function cl(t){if(!t.handled){var e,n=this,o=n._window;n._hashbang?e=we&&this._getBase()+o.location.hash.replace("#!",""):e=we&&o.location.pathname+o.location.search,e!==t.canonicalPath&&(n.stop(),t.handled=!1,we&&(o.location.href=t.canonicalPath))}}function ul(t){return t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function He(t,e,n){var o=this.page=n||st,l=o._window,s=o._hashbang,r=o._getBase();t[0]==="/"&&t.indexOf(r)!==0&&(t=r+(s?"#!":"")+t);var a=t.indexOf("?");this.canonicalPath=t;var i=new RegExp("^"+ul(r));if(this.path=t.replace(i,"")||"/",s&&(this.path=this.path.replace("#!","")||"/"),this.title=Te&&l.document.title,this.state=e||{},this.state.path=t,this.querystring=~a?o._decodeURLEncodedURIComponent(t.slice(a+1)):"",this.pathname=o._decodeURLEncodedURIComponent(~a?t.slice(0,a):t),this.params={},this.hash="",!s){if(!~this.path.indexOf("#"))return;var u=this.path.split("#");this.path=this.pathname=u[0],this.hash=o._decodeURLEncodedURIComponent(u[1])||"",this.querystring=this.querystring.split("#")[0]}}He.prototype.pushState=function(){var t=this.page,e=t._window,n=t._hashbang;t.len++,ot&&e.history.pushState(this.state,this.title,n&&this.path!=="/"?"#!"+this.path:this.canonicalPath)};He.prototype.save=function(){var t=this.page;ot&&t._window.history.replaceState(this.state,this.title,t._hashbang&&this.path!=="/"?"#!"+this.path:this.canonicalPath)};function qe(t,e,n){var o=this.page=n||gt,l=e||{};l.strict=l.strict||o._strict,this.path=t==="*"?"(.*)":t,this.method="GET",this.regexp=Ue(this.path,this.keys=[],l)}qe.prototype.middleware=function(t){var e=this;return function(n,o){if(e.match(n.path,n.params))return n.routePath=e.path,t(n,o);o()}};qe.prototype.match=function(t,e){var n=this.keys,o=t.indexOf("?"),l=~o?t.slice(0,o):t,s=this.regexp.exec(decodeURIComponent(l));if(!s)return!1;delete e[0];for(var r=1,a=s.length;r<a;++r){var i=n[r-1],u=this.page._decodeURLEncodedURIComponent(s[r]);(u!==void 0||!hasOwnProperty.call(e,i.name))&&(e[i.name]=u)}return!0};var gt=kn(),ue=gt,fl=gt;ue.default=fl;const Ve=[];function Ee(t,e=j){let n;const o=new Set;function l(a){if(G(t,a)&&(t=a,n)){const i=!Ve.length;for(const u of o)u[1](),Ve.push(u,t);if(i){for(let u=0;u<Ve.length;u+=2)Ve[u][0](Ve[u+1]);Ve.length=0}}}function s(a){l(a(t))}function r(a,i=j){const u=[a,i];return o.add(u),o.size===1&&(n=e(l)||j),a(t),()=>{o.delete(u),o.size===0&&(n(),n=null)}}return{set:l,update:s,subscribe:r}}let be=Ee({loggedIn:!1});function pl(t){let e,n,o;return{c(){e=w("input"),m(e,"type","password"),m(e,"name","password")},m(l,s){C(l,e,s),F(e,t[1]),n||(o=T(e,"input",t[6]),n=!0)},p(l,s){s&2&&e.value!==l[1]&&F(e,l[1])},d(l){l&&$(e),n=!1,o()}}}function dl(t){let e,n,o;return{c(){e=w("input"),m(e,"class","border-red-700 border-2 -m-0.5 "),m(e,"type","password"),m(e,"name","password")},m(l,s){C(l,e,s),F(e,t[1]),n||(o=T(e,"input",t[5]),n=!0)},p(l,s){s&2&&e.value!==l[1]&&F(e,l[1])},d(l){l&&$(e),n=!1,o()}}}function hl(t){let e,n,o,l,s,r,a,i,u,c,p,d,g,b,_,k,h,v,y,I;function D(N,E){return N[2].message=="password was incorrect"?dl:pl}let S=D(t),O=S(t);return{c(){e=w("main"),n=w("div"),o=w("div"),o.innerHTML=`<h2 class="text-4xl text-white font-semibold max-w-xs">Managing traffic incidents made
                <span class="text-sky-300 font-bold italic">easy!</span></h2>`,l=P(),s=w("div"),r=w("h2"),r.textContent="Login",a=P(),i=w("form"),u=w("div"),c=w("div"),c.innerHTML=`<label for="username">Username:</label> 
                        <label for="password">Password:</label>`,p=P(),d=w("div"),g=w("input"),b=P(),O.c(),_=P(),k=w("button"),h=V("Sign in"),m(o,"class","self-start"),m(r,"class","text-xl font-bold"),m(c,"class","flex flex-col gap-2 items-end"),m(g,"type","text"),m(g,"name","username"),m(d,"class","flex flex-col gap-2"),m(u,"class","flex gap-2 font-semibold mb-5"),k.disabled=v=!t[0]&&!t[1],m(k,"type","submit"),m(k,"class","bg-sky-500 hover:bg-sky-400 rounded w-max px-6 py-2 font-semibold shadow hover:mb-0.5 hover:-mt-0.5 duration-75 transition-all"),m(s,"class","flex flex-col items-center gap-6 text-center bg-opacity-90 bg-sky-200 rounded-lg w-96 px-5 pt-10 pb-16 min-w-min shadow"),m(n,"class","flex justify-center items-center gap-4 p-10 h-max"),m(e,"class","bg-traffic bg-no-repeat bg-cover bg-center h-[40rem] grid items-center")},m(N,E){C(N,e,E),f(e,n),f(n,o),f(n,l),f(n,s),f(s,r),f(s,a),f(s,i),f(i,u),f(u,c),f(u,p),f(u,d),f(d,g),F(g,t[0]),f(d,b),O.m(d,null),f(i,_),f(i,k),f(k,h),y||(I=[T(g,"input",t[4]),T(i,"submit",de(t[3]))],y=!0)},p(N,[E]){E&1&&g.value!==N[0]&&F(g,N[0]),S===(S=D(N))&&O?O.p(N,E):(O.d(1),O=S(N),O&&(O.c(),O.m(d,null))),E&3&&v!==(v=!N[0]&&!N[1])&&(k.disabled=v)},i:j,o:j,d(N){N&&$(e),O.d(),y=!1,J(I)}}}function _l(t,e,n){let o;fe(t,be,c=>n(2,o=c));let l,s;const r=async()=>{let c=new FormData;c.append("username",l),c.append("password",s);const p=`${Y}/backend/user/login.php`;let d=await fetch(p,{method:"POST",body:c});d=await d.json(),c=d.data,typeof c=="object"&&c!=null?(ve(be,o.loggedIn=!0,o),ve(be,o.username=c.username,o),ve(be,o.admin=c.admin,o),ve(be,o.message="",o),ue("/dashboard")):ve(be,o.message=c,o),console.log(o)};function a(){l=this.value,n(0,l)}function i(){s=this.value,n(1,s)}function u(){s=this.value,n(1,s)}return[l,s,o,r,a,i,u]}class ml extends Z{constructor(e){super(),K(this,e,_l,hl,G,{})}}function bl(t){let e,n,o,l,s,r,a=t[1].length+"",i,u;return{c(){e=w("a"),n=w("div"),o=w("h2"),l=V(t[0]),s=P(),r=w("p"),i=V(a),u=V(" Records"),m(o,"class","font-bold text-xl"),m(r,"class","text-lg"),m(n,"class","m-2 rounded p-4 shadow w-44 h-44 border-4 border-sky-200 bg-sky-200 bg-opacity-70 relative"),m(e,"href",t[2])},m(c,p){C(c,e,p),f(e,n),f(n,o),f(o,l),f(n,s),f(n,r),f(r,i),f(r,u)},p(c,[p]){p&1&&U(l,c[0]),p&2&&a!==(a=c[1].length+"")&&U(i,a),p&4&&m(e,"href",c[2])},i:j,o:j,d(c){c&&$(e)}}}function gl(t,e,n){let{title:o}=e,{data:l}=e,{route:s}=e;return t.$$set=r=>{"title"in r&&n(0,o=r.title),"data"in r&&n(1,l=r.data),"route"in r&&n(2,s=r.route)},[o,l,s]}class it extends Z{constructor(e){super(),K(this,e,gl,bl,G,{title:0,data:1,route:2})}}let Vt=Ee([]),St=Ee([]),Tt=Ee([]);function vl(t){let e,n,o,l,s,r,a,i;return o=new it({props:{title:"People",data:t[2],route:"./people"}}),s=new it({props:{title:"Vehicles",data:t[1],route:"./vehicles"}}),a=new it({props:{title:"Reports",data:t[0],route:"./reports"}}),{c(){e=w("div"),n=w("main"),x(o.$$.fragment),l=P(),x(s.$$.fragment),r=P(),x(a.$$.fragment),m(n,"class","flex flex-wrap justify-center"),m(e,"class","bg-traffic bg-no-repeat bg-cover bg-center h-screen")},m(u,c){C(u,e,c),f(e,n),q(o,n,null),f(n,l),q(s,n,null),f(n,r),q(a,n,null),i=!0},p(u,[c]){const p={};c&4&&(p.data=u[2]),o.$set(p);const d={};c&2&&(d.data=u[1]),s.$set(d);const g={};c&1&&(g.data=u[0]),a.$set(g)},i(u){i||(R(o.$$.fragment,u),R(s.$$.fragment,u),R(a.$$.fragment,u),i=!0)},o(u){A(o.$$.fragment,u),A(s.$$.fragment,u),A(a.$$.fragment,u),i=!1},d(u){u&&$(e),z(o),z(s),z(a)}}}function wl(t,e,n){let o,l,s;return fe(t,Tt,r=>n(0,o=r)),fe(t,St,r=>n(1,l=r)),fe(t,Vt,r=>n(2,s=r)),_t(async()=>{const r=`${Y}/backend/person/get-people.php`;let a=await fetch(r);a=await a.json(),ve(Vt,s=a.data,s);const i=`${Y}/backend/vehicle/get-vehicles.php`;a=await fetch(i),a=await a.json(),ve(St,l=a.data,l);const u=`${Y}/backend/report/get-reports.php`;a=await fetch(u),a=await a.json(),ve(Tt,o=a.data,o)}),[o,l,s]}class kl extends Z{constructor(e){super(),K(this,e,wl,vl,G,{})}}function yn(t){const e=t-1;return e*e*e+1}function yl(t,{delay:e=0,duration:n=400,easing:o=Oe}={}){const l=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:o,css:s=>`opacity: ${s*l}`}}function Pl(t,{delay:e=0,duration:n=400,easing:o=yn,x:l=0,y:s=0,opacity:r=0}={}){const a=getComputedStyle(t),i=+a.opacity,u=a.transform==="none"?"":a.transform,c=i*(1-r);return{delay:e,duration:n,easing:o,css:(p,d)=>`
			transform: ${u} translate(${(1-p)*l}px, ${(1-p)*s}px);
			opacity: ${i-c*d}`}}function $l(t,{from:e,to:n},o={}){const l=getComputedStyle(t),s=l.transform==="none"?"":l.transform,[r,a]=l.transformOrigin.split(" ").map(parseFloat),i=e.left+e.width*r/n.width-(n.left+r),u=e.top+e.height*a/n.height-(n.top+a),{delay:c=0,duration:p=g=>Math.sqrt(g)*120,easing:d=yn}=o;return{delay:c,duration:Me(p)?p(Math.sqrt(i*i+u*u)):p,easing:d,css:(g,b)=>{const _=b*i,k=b*u,h=g+b*e.width/n.width,v=g+b*e.height/n.height;return`transform: ${s} translate(${_}px, ${k}px) scale(${h}, ${v});`}}}const Cl={duration:4e3,initial:1,next:0,pausable:!1,dismissable:!0,reversed:!1,intro:{x:256}},Il=()=>{const{subscribe:t,update:e}=Ee([]);let n=0;const o={},l=u=>u instanceof Object;return{subscribe:t,push:(u,c={})=>{const p={target:"default",...l(u)?u:{...c,msg:u}},d=o[p.target]||{},g={...Cl,...d,...p,theme:{...d.theme,...p.theme},classes:[...d.classes||[],...p.classes||[]],id:++n};return e(b=>g.reversed?[...b,g]:[g,...b]),n},pop:u=>{e(c=>{if(!c.length||u===0)return[];if(l(u))return c.filter(d=>u(d));const p=u||Math.max(...c.map(d=>d.id));return c.filter(d=>d.id!==p)})},set:(u,c={})=>{const p=l(u)?{...u}:{...c,id:u};e(d=>{const g=d.findIndex(b=>b.id===p.id);return g>-1&&(d[g]={...d[g],...p}),d})},_init:(u="default",c={})=>(o[u]=c,o)}},Be=Il();function Ot(t){return Object.prototype.toString.call(t)==="[object Date]"}function ft(t,e){if(t===e||t!==t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const o=e.map((l,s)=>ft(t[s],l));return l=>o.map(s=>s(l))}if(n==="object"){if(!t||!e)throw new Error("Object cannot be null");if(Ot(t)&&Ot(e)){t=t.getTime(),e=e.getTime();const s=e-t;return r=>new Date(t+r*s)}const o=Object.keys(e),l={};return o.forEach(s=>{l[s]=ft(t[s],e[s])}),s=>{const r={};return o.forEach(a=>{r[a]=l[a](s)}),r}}if(n==="number"){const o=e-t;return l=>t+l*o}throw new Error(`Cannot interpolate ${n} values`)}function Dl(t,e={}){const n=Ee(t);let o,l=t;function s(r,a){if(t==null)return n.set(t=r),Promise.resolve();l=r;let i=o,u=!1,{delay:c=0,duration:p=400,easing:d=Oe,interpolate:g=ft}=Ie(Ie({},e),a);if(p===0)return i&&(i.abort(),i=null),n.set(t=l),Promise.resolve();const b=tt()+c;let _;return o=nt(k=>{if(k<b)return!0;u||(_=g(t,r),typeof p=="function"&&(p=p(t,r)),u=!0),i&&(i.abort(),i=null);const h=k-b;return h>p?(n.set(t=r),!1):(n.set(t=_(d(h/p))),!0)}),o.promise}return{set:s,update:(r,a)=>s(r(l,t),a),subscribe:n.subscribe}}function El(t){let e,n=t[0].msg+"",o;return{c(){e=new Fn(!1),o=pe(),e.a=o},m(l,s){e.m(n,l,s),C(l,o,s)},p(l,s){s&1&&n!==(n=l[0].msg+"")&&e.p(n)},i:j,o:j,d(l){l&&$(o),l&&e.d()}}}function Vl(t){let e,n,o;const l=[t[2]];var s=t[0].component.src;function r(a){let i={};for(let u=0;u<l.length;u+=1)i=Ie(i,l[u]);return{props:i}}return s&&(e=We(s,r())),{c(){e&&x(e.$$.fragment),n=pe()},m(a,i){e&&q(e,a,i),C(a,n,i),o=!0},p(a,i){const u=i&4?_n(l,[mn(a[2])]):{};if(s!==(s=a[0].component.src)){if(e){ae();const c=e;A(c.$$.fragment,1,0,()=>{z(c,1)}),ce()}s?(e=We(s,r()),x(e.$$.fragment),R(e.$$.fragment,1),q(e,n.parentNode,n)):e=null}else s&&e.$set(u)},i(a){o||(e&&R(e.$$.fragment,a),o=!0)},o(a){e&&A(e.$$.fragment,a),o=!1},d(a){a&&$(n),e&&z(e,a)}}}function Rt(t){let e,n,o;return{c(){e=w("div"),m(e,"class","_toastBtn pe svelte-l65oht"),m(e,"role","button"),m(e,"tabindex","0")},m(l,s){C(l,e,s),n||(o=[T(e,"click",t[4]),T(e,"keydown",t[8])],n=!0)},p:j,d(l){l&&$(e),n=!1,J(o)}}}function Sl(t){let e,n,o,l,s,r,a,i,u,c;const p=[Vl,El],d=[];function g(_,k){return _[0].component?0:1}o=g(t),l=d[o]=p[o](t);let b=t[0].dismissable&&Rt(t);return{c(){e=w("div"),n=w("div"),l.c(),s=P(),b&&b.c(),r=P(),a=w("progress"),m(n,"role","status"),m(n,"class","_toastMsg svelte-l65oht"),ze(n,"pe",t[0].component),m(a,"class","_toastBar svelte-l65oht"),a.value=t[1],m(e,"class","_toastItem svelte-l65oht"),ze(e,"pe",t[0].pausable)},m(_,k){C(_,e,k),f(e,n),d[o].m(n,null),f(e,s),b&&b.m(e,null),f(e,r),f(e,a),i=!0,u||(c=[T(e,"mouseenter",t[9]),T(e,"mouseleave",t[6])],u=!0)},p(_,[k]){let h=o;o=g(_),o===h?d[o].p(_,k):(ae(),A(d[h],1,1,()=>{d[h]=null}),ce(),l=d[o],l?l.p(_,k):(l=d[o]=p[o](_),l.c()),R(l,1),l.m(n,null)),(!i||k&1)&&ze(n,"pe",_[0].component),_[0].dismissable?b?b.p(_,k):(b=Rt(_),b.c(),b.m(e,r)):b&&(b.d(1),b=null),(!i||k&2)&&(a.value=_[1]),(!i||k&1)&&ze(e,"pe",_[0].pausable)},i(_){i||(R(l),i=!0)},o(_){A(l),i=!1},d(_){_&&$(e),d[o].d(),b&&b.d(),u=!1,J(c)}}}function Tl(t,e,n){let o,{item:l}=e;const s=Dl(l.initial,{duration:l.duration,easing:Oe});fe(t,s,y=>n(1,o=y));const r=()=>Be.pop(l.id),a=()=>{(o===1||o===0)&&r()};let i=l.initial,u=i,c=!1;const p=()=>{!c&&o!==i&&(s.set(o,{duration:0}),c=!0)},d=()=>{if(c){const y=l.duration,I=y-y*((o-u)/(i-u));s.set(i,{duration:I}).then(a),c=!1}};let g={};const b=(y,I="undefined")=>typeof y===I;let _;_t((y=document)=>{if(b(y.hidden))return;const I=()=>y.hidden?p():d(),D="visibilitychange";y.addEventListener(D,I),_=()=>y.removeEventListener(D,I),I()}),Hn(()=>{b(l.onpop,"function")&&l.onpop(l.id),_&&_()});const h=y=>{y instanceof KeyboardEvent&&["Enter"," "].includes(y.key)&&r()},v=()=>{l.pausable&&p()};return t.$$set=y=>{"item"in y&&n(0,l=y.item)},t.$$.update=()=>{if(t.$$.dirty&1&&(b(l.progress)||n(0,l.next=l.progress,l)),t.$$.dirty&131&&i!==l.next&&(n(7,i=l.next),u=o,c=!1,s.set(i).then(a)),t.$$.dirty&1&&l.component){const{props:y={},sendIdTo:I}=l.component;n(2,g={...y,...I&&{[I]:l.id}})}},[l,o,g,s,r,p,d,i,h,v]}class Ol extends Z{constructor(e){super(),K(this,e,Tl,Sl,G,{item:0})}}function jt(t,e,n){const o=t.slice();return o[5]=e[n],o}function Nt(t,e){let n,o,l,s,r,a,i,u,c=j,p;return o=new Ol({props:{item:e[5]}}),{key:t,first:null,c(){n=w("li"),x(o.$$.fragment),l=P(),m(n,"class",s=Pt(e[5].classes.join(" "))+" svelte-yh90az"),m(n,"style",r=e[1](e[5].theme)),this.first=n},m(d,g){C(d,n,g),q(o,n,null),f(n,l),p=!0},p(d,g){e=d;const b={};g&1&&(b.item=e[5]),o.$set(b),(!p||g&1&&s!==(s=Pt(e[5].classes.join(" "))+" svelte-yh90az"))&&m(n,"class",s),(!p||g&1&&r!==(r=e[1](e[5].theme)))&&m(n,"style",r)},r(){u=n.getBoundingClientRect()},f(){Un(n),c(),fn(n,u)},a(){c(),c=Mn(n,u,$l,{duration:200})},i(d){p||(R(o.$$.fragment,d),ye(()=>{i&&i.end(1),a=Gn(n,Pl,e[5].intro),a.start()}),p=!0)},o(d){A(o.$$.fragment,d),a&&a.invalidate(),i=Kn(n,yl,{}),p=!1},d(d){d&&$(n),z(o),d&&i&&i.end()}}}function Rl(t){let e,n=[],o=new Map,l,s=t[0];const r=a=>a[5].id;for(let a=0;a<s.length;a+=1){let i=jt(t,s,a),u=r(i);o.set(u,n[a]=Nt(u,i))}return{c(){e=w("ul");for(let a=0;a<n.length;a+=1)n[a].c();m(e,"class","_toastContainer svelte-yh90az")},m(a,i){C(a,e,i);for(let u=0;u<n.length;u+=1)n[u].m(e,null);l=!0},p(a,[i]){if(i&3){s=a[0],ae();for(let u=0;u<n.length;u+=1)n[u].r();n=Wn(n,i,r,1,a,s,o,e,Qn,Nt,null,jt);for(let u=0;u<n.length;u+=1)n[u].a();ce()}},i(a){if(!l){for(let i=0;i<s.length;i+=1)R(n[i]);l=!0}},o(a){for(let i=0;i<n.length;i+=1)A(n[i]);l=!1},d(a){a&&$(e);for(let i=0;i<n.length;i+=1)n[i].d()}}}function jl(t,e,n){let o;fe(t,Be,i=>n(4,o=i));let{options:l={}}=e,{target:s="default"}=e,r;const a=i=>Object.keys(i).reduce((u,c)=>`${u}${c}:${i[c]};`,"");return t.$$set=i=>{"options"in i&&n(2,l=i.options),"target"in i&&n(3,s=i.target)},t.$$.update=()=>{t.$$.dirty&12&&Be._init(s,l),t.$$.dirty&24&&n(0,r=o.filter(i=>i.target===s))},[r,a,l,s,o]}class Nl extends Z{constructor(e){super(),K(this,e,jl,Rl,G,{options:2,target:3})}}const se=t=>{Be.push(t,{theme:{"--toastColor":"mintcream","--toastBackground":"rgba(72,187,120,0.9)","--toastBarBackground":"#2F855A"}})},te=t=>{Be.push(t,{theme:{"--toastBackground":"rgba(186, 60, 60, 0.9)","--toastBarBackground":"#D11E1E"}})};function Ft(t,e,n){const o=t.slice();return o[15]=e[n],o}function Fl(t){let e,n=t[0].People_name+"",o,l,s,r=t[0].People_licence+"",a,i,u,c=t[0].People_address+"",p,d,g;function b(h,v){return h[0].Vehicles.length>0?Bl:Ll}let _=b(t),k=_(t);return{c(){e=w("h3"),o=V(n),l=P(),s=w("p"),a=V(r),i=P(),u=w("p"),p=V(c),d=P(),k.c(),g=pe(),m(e,"class","font-bold")},m(h,v){C(h,e,v),f(e,o),C(h,l,v),C(h,s,v),f(s,a),C(h,i,v),C(h,u,v),f(u,p),C(h,d,v),k.m(h,v),C(h,g,v)},p(h,v){v&1&&n!==(n=h[0].People_name+"")&&U(o,n),v&1&&r!==(r=h[0].People_licence+"")&&U(a,r),v&1&&c!==(c=h[0].People_address+"")&&U(p,c),_===(_=b(h))&&k?k.p(h,v):(k.d(1),k=_(h),k&&(k.c(),k.m(g.parentNode,g)))},d(h){h&&$(e),h&&$(l),h&&$(s),h&&$(i),h&&$(u),h&&$(d),k.d(h),h&&$(g)}}}function Al(t){let e,n,o,l,s,r,a,i,u,c,p,d,g;return{c(){e=w("form"),n=w("input"),o=P(),l=w("input"),s=P(),r=w("input"),a=P(),i=w("button"),u=V("Edit "),c=V(t[2]),n.required=!0,m(n,"class","text-black font-bold pl-1"),m(n,"name","name"),m(n,"type","text"),m(l,"class","text-black pl-1"),m(l,"name","licence"),m(l,"type","text"),m(r,"class","text-black pl-1"),m(r,"name","address"),m(r,"type","text"),i.disabled=p=t[2]=="",m(i,"type","submit"),m(i,"class","button"),m(e,"class","flex flex-col gap-1")},m(b,_){C(b,e,_),f(e,n),F(n,t[2]),f(e,o),f(e,l),F(l,t[4]),f(e,s),f(e,r),F(r,t[3]),f(e,a),f(e,i),f(i,u),f(i,c),d||(g=[T(n,"input",t[9]),T(l,"input",t[10]),T(r,"input",t[11]),T(e,"submit",de(t[7]))],d=!0)},p(b,_){_&4&&n.value!==b[2]&&F(n,b[2]),_&16&&l.value!==b[4]&&F(l,b[4]),_&8&&r.value!==b[3]&&F(r,b[3]),_&4&&U(c,b[2]),_&4&&p!==(p=b[2]=="")&&(i.disabled=p)},d(b){b&&$(e),d=!1,J(g)}}}function Ll(t){let e;return{c(){e=w("h3"),e.textContent="No Vehicles Owned"},m(n,o){C(n,e,o)},p:j,d(n){n&&$(e)}}}function Bl(t){let e,n,o,l=t[0].Vehicles,s=[];for(let r=0;r<l.length;r+=1)s[r]=At(Ft(t,l,r));return{c(){e=w("h3"),e.textContent="Vehicles",n=P(),o=w("div");for(let r=0;r<s.length;r+=1)s[r].c();m(e,"class","font-bold mt-2"),m(o,"class","flex flex-col gap-2")},m(r,a){C(r,e,a),C(r,n,a),C(r,o,a);for(let i=0;i<s.length;i+=1)s[i].m(o,null)},p(r,a){if(a&1){l=r[0].Vehicles;let i;for(i=0;i<l.length;i+=1){const u=Ft(r,l,i);s[i]?s[i].p(u,a):(s[i]=At(u),s[i].c(),s[i].m(o,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=l.length}},d(r){r&&$(e),r&&$(n),r&&$(o),Re(s,r)}}}function At(t){let e,n,o=t[15].Vehicle_make+"",l,s,r=t[15].Vehicle_model+"",a,i,u,c=t[15].Vehicle_colour+"",p,d,g,b=t[15].Vehicle_licence+"",_,k;return{c(){e=w("div"),n=w("p"),l=V(o),s=P(),a=V(r),i=P(),u=w("p"),p=V(c),d=P(),g=w("p"),_=V(b),k=P(),m(e,"class","border-b-2 border-sky-900")},m(h,v){C(h,e,v),f(e,n),f(n,l),f(n,s),f(n,a),f(e,i),f(e,u),f(u,p),f(e,d),f(e,g),f(g,_),f(e,k)},p(h,v){v&1&&o!==(o=h[15].Vehicle_make+"")&&U(l,o),v&1&&r!==(r=h[15].Vehicle_model+"")&&U(a,r),v&1&&c!==(c=h[15].Vehicle_colour+"")&&U(p,c),v&1&&b!==(b=h[15].Vehicle_licence+"")&&U(_,b)},d(h){h&&$(e)}}}function Lt(t){let e,n,o;return{c(){e=w("button"),e.textContent="Select",m(e,"class","button bg-green-600")},m(l,s){C(l,e,s),n||(o=T(e,"click",t[12]),n=!0)},p:j,d(l){l&&$(e),n=!1,o()}}}function Ml(t){let e,n,o;return{c(){e=w("button"),e.textContent="Edit",m(e,"class","button")},m(l,s){C(l,e,s),n||(o=T(e,"click",t[14]),n=!0)},p:j,d(l){l&&$(e),n=!1,o()}}}function Ul(t){let e,n,o;return{c(){e=w("button"),e.textContent="Cancel",m(e,"class","button")},m(l,s){C(l,e,s),n||(o=T(e,"click",t[13]),n=!0)},p:j,d(l){l&&$(e),n=!1,o()}}}function Hl(t){let e,n,o,l,s,r,a,i;function u(k,h){return k[5]?Al:Fl}let c=u(t),p=c(t),d=t[1]&&Lt(t);function g(k,h){return k[5]?Ul:Ml}let b=g(t),_=b(t);return{c(){e=w("div"),p.c(),n=P(),o=w("div"),d&&d.c(),l=P(),_.c(),s=P(),r=w("button"),r.textContent="Delete",m(r,"class","button bg-red-400 hover:bg-red-300"),m(o,"class","flex gap-2"),m(e,"class","text-black font-semibold m-2 rounded p-4 shadow w-96 border-4 border-sky-200 bg-sky-200 bg-opacity-90 relative")},m(k,h){C(k,e,h),p.m(e,null),f(e,n),f(e,o),d&&d.m(o,null),f(o,l),_.m(o,null),f(o,s),f(o,r),a||(i=T(r,"click",t[8]),a=!0)},p(k,[h]){c===(c=u(k))&&p?p.p(k,h):(p.d(1),p=c(k),p&&(p.c(),p.m(e,n))),k[1]?d?d.p(k,h):(d=Lt(k),d.c(),d.m(o,l)):d&&(d.d(1),d=null),b===(b=g(k))&&_?_.p(k,h):(_.d(1),_=b(k),_&&(_.c(),_.m(o,s)))},i:j,o:j,d(k){k&&$(e),p.d(),d&&d.d(),_.d(),a=!1,i()}}}function ql(t,e,n){const o=Pe();let{person:l}=e,{selectable:s}=e,r=l.People_name,a=l.People_address,i=l.People_licence,u=!1;const c=async()=>{let v=new FormData;v.append("id",l.People_ID),v.append("name",r),v.append("address",a),v.append("licence",i);const y=`${Y}/backend/person/update-person.php`;let I=await fetch(y,{method:"POST",body:v});I=await I.json(),console.log(I),I.status==1?(se("Record successfully editted!"),n(5,u=!1),o("personEditted",{People_ID:l.People_ID,People_name:r,People_address:a,People_licence:i,Vehicles:l.Vehicles})):te("Something went wrong.")},p=async()=>{const v=`${Y}/backend/person/remove-person.php?id=${l.People_ID}`;let y=await fetch(v);y=await y.json(),console.log(y),y.status==1?(se("Deleted record!"),o("personDeleted",l.People_ID)):te("Cannot delete someone found in a report.")};function d(){r=this.value,n(2,r)}function g(){i=this.value,n(4,i)}function b(){a=this.value,n(3,a)}const _=()=>{o("selected",l)},k=()=>{n(5,u=!u)},h=()=>{n(5,u=!u)};return t.$$set=v=>{"person"in v&&n(0,l=v.person),"selectable"in v&&n(1,s=v.selectable)},[l,s,r,a,i,u,o,c,p,d,g,b,_,k,h]}class zl extends Z{constructor(e){super(),K(this,e,ql,Hl,G,{person:0,selectable:1})}}function Bt(t,e,n){const o=t.slice();return o[12]=e[n],o}function Mt(t){let e,n,o;function l(c,p){if(c[2].length==1)return Gl;if(c[2].length>1)return xl}let s=l(t),r=s&&s(t),a=t[2],i=[];for(let c=0;c<a.length;c+=1)i[c]=Ut(Bt(t,a,c));const u=c=>A(i[c],1,1,()=>{i[c]=null});return{c(){e=w("section"),r&&r.c(),n=P();for(let c=0;c<i.length;c+=1)i[c].c()},m(c,p){C(c,e,p),r&&r.m(e,null),f(e,n);for(let d=0;d<i.length;d+=1)i[d].m(e,null);o=!0},p(c,p){if(s===(s=l(c))&&r?r.p(c,p):(r&&r.d(1),r=s&&s(c),r&&(r.c(),r.m(e,n))),p&37){a=c[2];let d;for(d=0;d<a.length;d+=1){const g=Bt(c,a,d);i[d]?(i[d].p(g,p),R(i[d],1)):(i[d]=Ut(g),i[d].c(),R(i[d],1),i[d].m(e,null))}for(ae(),d=a.length;d<i.length;d+=1)u(d);ce()}},i(c){if(!o){for(let p=0;p<a.length;p+=1)R(i[p]);o=!0}},o(c){i=i.filter(Boolean);for(let p=0;p<i.length;p+=1)A(i[p]);o=!1},d(c){c&&$(e),r&&r.d(),Re(i,c)}}}function xl(t){let e,n=t[2].length+"",o,l;return{c(){e=w("p"),o=V(n),l=V(" records found."),m(e,"class","text-center")},m(s,r){C(s,e,r),f(e,o),f(e,l)},p(s,r){r&4&&n!==(n=s[2].length+"")&&U(o,n)},d(s){s&&$(e)}}}function Gl(t){let e,n=t[2].length+"",o,l;return{c(){e=w("p"),o=V(n),l=V(" record found."),m(e,"class","text-center")},m(s,r){C(s,e,r),f(e,o),f(e,l)},p(s,r){r&4&&n!==(n=s[2].length+"")&&U(o,n)},d(s){s&&$(e)}}}function Ut(t){let e,n;function o(){return t[11](t[12])}return e=new zl({props:{person:t[12],selectable:t[0]}}),e.$on("personEditted",t[9]),e.$on("personDeleted",t[10]),e.$on("selected",o),{c(){x(e.$$.fragment)},m(l,s){q(e,l,s),n=!0},p(l,s){t=l;const r={};s&4&&(r.person=t[12]),s&1&&(r.selectable=t[0]),e.$set(r)},i(l){n||(R(e.$$.fragment,l),n=!0)},o(l){A(e.$$.fragment,l),n=!1},d(l){z(e,l)}}}function Kl(t){let e,n,o,l,s,r,a,i,u,c,p,d,g,b,_,k,h,v,y,I,D=t[2]&&Mt(t);return{c(){e=w("main"),n=w("p"),n.textContent="Search for a person by name or licence number.",o=P(),l=w("form"),s=w("label"),s.textContent="Name",r=P(),a=w("input"),i=P(),u=w("label"),u.textContent="Licence",c=P(),p=w("input"),d=P(),g=w("button"),b=V("Submit"),k=P(),D&&D.c(),m(s,"for","name"),m(a,"class","text-black"),m(a,"name","name"),m(a,"type","text"),m(u,"for","licence"),m(p,"class","text-black"),m(p,"name","licence"),m(p,"type","text"),g.disabled=_=t[3]==""&&t[4]=="",m(g,"type","submit"),m(g,"class","button"),m(l,"class","flex flex-col justify-center items-center gap-2"),m(e,"class",h=t[1]+" flex flex-col justify-center items-center pt-2 gap-2")},m(S,O){C(S,e,O),f(e,n),f(e,o),f(e,l),f(l,s),f(l,r),f(l,a),F(a,t[3]),f(l,i),f(l,u),f(l,c),f(l,p),F(p,t[4]),f(l,d),f(l,g),f(g,b),f(e,k),D&&D.m(e,null),v=!0,y||(I=[T(a,"input",t[7]),T(p,"input",t[8]),T(l,"submit",de(t[6]))],y=!0)},p(S,[O]){O&8&&a.value!==S[3]&&F(a,S[3]),O&16&&p.value!==S[4]&&F(p,S[4]),(!v||O&24&&_!==(_=S[3]==""&&S[4]==""))&&(g.disabled=_),S[2]?D?(D.p(S,O),O&4&&R(D,1)):(D=Mt(S),D.c(),R(D,1),D.m(e,null)):D&&(ae(),A(D,1,1,()=>{D=null}),ce()),(!v||O&2&&h!==(h=S[1]+" flex flex-col justify-center items-center pt-2 gap-2"))&&m(e,"class",h)},i(S){v||(R(D),v=!0)},o(S){A(D),v=!1},d(S){S&&$(e),D&&D.d(),y=!1,J(I)}}}function Zl(t,e,n){const o=Pe();let{selectable:l}=e,{textColour:s="text-white"}=e,r=[],a="",i="";const u=async()=>{let _="";if(a!=""&&i!="")_="?name="+a+"&licence="+i;else if(a!="")_="?name="+a;else if(i!="")_="?licence="+i;else return;const k=`${Y}/backend/person/get-person.php${_}`;let h=await fetch(k);h=await h.json(),_=h.data,_?se(`Found ${_.length} people!`):te("Found no records"),console.log(_),n(2,r=_)};function c(){a=this.value,n(3,a)}function p(){i=this.value,n(4,i)}const d=_=>{const k=_.detail;console.log(k),n(2,r=r.map(h=>k.People_ID==h.People_ID?(console.log("Found"),k):h)),console.log(r)},g=_=>{const k=_.detail;n(2,r=r.filter(h=>h.People_ID!==k)),console.log(r)},b=_=>{o("personSelected",_)};return t.$$set=_=>{"selectable"in _&&n(0,l=_.selectable),"textColour"in _&&n(1,s=_.textColour)},[l,s,r,a,i,o,u,c,p,d,g,b]}class Pn extends Z{constructor(e){super(),K(this,e,Zl,Kl,G,{selectable:0,textColour:1})}}function Ql(t){let e,n,o,l,s;return l=new Pn({props:{textColour:"text-white"}}),{c(){e=w("div"),n=w("h2"),n.textContent="People",o=P(),x(l.$$.fragment),m(n,"class","text-xl"),m(e,"class","bg-traffic bg-no-repeat bg-cover bg-center h-screen")},m(r,a){C(r,e,a),f(e,n),f(e,o),q(l,e,null),s=!0},p:j,i(r){s||(R(l.$$.fragment,r),s=!0)},o(r){A(l.$$.fragment,r),s=!1},d(r){r&&$(e),z(l)}}}class Wl extends Z{constructor(e){super(),K(this,e,null,Ql,G,{})}}function Xl(t){let e,n,o,l,s,r,a,i,u,c,p,d,g,b,_,k,h,v,y,I,D,S;return{c(){e=w("div"),n=w("button"),n.textContent="Close",o=P(),l=w("form"),s=w("label"),s.innerHTML='Name <span class="italic text-sm text-gray-600">required</span>',r=P(),a=w("input"),i=P(),u=w("label"),u.textContent="Address",c=P(),p=w("input"),d=P(),g=w("label"),g.textContent="Licence Number",b=P(),_=w("input"),k=P(),h=w("button"),v=V("Add "),y=V(t[0]),m(n,"class","aboslute top-1 rigth-1"),m(s,"for","name"),a.required=!0,m(a,"class","text-black"),m(a,"name","name"),m(a,"type","text"),m(u,"for","address"),m(p,"class","text-black"),m(p,"name","address"),m(p,"type","text"),m(g,"for","licence"),m(_,"class","text-black"),m(_,"name","licence"),m(_,"type","text"),h.disabled=I=t[0]=="",m(h,"type","submit"),m(h,"class","button"),m(l,"class","flex flex-col justify-center items-center gap-2"),m(e,"class","absolute left-1/2 top-1/2 -translate-y-1/2 -translate-x-1/2 bg-sky-300 rounded shadow-screen p-2 text-black w-60 h-72 grid place-content-center")},m(O,N){C(O,e,N),f(e,n),f(e,o),f(e,l),f(l,s),f(l,r),f(l,a),F(a,t[0]),f(l,i),f(l,u),f(l,c),f(l,p),F(p,t[1]),f(l,d),f(l,g),f(l,b),f(l,_),F(_,t[2]),f(l,k),f(l,h),f(h,v),f(h,y),D||(S=[T(n,"click",t[5]),T(a,"input",t[6]),T(p,"input",t[7]),T(_,"input",t[8]),T(l,"submit",de(t[4]))],D=!0)},p(O,[N]){N&1&&a.value!==O[0]&&F(a,O[0]),N&2&&p.value!==O[1]&&F(p,O[1]),N&4&&_.value!==O[2]&&F(_,O[2]),N&1&&U(y,O[0]),N&1&&I!==(I=O[0]=="")&&(h.disabled=I)},i:j,o:j,d(O){O&&$(e),D=!1,J(S)}}}function Yl(t,e,n){const o=Pe();let l="",s,r;const a=async()=>{let d=new FormData;d.append("name",l),d.append("address",s),d.append("licence",r);const g=`${Y}/backend/person/create-person.php`;let b=await fetch(g,{method:"POST",body:d});b=await b.json(),d=b.data,d?(se(`Added ${l} successfully!`),o("close",{People_ID:d,People_name:l})):te("Please add a name"),console.log(d)},i=()=>{o("close",!1)};function u(){l=this.value,n(0,l)}function c(){s=this.value,n(1,s)}function p(){r=this.value,n(2,r)}return[l,s,r,o,a,i,u,c,p]}class Jl extends Z{constructor(e){super(),K(this,e,Yl,Xl,G,{})}}function eo(t){let e,n,o,l,s,r;return{c(){e=w("div"),n=w("input"),o=P(),l=w("input"),m(n,"type","button"),n.value="Search People",m(n,"class","button"),m(l,"type","button"),l.value="Create New Person",m(l,"class","button")},m(a,i){C(a,e,i),f(e,n),f(e,o),f(e,l),s||(r=[T(n,"click",t[9]),T(l,"click",t[10])],s=!0)},p:j,d(a){a&&$(e),s=!1,J(r)}}}function to(t){let e,n,o,l;return{c(){e=w("button"),n=V(t[4]),m(e,"class","button")},m(s,r){C(s,e,r),f(e,n),o||(l=T(e,"click",t[8]),o=!0)},p(s,r){r&16&&U(n,s[4])},d(s){s&&$(e),o=!1,l()}}}function Ht(t){let e,n;return e=new Pn({props:{selectable:!0,textColour:t[0]}}),e.$on("personSelected",t[11]),{c(){x(e.$$.fragment)},m(o,l){q(e,o,l),n=!0},p(o,l){const s={};l&1&&(s.textColour=o[0]),e.$set(s)},i(o){n||(R(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){z(e,o)}}}function qt(t){let e,n;return e=new Jl({}),e.$on("close",t[12]),{c(){x(e.$$.fragment)},m(o,l){q(e,o,l),n=!0},p:j,i(o){n||(R(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){z(e,o)}}}function no(t){let e,n,o,l;function s(c,p){return c[3]==!1?to:eo}let r=s(t),a=r(t),i=t[1]&&Ht(t),u=t[2]&&qt(t);return{c(){a.c(),e=P(),i&&i.c(),n=P(),u&&u.c(),o=pe()},m(c,p){a.m(c,p),C(c,e,p),i&&i.m(c,p),C(c,n,p),u&&u.m(c,p),C(c,o,p),l=!0},p(c,[p]){r===(r=s(c))&&a?a.p(c,p):(a.d(1),a=r(c),a&&(a.c(),a.m(e.parentNode,e))),c[1]?i?(i.p(c,p),p&2&&R(i,1)):(i=Ht(c),i.c(),R(i,1),i.m(n.parentNode,n)):i&&(ae(),A(i,1,1,()=>{i=null}),ce()),c[2]?u?(u.p(c,p),p&4&&R(u,1)):(u=qt(c),u.c(),R(u,1),u.m(o.parentNode,o)):u&&(ae(),A(u,1,1,()=>{u=null}),ce())},i(c){l||(R(i),R(u),l=!0)},o(c){A(i),A(u),l=!1},d(c){a.d(c),c&&$(e),i&&i.d(c),c&&$(n),u&&u.d(c),c&&$(o)}}}function lo(t,e,n){const o=Pe();let l=!1,s=!1,r=!1,a="Add Person",{personText:i="None"}=e,{buttonText:u="Person"}=e,{textColour:c="text-white"}=e;const p=v=>{v=="None"?n(4,a=`Add ${u}`):n(4,a=`Change ${u}`)},d=v=>{n(3,r=!1),o("personSet",v)},g=()=>{n(3,r=!0)},b=()=>{n(1,l=!0),n(2,s=!1)},_=()=>{n(1,l=!1),n(2,s=!0)},k=v=>{n(1,l=!1),d(v.detail)},h=v=>{n(2,s=!1);let y=v.detail;y&&d(y)};return t.$$set=v=>{"personText"in v&&n(6,i=v.personText),"buttonText"in v&&n(7,u=v.buttonText),"textColour"in v&&n(0,c=v.textColour)},t.$$.update=()=>{t.$$.dirty&64&&p(i)},[c,l,s,r,a,d,i,u,g,b,_,k,h]}class vt extends Z{constructor(e){super(),K(this,e,lo,no,G,{personText:6,buttonText:7,textColour:0})}}function oo(t){let e,n,o,l,s,r,a,i,u,c,p,d,g,b,_,k,h,v,y,I,D,S,O,N;return h=new vt({props:{personText:t[4],buttonText:"Owner"}}),h.$on("personSet",t[6]),{c(){e=w("form"),n=w("div"),o=w("div"),o.innerHTML=`<label for="vehicleMake">Make</label> 
            <label for="vehicleModel">Model</label> 
            <label for="vehicleColour">Colour</label> 
            <label for="numberPlate">Number Plate</label> 
            <p>Owner</p>`,l=P(),s=w("div"),r=w("input"),a=P(),i=w("input"),u=P(),c=w("input"),p=P(),d=w("input"),g=P(),b=w("p"),_=V(t[4]),k=P(),x(h.$$.fragment),v=P(),y=w("button"),I=V("Add new vehicle"),m(o,"class","flex flex-col gap-1 items-end mr-2"),m(r,"class","text-black"),m(r,"name","vehicleType"),m(r,"type","text"),m(i,"class","text-black"),m(i,"name","vehicleType"),m(i,"type","text"),m(c,"class","text-black"),m(c,"name","vehicleColour"),m(c,"type","text"),m(d,"class","text-black"),m(d,"name","numberPlate"),m(d,"type","text"),m(s,"class","flex flex-col gap-1"),m(n,"class","flex"),y.disabled=D=t[0]==""&&t[1]=="",m(y,"type","submit"),m(y,"class","button"),m(e,"class","flex flex-col justify-center items-center gap-2")},m(E,M){C(E,e,M),f(e,n),f(n,o),f(n,l),f(n,s),f(s,r),F(r,t[0]),f(s,a),f(s,i),F(i,t[1]),f(s,u),f(s,c),F(c,t[2]),f(s,p),f(s,d),F(d,t[3]),f(s,g),f(s,b),f(b,_),f(e,k),q(h,e,null),f(e,v),f(e,y),f(y,I),S=!0,O||(N=[T(r,"input",t[7]),T(i,"input",t[8]),T(c,"input",t[9]),T(d,"input",t[10]),T(e,"submit",de(t[5]))],O=!0)},p(E,[M]){M&1&&r.value!==E[0]&&F(r,E[0]),M&2&&i.value!==E[1]&&F(i,E[1]),M&4&&c.value!==E[2]&&F(c,E[2]),M&8&&d.value!==E[3]&&F(d,E[3]),(!S||M&16)&&U(_,E[4]);const Q={};M&16&&(Q.personText=E[4]),h.$set(Q),(!S||M&3&&D!==(D=E[0]==""&&E[1]==""))&&(y.disabled=D)},i(E){S||(R(h.$$.fragment,E),S=!0)},o(E){A(h.$$.fragment,E),S=!1},d(E){E&&$(e),z(h),O=!1,J(N)}}}function so(t,e,n){let o="",l="",s="",r="",a,i="None";const u=async()=>{let h=new FormData;h.append("make",o),h.append("model",l),h.append("colour",s),h.append("licence",r);const v=`${Y}/backend/vehicle/create-vehicle.php`;let y=await fetch(v,{method:"POST",body:h});y=await y.json();let I=y.data;I?(se(`Added ${o} ${l} successfully!`),console.log(a),a.People_ID&&c(a.People_ID,I),p()):te("Error Occurred"),console.log(I)},c=async(h,v)=>{let y=new FormData;y.append("person-id",h),y.append("vehicle-id",v);const I=`${Y}/backend/vehicle/set-vehicle-ownership.php`;let D=await fetch(I,{method:"POST",body:y});D=await D.json(),y=D.data,console.log(y),y?se("Set ownership successfully"):te("Error Occurred Setting Vehicle Onwership")},p=()=>{n(0,o=""),n(1,l=""),n(2,s=""),n(3,r=""),a=null,n(4,i="None")},d=h=>{let v=h.detail;a=v,n(4,i=v.People_name)};function g(){o=this.value,n(0,o)}function b(){l=this.value,n(1,l)}function _(){s=this.value,n(2,s)}function k(){r=this.value,n(3,r)}return[o,l,s,r,i,u,d,g,b,_,k]}class $n extends Z{constructor(e){super(),K(this,e,so,oo,G,{})}}function ro(t){let e,n=t[0].Vehicle_make+"",o,l,s=t[0].Vehicle_model+"",r,a,i,u=t[0].Vehicle_colour+"",c,p,d,g=t[0].Vehicle_licence+"",b,_,k;function h(I,D){return I[0].People_ID?co:ao}let v=h(t),y=v(t);return{c(){e=w("h3"),o=V(n),l=P(),r=V(s),a=P(),i=w("p"),c=V(u),p=P(),d=w("p"),b=V(g),_=P(),y.c(),k=pe(),m(e,"class","font-bold")},m(I,D){C(I,e,D),f(e,o),f(e,l),f(e,r),C(I,a,D),C(I,i,D),f(i,c),C(I,p,D),C(I,d,D),f(d,b),C(I,_,D),y.m(I,D),C(I,k,D)},p(I,D){D&1&&n!==(n=I[0].Vehicle_make+"")&&U(o,n),D&1&&s!==(s=I[0].Vehicle_model+"")&&U(r,s),D&1&&u!==(u=I[0].Vehicle_colour+"")&&U(c,u),D&1&&g!==(g=I[0].Vehicle_licence+"")&&U(b,g),v===(v=h(I))&&y?y.p(I,D):(y.d(1),y=v(I),y&&(y.c(),y.m(k.parentNode,k)))},d(I){I&&$(e),I&&$(a),I&&$(i),I&&$(p),I&&$(d),I&&$(_),y.d(I),I&&$(k)}}}function io(t){let e,n,o,l,s,r,a,i,u,c,p,d,g,b,_,k,h;return{c(){e=w("form"),n=w("input"),o=P(),l=w("input"),s=P(),r=w("input"),a=P(),i=w("input"),u=P(),c=w("button"),p=V("Edit "),d=V(t[2]),g=P(),b=V(t[3]),n.required=!0,m(n,"class","text-black font-bold pl-1"),m(n,"name","make"),m(n,"type","text"),m(n,"placeholder","Make"),m(l,"class","text-black pl-1"),m(l,"name","model"),m(l,"type","text"),m(l,"placeholder","Model"),m(r,"class","text-black pl-1"),m(r,"name","colour"),m(r,"type","text"),m(r,"placeholder","Colour"),m(i,"class","text-black pl-1"),m(i,"name","licence"),m(i,"type","text"),m(i,"placeholder","Number Plate"),c.disabled=_=t[2]==""||t[3]=="",m(c,"type","submit"),m(c,"class","button"),m(e,"class","flex flex-col gap-1")},m(v,y){C(v,e,y),f(e,n),F(n,t[2]),f(e,o),f(e,l),F(l,t[3]),f(e,s),f(e,r),F(r,t[4]),f(e,a),f(e,i),F(i,t[5]),f(e,u),f(e,c),f(c,p),f(c,d),f(c,g),f(c,b),k||(h=[T(n,"input",t[10]),T(l,"input",t[11]),T(r,"input",t[12]),T(i,"input",t[13]),T(e,"submit",de(t[8]))],k=!0)},p(v,y){y&4&&n.value!==v[2]&&F(n,v[2]),y&8&&l.value!==v[3]&&F(l,v[3]),y&16&&r.value!==v[4]&&F(r,v[4]),y&32&&i.value!==v[5]&&F(i,v[5]),y&4&&U(d,v[2]),y&8&&U(b,v[3]),y&12&&_!==(_=v[2]==""||v[3]=="")&&(c.disabled=_)},d(v){v&&$(e),k=!1,J(h)}}}function ao(t){let e;return{c(){e=w("h3"),e.textContent="This vehicle has no owner.",m(e,"class","font-bold")},m(n,o){C(n,e,o)},p:j,d(n){n&&$(e)}}}function co(t){let e,n=t[0].People_name+"",o,l,s,r=t[0].People_licence+"",a;return{c(){e=w("h3"),o=V(n),l=P(),s=w("p"),a=V(r),m(e,"class","font-bold")},m(i,u){C(i,e,u),f(e,o),C(i,l,u),C(i,s,u),f(s,a)},p(i,u){u&1&&n!==(n=i[0].People_name+"")&&U(o,n),u&1&&r!==(r=i[0].People_licence+"")&&U(a,r)},d(i){i&&$(e),i&&$(l),i&&$(s)}}}function zt(t){let e,n,o;return{c(){e=w("button"),e.textContent="Select",m(e,"class","button bg-green-600")},m(l,s){C(l,e,s),n||(o=T(e,"click",t[14]),n=!0)},p:j,d(l){l&&$(e),n=!1,o()}}}function uo(t){let e,n,o;return{c(){e=w("button"),e.textContent="Edit",m(e,"class","button")},m(l,s){C(l,e,s),n||(o=T(e,"click",t[16]),n=!0)},p:j,d(l){l&&$(e),n=!1,o()}}}function fo(t){let e,n,o;return{c(){e=w("button"),e.textContent="Cancel",m(e,"class","button")},m(l,s){C(l,e,s),n||(o=T(e,"click",t[15]),n=!0)},p:j,d(l){l&&$(e),n=!1,o()}}}function po(t){let e,n,o,l,s,r,a,i;function u(k,h){return k[6]?io:ro}let c=u(t),p=c(t),d=t[1]&&zt(t);function g(k,h){return k[6]?fo:uo}let b=g(t),_=b(t);return{c(){e=w("section"),p.c(),n=P(),o=w("div"),d&&d.c(),l=P(),_.c(),s=P(),r=w("button"),r.textContent="Delete",m(r,"class","button bg-red-400 hover:bg-red-300"),m(o,"class","flex gap-2"),m(e,"class","text-black font-semibold m-2 rounded p-4 shadow w-96 border-4 border-sky-200 bg-sky-200 bg-opacity-90 relative")},m(k,h){C(k,e,h),p.m(e,null),f(e,n),f(e,o),d&&d.m(o,null),f(o,l),_.m(o,null),f(o,s),f(o,r),a||(i=T(r,"click",t[9]),a=!0)},p(k,[h]){c===(c=u(k))&&p?p.p(k,h):(p.d(1),p=c(k),p&&(p.c(),p.m(e,n))),k[1]?d?d.p(k,h):(d=zt(k),d.c(),d.m(o,l)):d&&(d.d(1),d=null),b===(b=g(k))&&_?_.p(k,h):(_.d(1),_=b(k),_&&(_.c(),_.m(o,s)))},i:j,o:j,d(k){k&&$(e),p.d(),d&&d.d(),_.d(),a=!1,i()}}}function ho(t,e,n){const o=Pe();let{data:l}=e,{selectable:s}=e,r=l.Vehicle_make,a=l.Vehicle_model,i=l.Vehicle_colour,u=l.Vehicle_licence,c=!1;console.log(l);const p=async()=>{let I=new FormData;I.append("id",l.Vehicle_ID),I.append("make",r),I.append("model",a),I.append("colour",i),I.append("licence",u);const D=`${Y}/backend/vehicle/update-vehicle.php`;let S=await fetch(D,{method:"POST",body:I});S=await S.json(),console.log(S),S.status==1?(se("Record successfully editted!"),n(6,c=!1),o("vehicleEditted",{Vehicle_ID:l.Vehicle_ID,Vehicle_make:r,Vehicle_model:a,Vehicle_colour:i,Vehicle_licence:u,People_ID:l.People_ID,People_name:l.People_name,People_address:l.People_address,People_licence:l.People_licence})):te("Something went wrong.")},d=async()=>{const I=`${Y}/backend/vehicle/remove-vehicle.php?id=${l.Vehicle_ID}`;let D=await fetch(I);D=await D.json(),console.log(D),D.status==1?(se("Deleted record!"),o("vehicleDeleted",l.Vehicle_ID)):te("Cannot delete a vehicle found in a report.")};function g(){r=this.value,n(2,r)}function b(){a=this.value,n(3,a)}function _(){i=this.value,n(4,i)}function k(){u=this.value,n(5,u)}const h=()=>{o("selected",l)},v=()=>{n(6,c=!c)},y=()=>{n(6,c=!c)};return t.$$set=I=>{"data"in I&&n(0,l=I.data),"selectable"in I&&n(1,s=I.selectable)},[l,s,r,a,i,u,c,o,p,d,g,b,_,k,h,v,y]}class _o extends Z{constructor(e){super(),K(this,e,ho,po,G,{data:0,selectable:1})}}function xt(t,e,n){const o=t.slice();return o[9]=e[n],o}function Gt(t){let e,n;function o(...s){return t[7](t[9],...s)}function l(){return t[8](t[9])}return e=new _o({props:{data:t[9],selectable:t[0]}}),e.$on("vehicleEditted",t[6]),e.$on("vehicleDeleted",o),e.$on("selected",l),{c(){x(e.$$.fragment)},m(s,r){q(e,s,r),n=!0},p(s,r){t=s;const a={};r&2&&(a.data=t[9]),r&1&&(a.selectable=t[0]),e.$set(a)},i(s){n||(R(e.$$.fragment,s),n=!0)},o(s){A(e.$$.fragment,s),n=!1},d(s){z(e,s)}}}function mo(t){let e,n,o,l,s,r,a,i,u,c,p,d,g,b=t[1],_=[];for(let h=0;h<b.length;h+=1)_[h]=Gt(xt(t,b,h));const k=h=>A(_[h],1,1,()=>{_[h]=null});return{c(){e=w("form"),n=w("label"),n.textContent="Number Plate",o=P(),l=w("input"),s=P(),r=w("button"),a=V("Search"),u=P();for(let h=0;h<_.length;h+=1)_[h].c();c=pe(),m(n,"for","numberPlate"),m(l,"class","text-black"),m(l,"name","numberPlate"),m(l,"type","text"),r.disabled=i=t[2]=="",m(r,"type","submit"),m(r,"class","text-black bg-sky-500 hover:bg-sky-400 rounded w-max mt-2 px-6 py-2 font-semibold shadow hover:mb-0.5 hover:mt-1.5 duration-75 transition-all"),m(e,"class","flex flex-col justify-center items-center gap-2")},m(h,v){C(h,e,v),f(e,n),f(e,o),f(e,l),F(l,t[2]),f(e,s),f(e,r),f(r,a),C(h,u,v);for(let y=0;y<_.length;y+=1)_[y].m(h,v);C(h,c,v),p=!0,d||(g=[T(l,"input",t[5]),T(e,"submit",de(t[4]))],d=!0)},p(h,[v]){if(v&4&&l.value!==h[2]&&F(l,h[2]),(!p||v&4&&i!==(i=h[2]==""))&&(r.disabled=i),v&11){b=h[1];let y;for(y=0;y<b.length;y+=1){const I=xt(h,b,y);_[y]?(_[y].p(I,v),R(_[y],1)):(_[y]=Gt(I),_[y].c(),R(_[y],1),_[y].m(c.parentNode,c))}for(ae(),y=b.length;y<_.length;y+=1)k(y);ce()}},i(h){if(!p){for(let v=0;v<b.length;v+=1)R(_[v]);p=!0}},o(h){_=_.filter(Boolean);for(let v=0;v<_.length;v+=1)A(_[v]);p=!1},d(h){h&&$(e),h&&$(u),Re(_,h),h&&$(c),d=!1,J(g)}}}function bo(t,e,n){const o=Pe();let l=[],s="",{selectable:r}=e;const a=async()=>{if(s=="")return;const d=`${Y}/backend/vehicle/get-vehicle.php?plateNumber=${s}`;let g=await fetch(d);g=await g.json(),n(1,l=g.data),l?se("Found your vehicle."):te("No vehicle found!"),console.log(l)};function i(){s=this.value,n(2,s)}const u=d=>{const g=d.detail;console.log(g),n(1,l=l.map(b=>g.Vehicle_ID==b.Vehicle_ID?(console.log("Found"),g):b))},c=(d,g)=>{const b=g.detail;n(1,l=l.filter(_=>_.Vehicle_ID!==b)),console.log(d)},p=d=>{o("selected",d)};return t.$$set=d=>{"selectable"in d&&n(0,r=d.selectable)},[r,l,s,o,a,i,u,c,p]}class Cn extends Z{constructor(e){super(),K(this,e,bo,mo,G,{selectable:0})}}function go(t){let e,n,o,l,s,r,a,i,u,c,p,d;return a=new $n({}),p=new Cn({}),{c(){e=w("div"),n=w("main"),o=w("h2"),o.textContent="Vehicles",l=P(),s=w("h3"),s.textContent="Add a new vehicle.",r=P(),x(a.$$.fragment),i=P(),u=w("h3"),u.textContent="Search for a vehicle by entering its number plate.",c=P(),x(p.$$.fragment),m(o,"class","text-xl"),m(n,"class","text-white flex flex-col justify-center items-center pt-2 gap-2"),m(e,"class","bg-traffic bg-no-repeat bg-cover bg-center h-screen")},m(g,b){C(g,e,b),f(e,n),f(n,o),f(n,l),f(n,s),f(n,r),q(a,n,null),f(n,i),f(n,u),f(n,c),q(p,n,null),d=!0},p:j,i(g){d||(R(a.$$.fragment,g),R(p.$$.fragment,g),d=!0)},o(g){A(a.$$.fragment,g),A(p.$$.fragment,g),d=!1},d(g){g&&$(e),z(a),z(p)}}}class vo extends Z{constructor(e){super(),K(this,e,null,go,G,{})}}let Ae=Ee([]);function wo(t){let e,n,o,l,s,r;return{c(){e=w("div"),n=w("input"),o=P(),l=w("input"),m(n,"type","button"),n.value="Search Vehicles",m(n,"class","button"),m(l,"type","button"),l.value="Create New Vehicle",m(l,"class","button")},m(a,i){C(a,e,i),f(e,n),f(e,o),f(e,l),s||(r=[T(n,"click",t[8]),T(l,"click",t[9])],s=!0)},p:j,d(a){a&&$(e),s=!1,J(r)}}}function ko(t){let e,n,o,l;return{c(){e=w("button"),n=V(t[3]),m(e,"class","button")},m(s,r){C(s,e,r),f(e,n),o||(l=T(e,"click",t[7]),o=!0)},p(s,r){r&8&&U(n,s[3])},d(s){s&&$(e),o=!1,l()}}}function Kt(t){let e,n;return e=new Cn({props:{selectable:!0}}),e.$on("selected",t[10]),{c(){x(e.$$.fragment)},m(o,l){q(e,o,l),n=!0},p:j,i(o){n||(R(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){z(e,o)}}}function Zt(t){let e,n;return e=new $n({}),e.$on("close",t[11]),{c(){x(e.$$.fragment)},m(o,l){q(e,o,l),n=!0},p:j,i(o){n||(R(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){z(e,o)}}}function yo(t){let e,n,o,l;function s(c,p){return c[2]==!1?ko:wo}let r=s(t),a=r(t),i=t[0]&&Kt(t),u=t[1]&&Zt(t);return{c(){a.c(),e=P(),i&&i.c(),n=P(),u&&u.c(),o=pe()},m(c,p){a.m(c,p),C(c,e,p),i&&i.m(c,p),C(c,n,p),u&&u.m(c,p),C(c,o,p),l=!0},p(c,[p]){r===(r=s(c))&&a?a.p(c,p):(a.d(1),a=r(c),a&&(a.c(),a.m(e.parentNode,e))),c[0]?i?(i.p(c,p),p&1&&R(i,1)):(i=Kt(c),i.c(),R(i,1),i.m(n.parentNode,n)):i&&(ae(),A(i,1,1,()=>{i=null}),ce()),c[1]?u?(u.p(c,p),p&2&&R(u,1)):(u=Zt(c),u.c(),R(u,1),u.m(o.parentNode,o)):u&&(ae(),A(u,1,1,()=>{u=null}),ce())},i(c){l||(R(i),R(u),l=!0)},o(c){A(i),A(u),l=!1},d(c){a.d(c),c&&$(e),i&&i.d(c),c&&$(n),u&&u.d(c),c&&$(o)}}}function Po(t,e,n){const o=Pe();let l=!1,s=!1,r=!1,a="Add Vehicle",{vehicleText:i="None"}=e,{buttonText:u="Vehicle"}=e;const c=h=>{h=="None"?n(3,a=`Add ${u}`):n(3,a=`Change ${u}`)},p=h=>{n(2,r=!1),o("vehicleSet",h)},d=()=>{n(2,r=!0)},g=()=>{n(0,l=!0),n(1,s=!1)},b=()=>{n(1,s=!0),n(0,l=!1)},_=h=>{n(0,l=!1),p(h.detail)},k=h=>{n(1,s=!1);let v=h.detail;v&&p(v)};return t.$$set=h=>{"vehicleText"in h&&n(5,i=h.vehicleText),"buttonText"in h&&n(6,u=h.buttonText)},t.$$.update=()=>{t.$$.dirty&32&&c(i)},[l,s,r,a,p,i,u,d,g,b,_,k]}class In extends Z{constructor(e){super(),K(this,e,Po,yo,G,{vehicleText:5,buttonText:6})}}function Qt(t,e,n){const o=t.slice();return o[5]=e[n],o}function Wt(t){let e,n=t[5].Offence_description+"",o,l;return{c(){e=w("option"),o=V(n),e.__value=l=t[5].Offence_ID,e.value=e.__value},m(s,r){C(s,e,r),f(e,o)},p(s,r){r&16&&n!==(n=s[5].Offence_description+"")&&U(o,n),r&16&&l!==(l=s[5].Offence_ID)&&(e.__value=l,e.value=e.__value)},d(s){s&&$(e)}}}function $o(t){let e,n,o,l,s,r,a,i,u,c,p,d,g,b,_,k,h,v,y,I,D,S,O,N,E,M,Q,$e,he,me,re,Ce,ie=t[4],W=[];for(let H=0;H<ie.length;H+=1)W[H]=Wt(Qt(t,ie,H));return D=new vt({props:{personText:t[2],buttonText:"Person"}}),D.$on("personSet",t[7]),Q=new In({}),Q.$on("vehicleSet",t[8]),{c(){e=w("main"),n=w("h2"),n.textContent="Create Report",o=P(),l=w("form"),s=w("label"),s.textContent="Date",r=P(),a=w("input"),i=P(),u=w("label"),u.textContent="Select an offence",c=P(),p=w("select");for(let H=0;H<W.length;H+=1)W[H].c();d=P(),g=w("label"),g.textContent="Statement",b=P(),_=w("textarea"),k=P(),h=w("p"),v=V("Person: "),y=V(t[2]),I=P(),x(D.$$.fragment),S=P(),O=w("p"),N=V("Vehicle: "),E=V(t[3]),M=P(),x(Q.$$.fragment),$e=P(),he=w("button"),he.textContent="Submit",m(n,"class","text-xl"),m(s,"for","currentPassword"),m(a,"class","text-black"),m(a,"name","currentPassword"),m(a,"type","date"),m(u,"for","offences"),m(p,"class","text-black"),m(p,"name","offences"),t[5]===void 0&&ye(()=>t[10].call(p)),m(g,"for","statement"),m(_,"class","text-black"),m(_,"name","statement"),m(_,"rows","3"),m(_,"cols","40"),m(he,"type","submit"),m(he,"class","button"),m(l,"class","flex flex-col justify-center items-center gap-2"),m(e,"class","text-white flex flex-col gap-4 pt-4 justify-center items-center")},m(H,le){C(H,e,le),f(e,n),f(e,o),f(e,l),f(l,s),f(l,r),f(l,a),F(a,t[0]),f(l,i),f(l,u),f(l,c),f(l,p);for(let oe=0;oe<W.length;oe+=1)W[oe].m(p,null);Qe(p,t[5]),f(l,d),f(l,g),f(l,b),f(l,_),F(_,t[1]),f(l,k),f(l,h),f(h,v),f(h,y),f(l,I),q(D,l,null),f(l,S),f(l,O),f(O,N),f(O,E),f(l,M),q(Q,l,null),f(l,$e),f(l,he),me=!0,re||(Ce=[T(a,"input",t[9]),T(p,"change",t[10]),T(_,"input",t[11]),T(l,"submit",de(t[6]))],re=!0)},p(H,[le]){if(le&1&&F(a,H[0]),le&16){ie=H[4];let L;for(L=0;L<ie.length;L+=1){const B=Qt(H,ie,L);W[L]?W[L].p(B,le):(W[L]=Wt(B),W[L].c(),W[L].m(p,null))}for(;L<W.length;L+=1)W[L].d(1);W.length=ie.length}le&48&&Qe(p,H[5]),le&2&&F(_,H[1]),(!me||le&4)&&U(y,H[2]);const oe={};le&4&&(oe.personText=H[2]),D.$set(oe),(!me||le&8)&&U(E,H[3])},i(H){me||(R(D.$$.fragment,H),R(Q.$$.fragment,H),me=!0)},o(H){A(D.$$.fragment,H),A(Q.$$.fragment,H),me=!1},d(H){H&&$(e),Re(W,H),z(D),z(Q),re=!1,J(Ce)}}}function Co(t,e,n){let o;fe(t,Ae,h=>n(4,o=h));let l,s,r,a,i="None",u,c="None";const p=async()=>{let h=new FormData;h.append("date",l),h.append("statement",s),a&&(h.append("person-id",a.People_ID),console.log("added person")),u&&(h.append("vehicle-id",u.Vehicle_ID),console.log("added vehicle")),r&&(h.append("offence-id",r),console.log("added offence"));const v=`${Y}/backend/report/create-report.php`;let y=await fetch(v,{method:"POST",body:h});y=await y.json();let I=y.data;I?se("Created your report!"):te("Error Occurred"),console.log(I)},d=h=>{a=h.detail,n(2,i=a.People_name)},g=h=>{u=h.detail,n(3,c=`${u.Vehicle_make} ${u.Vehicle_model}`)};function b(){l=this.value,n(0,l)}function _(){r=cn(this),n(5,r)}function k(){s=this.value,n(1,s)}return t.$$.update=()=>{t.$$.dirty&1&&console.log(l)},[l,s,i,c,o,r,p,d,g,b,_,k]}class Io extends Z{constructor(e){super(),K(this,e,Co,$o,G,{})}}function Xt(t,e,n){const o=t.slice();return o[35]=e[n],o}function Do(t){let e,n=t[0].Incident_Date+"",o,l,s=t[0].Offence_description+"",r,a,i,u,c,p,d=t[0].Incident_Report+"",g,b,_;function k(E,M){return E[3]?So:Vo}let h=k(t),v=h(t);function y(E,M){return E[6]?Oo:To}let I=y(t),D=I(t);function S(E,M){return E[16]?No:E[12]?jo:Ro}let O=S(t),N=O(t);return{c(){e=w("h3"),o=V(n),l=V(" - "),r=V(s),a=P(),v.c(),i=P(),D.c(),u=P(),c=w("p"),p=V("Report: "),g=V(d),b=P(),N.c(),_=pe(),m(e,"class","font-bold"),m(c,"class","border-t-gray-500 border-t-2 mt-1")},m(E,M){C(E,e,M),f(e,o),f(e,l),f(e,r),C(E,a,M),v.m(E,M),C(E,i,M),D.m(E,M),C(E,u,M),C(E,c,M),f(c,p),f(c,g),C(E,b,M),N.m(E,M),C(E,_,M)},p(E,M){M[0]&1&&n!==(n=E[0].Incident_Date+"")&&U(o,n),M[0]&1&&s!==(s=E[0].Offence_description+"")&&U(r,s),h===(h=k(E))&&v?v.p(E,M):(v.d(1),v=h(E),v&&(v.c(),v.m(i.parentNode,i))),I===(I=y(E))&&D?D.p(E,M):(D.d(1),D=I(E),D&&(D.c(),D.m(u.parentNode,u))),M[0]&1&&d!==(d=E[0].Incident_Report+"")&&U(g,d),O===(O=S(E))&&N?N.p(E,M):(N.d(1),N=O(E),N&&(N.c(),N.m(_.parentNode,_)))},i:j,o:j,d(E){E&&$(e),E&&$(a),v.d(E),E&&$(i),D.d(E),E&&$(u),E&&$(c),E&&$(b),N.d(E),E&&$(_)}}}function Eo(t){let e,n,o,l,s,r,a,i,u,c,p,d,g,b,_,k,h,v,y,I,D,S,O,N,E,M,Q,$e,he,me,re,Ce,ie,W,H,le,oe=t[17],L=[];for(let B=0;B<oe.length;B+=1)L[B]=Yt(Xt(t,oe,B));return b=new vt({props:{personText:" ",textColour:"text-black"}}),b.$on("personSet",t[23]),Q=new In({props:{vehicleText:" "}}),Q.$on("vehicleSet",t[24]),{c(){e=w("form"),n=w("input"),o=P(),l=w("label"),l.textContent="Select an offence",s=P(),r=w("select");for(let B=0;B<L.length;B+=1)L[B].c();a=P(),i=w("p"),u=V("Person: "),c=V(t[4]),p=P(),d=V(t[5]),g=P(),x(b.$$.fragment),_=P(),k=w("p"),h=V("Vehicle: "),v=V(t[7]),y=P(),I=V(t[8]),D=P(),S=V(t[9]),O=V(" ("),N=V(t[10]),E=V(")"),M=P(),x(Q.$$.fragment),$e=P(),he=w("label"),he.textContent="Report",me=P(),re=w("textarea"),Ce=P(),ie=w("button"),ie.textContent="Edit Report",n.required=!0,m(n,"class","text-black font-bold pl-1"),m(n,"name","date"),m(n,"type","date"),m(l,"for","offences"),m(r,"class","text-black"),m(r,"name","offences"),t[1]===void 0&&ye(()=>t[22].call(r)),m(he,"for","statement"),m(re,"name","statement"),m(re,"cols","30"),m(re,"rows","2"),m(ie,"type","submit"),m(ie,"class","button"),m(e,"class","flex flex-col gap-1")},m(B,X){C(B,e,X),f(e,n),F(n,t[2]),f(e,o),f(e,l),f(e,s),f(e,r);for(let ne=0;ne<L.length;ne+=1)L[ne].m(r,null);Qe(r,t[1]),f(e,a),f(e,i),f(i,u),f(i,c),f(i,p),f(i,d),f(e,g),q(b,e,null),f(e,_),f(e,k),f(k,h),f(k,v),f(k,y),f(k,I),f(k,D),f(k,S),f(k,O),f(k,N),f(k,E),f(e,M),q(Q,e,null),f(e,$e),f(e,he),f(e,me),f(e,re),F(re,t[11]),f(e,Ce),f(e,ie),W=!0,H||(le=[T(n,"input",t[21]),T(r,"change",t[22]),T(re,"input",t[25]),T(e,"submit",de(t[19]))],H=!0)},p(B,X){if(X[0]&4&&F(n,B[2]),X[0]&131074){oe=B[17];let ne;for(ne=0;ne<oe.length;ne+=1){const wt=Xt(B,oe,ne);L[ne]?L[ne].p(wt,X):(L[ne]=Yt(wt),L[ne].c(),L[ne].m(r,null))}for(;ne<L.length;ne+=1)L[ne].d(1);L.length=oe.length}X[0]&131074&&Qe(r,B[1]),(!W||X[0]&16)&&U(c,B[4]),(!W||X[0]&32)&&U(d,B[5]),(!W||X[0]&128)&&U(v,B[7]),(!W||X[0]&256)&&U(I,B[8]),(!W||X[0]&512)&&U(S,B[9]),(!W||X[0]&1024)&&U(N,B[10]),X[0]&2048&&F(re,B[11])},i(B){W||(R(b.$$.fragment,B),R(Q.$$.fragment,B),W=!0)},o(B){A(b.$$.fragment,B),A(Q.$$.fragment,B),W=!1},d(B){B&&$(e),Re(L,B),z(b),z(Q),H=!1,J(le)}}}function Vo(t){let e;return{c(){e=w("p"),e.textContent="No person associated"},m(n,o){C(n,e,o)},p:j,d(n){n&&$(e)}}}function So(t){let e,n=t[0].People_name+"",o,l,s=t[0].People_licence+"",r;return{c(){e=w("p"),o=V(n),l=P(),r=V(s)},m(a,i){C(a,e,i),f(e,o),f(e,l),f(e,r)},p(a,i){i[0]&1&&n!==(n=a[0].People_name+"")&&U(o,n),i[0]&1&&s!==(s=a[0].People_licence+"")&&U(r,s)},d(a){a&&$(e)}}}function To(t){let e;return{c(){e=w("p"),e.textContent="No vehicle associated"},m(n,o){C(n,e,o)},p:j,d(n){n&&$(e)}}}function Oo(t){let e,n=t[0].Vehicle_colour+"",o,l,s=t[0].Vehicle_make+"",r,a,i=t[0].Vehicle_model+"",u,c,p=t[0].Vehicle_licence+"",d,g;return{c(){e=w("p"),o=V(n),l=P(),r=V(s),a=P(),u=V(i),c=V(`\r
                (`),d=V(p),g=V(")")},m(b,_){C(b,e,_),f(e,o),f(e,l),f(e,r),f(e,a),f(e,u),f(e,c),f(e,d),f(e,g)},p(b,_){_[0]&1&&n!==(n=b[0].Vehicle_colour+"")&&U(o,n),_[0]&1&&s!==(s=b[0].Vehicle_make+"")&&U(r,s),_[0]&1&&i!==(i=b[0].Vehicle_model+"")&&U(u,i),_[0]&1&&p!==(p=b[0].Vehicle_licence+"")&&U(d,p)},d(b){b&&$(e)}}}function Ro(t){let e;return{c(){e=w("p"),e.textContent="No fine set"},m(n,o){C(n,e,o)},p:j,d(n){n&&$(e)}}}function jo(t){let e,n,o=t[0].Fine_Amount+"",l,s,r=t[0].Fine_Points+"",a,i;return{c(){e=w("p"),n=V("Fine of \xA3"),l=V(o),s=V(", "),a=V(r),i=V(" Points")},m(u,c){C(u,e,c),f(e,n),f(e,l),f(e,s),f(e,a),f(e,i)},p(u,c){c[0]&1&&o!==(o=u[0].Fine_Amount+"")&&U(l,o),c[0]&1&&r!==(r=u[0].Fine_Points+"")&&U(a,r)},d(u){u&&$(e)}}}function No(t){let e,n,o,l,s,r,a,i,u=t[17][t[1]].Offence_maxFine+"",c,p,d,g,b,_,k,h,v,y=t[17][t[1]].Offence_maxPoints+"",I,D,S,O,N,E;return{c(){e=w("form"),n=w("div"),o=w("label"),o.textContent="Fine",l=P(),s=w("input"),r=P(),a=w("p"),i=V("(Maximum of \xA3"),c=V(u),p=V(")"),d=P(),g=w("label"),g.textContent="Points",b=P(),_=w("input"),k=P(),h=w("p"),v=V("(Maximum of "),I=V(y),D=V(" points)"),S=P(),O=w("button"),O.textContent="Edit Fine",m(o,"for","fine"),m(s,"class","w-16 px-1"),m(s,"type","number"),m(s,"name","fine"),m(a,"class","text-xs"),m(g,"for","points"),m(_,"class","w-16 px-1"),m(_,"type","number"),m(_,"name","points"),m(h,"class","text-xs"),m(n,"class","grid grid-cols-[max-content_max-content_1fr] gap-1 items-center whitespace-nowrap"),m(O,"type","submit"),m(O,"class","button"),m(e,"class","flex flex-col gap-1")},m(M,Q){C(M,e,Q),f(e,n),f(n,o),f(n,l),f(n,s),F(s,t[13]),f(n,r),f(n,a),f(a,i),f(a,c),f(a,p),f(n,d),f(n,g),f(n,b),f(n,_),F(_,t[14]),f(n,k),f(n,h),f(h,v),f(h,I),f(h,D),f(e,S),f(e,O),N||(E=[T(s,"input",t[26]),T(_,"input",t[27]),T(e,"submit",de(t[20]))],N=!0)},p(M,Q){Q[0]&8192&&Ze(s.value)!==M[13]&&F(s,M[13]),Q[0]&131074&&u!==(u=M[17][M[1]].Offence_maxFine+"")&&U(c,u),Q[0]&16384&&Ze(_.value)!==M[14]&&F(_,M[14]),Q[0]&131074&&y!==(y=M[17][M[1]].Offence_maxPoints+"")&&U(I,y)},d(M){M&&$(e),N=!1,J(E)}}}function Fo(t){let e,n=t[35].Offence_description+"",o,l;return{c(){e=w("option"),o=V(n),e.__value=l=t[35].Offence_ID,e.value=e.__value},m(s,r){C(s,e,r),f(e,o)},p(s,r){r[0]&131072&&n!==(n=s[35].Offence_description+"")&&U(o,n),r[0]&131072&&l!==(l=s[35].Offence_ID)&&(e.__value=l,e.value=e.__value)},d(s){s&&$(e)}}}function Ao(t){let e,n=t[35].Offence_description+"",o,l;return{c(){e=w("option"),o=V(n),e.__value=l=t[35].Offence_ID,e.value=e.__value},m(s,r){C(s,e,r),f(e,o)},p(s,r){r[0]&131072&&n!==(n=s[35].Offence_description+"")&&U(o,n),r[0]&131072&&l!==(l=s[35].Offence_ID)&&(e.__value=l,e.value=e.__value)},d(s){s&&$(e)}}}function Yt(t){let e;function n(s,r){return s[35].Offence_ID===s[1]?Ao:Fo}let o=n(t),l=o(t);return{c(){l.c(),e=pe()},m(s,r){l.m(s,r),C(s,e,r)},p(s,r){o===(o=n(s))&&l?l.p(s,r):(l.d(1),l=o(s),l&&(l.c(),l.m(e.parentNode,e)))},d(s){l.d(s),s&&$(e)}}}function Lo(t){let e,n,o;return{c(){e=w("button"),e.textContent="Edit",m(e,"class","button")},m(l,s){C(l,e,s),n||(o=T(e,"click",t[29]),n=!0)},p:j,d(l){l&&$(e),n=!1,o()}}}function Bo(t){let e,n,o;return{c(){e=w("button"),e.textContent="Cancel",m(e,"class","button")},m(l,s){C(l,e,s),n||(o=T(e,"click",t[28]),n=!0)},p:j,d(l){l&&$(e),n=!1,o()}}}function Jt(t){let e;function n(s,r){return s[12]?Uo:Mo}let o=n(t),l=o(t);return{c(){l.c(),e=pe()},m(s,r){l.m(s,r),C(s,e,r)},p(s,r){o===(o=n(s))&&l?l.p(s,r):(l.d(1),l=o(s),l&&(l.c(),l.m(e.parentNode,e)))},d(s){l.d(s),s&&$(e)}}}function Mo(t){let e,n,o;return{c(){e=w("button"),e.textContent="Add Fine",m(e,"class","button")},m(l,s){C(l,e,s),n||(o=T(e,"click",t[31]),n=!0)},p:j,d(l){l&&$(e),n=!1,o()}}}function Uo(t){let e,n,o;return{c(){e=w("button"),e.textContent="Edit Fine",m(e,"class","button")},m(l,s){C(l,e,s),n||(o=T(e,"click",t[30]),n=!0)},p:j,d(l){l&&$(e),n=!1,o()}}}function Ho(t){let e,n,o,l,s,r,a;const i=[Eo,Do],u=[];function c(_,k){return _[15]?0:1}n=c(t),o=u[n]=i[n](t);function p(_,k){return _[15]?Bo:Lo}let d=p(t),g=d(t),b=t[18].admin&&t[18].admin==1&&Jt(t);return{c(){e=w("section"),o.c(),l=P(),s=w("div"),g.c(),r=P(),b&&b.c(),m(s,"class","flex gap-2"),m(e,"class","text-black font-semibold m-2 rounded p-4 shadow w-96 border-4 border-sky-200 bg-sky-200 bg-opacity-90 relative")},m(_,k){C(_,e,k),u[n].m(e,null),f(e,l),f(e,s),g.m(s,null),f(s,r),b&&b.m(s,null),a=!0},p(_,k){let h=n;n=c(_),n===h?u[n].p(_,k):(ae(),A(u[h],1,1,()=>{u[h]=null}),ce(),o=u[n],o?o.p(_,k):(o=u[n]=i[n](_),o.c()),R(o,1),o.m(e,l)),d===(d=p(_))&&g?g.p(_,k):(g.d(1),g=d(_),g&&(g.c(),g.m(s,r))),_[18].admin&&_[18].admin==1?b?b.p(_,k):(b=Jt(_),b.c(),b.m(s,null)):b&&(b.d(1),b=null)},i(_){a||(R(o),a=!0)},o(_){A(o),a=!1},d(_){_&&$(e),u[n].d(),g.d(),b&&b.d()}}}function qo(t,e,n){let o,l;fe(t,Ae,L=>n(17,o=L)),fe(t,be,L=>n(18,l=L));const s=Pe();let{report:r}=e;console.log(r);let a=r.Incident_Date,i=r.Offence_ID,u=r.People_ID,c=r.People_name,p=r.People_licence,d=r.Vehicle_ID,g=r.Vehicle_colour,b=r.Vehicle_make,_=r.Vehicle_model,k=r.Vehicle_licence,h=r.Incident_Report,v=r.Fine_ID,y=r.Fine_Amount,I=r.Fine_Points,D=!1,S=!1;const O=L=>{for(const B of o)if(B.Offence_ID==L)return B};let N=O(i);const E=async()=>{let L=new FormData;L.append("incidentId",r.Incident_ID),L.append("personId",u),L.append("vehicleId",d),L.append("offenceId",i),L.append("date",a),L.append("statement",h),console.log(r.Incident_ID);const B=`${Y}/backend/report/edit-report.php`;let X=await fetch(B,{method:"POST",body:L});X=await X.json(),console.log(X),n(15,D=!1),X.status==1?(se("Record successfully editted!"),s("reportEditted",{Incident_ID:r.Incident_ID,Incident_Date:a,Offence_ID:i,Offence_description:N.Offence_description,Offence_maxFine:N.Offence_maxFine,Offence_maxPoints:N.Offence_maxPoints,People_ID:u,People_name:c,People_licence:p,Vehicle_ID:d,Vehicle_colour:g,Vehicle_make:b,Vehicle_model:_,Vehicle_licence:k,Incident_Report:h,Fine_Amount:y,Fine_Points:I})):te("Report was unchanged or something went wrong.")},M=async()=>{let L=new FormData;L.append("incidentId",r.Incident_ID),L.append("amount",y),L.append("points",I);let B="";v?(L.append("fineId",v),B=`${Y}/backend/report/edit-fine.php`):B=`${Y}/backend/report/add-fine.php`;let X=await fetch(B,{method:"POST",body:L});X=await X.json(),console.log(X),n(16,S=!1),X.status==1?(se("Fine successfully editted!"),n(12,v=X.id),s("fineEditted",{Incident_ID:r.Incident_ID,Fine_ID:X.id,Fine_Amount:y,Fine_Points:I})):te("Fine failed to update!")};function Q(){a=this.value,n(2,a)}function $e(){i=cn(this),n(1,i)}const he=L=>{const B=L.detail;n(3,u=B.People_ID),n(4,c=B.People_name),n(5,p=B.People_licence)},me=L=>{const B=L.detail;n(6,d=B.Vehicle_ID),n(7,g=B.Vehicle_colour),n(8,b=B.Vehicle_make),n(9,_=B.Vehicle_model),n(10,k=B.Vehicle_licence)};function re(){h=this.value,n(11,h)}function Ce(){y=Ze(this.value),n(13,y)}function ie(){I=Ze(this.value),n(14,I)}const W=()=>{n(15,D=!D)},H=()=>{n(15,D=!D)},le=()=>{n(16,S=!S)},oe=()=>{n(16,S=!S)};return t.$$set=L=>{"report"in L&&n(0,r=L.report)},t.$$.update=()=>{t.$$.dirty[0]&2&&(N=O(i))},[r,i,a,u,c,p,d,g,b,_,k,h,v,y,I,D,S,o,l,E,M,Q,$e,he,me,re,Ce,ie,W,H,le,oe]}class zo extends Z{constructor(e){super(),K(this,e,qo,Ho,G,{report:0},null,[-1,-1])}}function en(t,e,n){const o=t.slice();return o[7]=e[n],o[8]=e,o[9]=n,o}function tn(t){let e,n;function o(...l){return t[6](t[7],...l)}return e=new zo({props:{report:t[7]}}),e.$on("fineEditted",t[4]),e.$on("reportEditted",t[5]),e.$on("reportDeleted",o),{c(){x(e.$$.fragment)},m(l,s){q(e,l,s),n=!0},p(l,s){t=l;const r={};s&1&&(r.report=t[7]),e.$set(r)},i(l){n||(R(e.$$.fragment,l),n=!0)},o(l){A(e.$$.fragment,l),n=!1},d(l){z(e,l)}}}function xo(t){let e,n,o,l,s,r,a,i,u,c,p,d,g,b=t[0],_=[];for(let h=0;h<b.length;h+=1)_[h]=tn(en(t,b,h));const k=h=>A(_[h],1,1,()=>{_[h]=null});return{c(){e=w("form"),n=w("label"),n.textContent="Name",o=P(),l=w("input"),s=P(),r=w("button"),a=V("Search"),u=P();for(let h=0;h<_.length;h+=1)_[h].c();c=pe(),m(n,"class","text-white"),m(n,"for","name"),m(l,"class","text-black"),m(l,"name","name"),m(l,"type","text"),r.disabled=i=t[1]=="",m(r,"type","submit"),m(r,"class","button"),m(e,"class","flex flex-col justify-center items-center gap-2")},m(h,v){C(h,e,v),f(e,n),f(e,o),f(e,l),F(l,t[1]),f(e,s),f(e,r),f(r,a),C(h,u,v);for(let y=0;y<_.length;y+=1)_[y].m(h,v);C(h,c,v),p=!0,d||(g=[T(l,"input",t[3]),T(e,"submit",de(t[2]))],d=!0)},p(h,[v]){if(v&2&&l.value!==h[1]&&F(l,h[1]),(!p||v&2&&i!==(i=h[1]==""))&&(r.disabled=i),v&1){b=h[0];let y;for(y=0;y<b.length;y+=1){const I=en(h,b,y);_[y]?(_[y].p(I,v),R(_[y],1)):(_[y]=tn(I),_[y].c(),R(_[y],1),_[y].m(c.parentNode,c))}for(ae(),y=b.length;y<_.length;y+=1)k(y);ce()}},i(h){if(!p){for(let v=0;v<b.length;v+=1)R(_[v]);p=!0}},o(h){_=_.filter(Boolean);for(let v=0;v<_.length;v+=1)A(_[v]);p=!1},d(h){h&&$(e),h&&$(u),Re(_,h),h&&$(c),d=!1,J(g)}}}function Go(t,e,n){let o=[],l="";const s=async()=>{const c=`${Y}/backend/report/get-reports-by-name.php?name=${l}`;let p=await fetch(c);p=await p.json(),n(0,o=p.data),o?se(`Found ${o.length} reports.`):te("No report found!"),console.log("Reports",o)};function r(){l=this.value,n(1,l)}return[o,l,s,r,c=>{const p=c.detail;console.log(p),n(0,o=o.map(d=>p.Incident_ID==d.Incident_ID?(d.Fine_ID=p.Fine_ID,d.Fine_Amount=p.Fine_Amount,d.Fine_Points=p.Fine_Points,console.log(d),d):(console.log(d),d)))},c=>{const p=c.detail;console.log(p),n(0,o=o.map(d=>p.Incident_ID==d.Incident_ID?(console.log("Found"),p):d))},(c,p)=>{const d=p.detail;n(0,o=o.filter(g=>g.Incident_ID!==d)),console.log(c)}]}class Ko extends Z{constructor(e){super(),K(this,e,Go,xo,G,{})}}function Zo(t){let e,n;return e=new Ko({}),{c(){x(e.$$.fragment)},m(o,l){q(e,o,l),n=!0},i(o){n||(R(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){z(e,o)}}}function Qo(t){let e,n;return e=new Io({}),{c(){x(e.$$.fragment)},m(o,l){q(e,o,l),n=!0},i(o){n||(R(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){z(e,o)}}}function Wo(t){let e,n,o,l,s,r,a,i,u,c,p,d;const g=[Qo,Zo],b=[];function _(k,h){return k[0]?0:k[1]?1:-1}return~(i=_(t))&&(u=b[i]=g[i](t)),{c(){e=w("div"),n=w("div"),o=w("button"),o.textContent="Search Reports",l=P(),s=w("button"),s.textContent="Create a Report",r=P(),a=w("div"),u&&u.c(),m(o,"class","button"),m(s,"class","button"),m(n,"class","flex justify-center gap-4 py-4"),m(a,"class","grid place-content-center gap-1"),m(e,"class","bg-traffic bg-no-repeat bg-cover bg-center h-screen")},m(k,h){C(k,e,h),f(e,n),f(n,o),f(n,l),f(n,s),f(e,r),f(e,a),~i&&b[i].m(a,null),c=!0,p||(d=[T(o,"click",t[2]),T(s,"click",t[3])],p=!0)},p(k,[h]){let v=i;i=_(k),i!==v&&(u&&(ae(),A(b[v],1,1,()=>{b[v]=null}),ce()),~i?(u=b[i],u||(u=b[i]=g[i](k),u.c()),R(u,1),u.m(a,null)):u=null)},i(k){c||(R(u),c=!0)},o(k){A(u),c=!1},d(k){k&&$(e),~i&&b[i].d(),p=!1,J(d)}}}function Xo(t,e,n){let o;fe(t,Ae,u=>n(4,o=u)),_t(async()=>{const u=`${Y}/backend/report/get-offences.php`;let c=await fetch(u);c=await c.json(),ve(Ae,o=c.data,o),console.log(Ae)});let s=!1,r=!1;return[s,r,()=>{n(1,r=!0),n(0,s=!1)},()=>{n(0,s=!0),n(1,r=!1)}]}class Yo extends Z{constructor(e){super(),K(this,e,Xo,Wo,G,{})}}function Jo(t){let e,n,o,l,s,r,a,i,u,c,p,d,g,b,_,k;return{c(){e=w("h2"),e.textContent="Change password",n=P(),o=w("form"),l=w("label"),l.textContent="Current Password",s=P(),r=w("input"),a=P(),i=w("label"),i.textContent="New Password",u=P(),c=w("input"),p=P(),d=w("button"),g=V("Submit"),m(e,"class","text-xl"),m(l,"for","currentPassword"),m(r,"class","text-black"),m(r,"name","currentPassword"),m(r,"type","password"),m(i,"for","newPassword"),m(c,"class","text-black"),m(c,"name","newPassword"),m(c,"type","password"),d.disabled=b=t[0]==""||t[1]=="",m(d,"type","submit"),m(d,"class","button"),m(o,"class","flex flex-col justify-center items-center gap-2")},m(h,v){C(h,e,v),C(h,n,v),C(h,o,v),f(o,l),f(o,s),f(o,r),F(r,t[0]),f(o,a),f(o,i),f(o,u),f(o,c),F(c,t[1]),f(o,p),f(o,d),f(d,g),_||(k=[T(r,"input",t[3]),T(c,"input",t[4]),T(o,"submit",de(t[2]))],_=!0)},p(h,[v]){v&1&&r.value!==h[0]&&F(r,h[0]),v&2&&c.value!==h[1]&&F(c,h[1]),v&3&&b!==(b=h[0]==""||h[1]=="")&&(d.disabled=b)},i:j,o:j,d(h){h&&$(e),h&&$(n),h&&$(o),_=!1,J(k)}}}function es(t,e,n){let o;fe(t,be,u=>n(5,o=u));let l="",s="";const r=async()=>{if(o.username===void 0)return te("You are not logged in."),0;let u=new FormData;u.append("username",o.username),u.append("currentPassword",l),u.append("newPassword",s);const c=`${Y}/backend/user/change-password.php`;let p=await fetch(c,{method:"POST",body:u});p=await p.json(),u=p.data,n(0,l=""),n(1,s=""),u==1?(console.log("Password updated"),se("Password updated!")):u==0&&(console.log("No rows updated. Password incorrect or new password is the same as old passowrd."),te("Password incorrect!"))};function a(){l=this.value,n(0,l)}function i(){s=this.value,n(1,s)}return[l,s,r,a,i]}class ts extends Z{constructor(e){super(),K(this,e,es,Jo,G,{})}}function ns(t){let e,n,o,l,s,r,a,i,u,c,p,d,g,b,_,k;return{c(){e=w("h2"),e.textContent="Create New Police Account",n=P(),o=w("form"),l=w("label"),l.textContent="Username",s=P(),r=w("input"),a=P(),i=w("label"),i.textContent="Password",u=P(),c=w("input"),p=P(),d=w("button"),g=V("Submit"),m(e,"class","text-xl"),m(l,"for","username"),m(r,"class","text-black"),m(r,"name","username"),m(r,"type","text"),m(i,"for","password"),m(c,"class","text-black"),m(c,"name","password"),m(c,"type","password"),d.disabled=b=t[0]==""||t[1]=="",m(d,"type","submit"),m(d,"class","button"),m(o,"class","flex flex-col justify-center items-center gap-2")},m(h,v){C(h,e,v),C(h,n,v),C(h,o,v),f(o,l),f(o,s),f(o,r),F(r,t[0]),f(o,a),f(o,i),f(o,u),f(o,c),F(c,t[1]),f(o,p),f(o,d),f(d,g),_||(k=[T(r,"input",t[3]),T(c,"input",t[4]),T(o,"submit",de(t[2]))],_=!0)},p(h,[v]){v&1&&r.value!==h[0]&&F(r,h[0]),v&2&&c.value!==h[1]&&F(c,h[1]),v&3&&b!==(b=h[0]==""||h[1]=="")&&(d.disabled=b)},i:j,o:j,d(h){h&&$(e),h&&$(n),h&&$(o),_=!1,J(k)}}}function ls(t,e,n){let o;fe(t,be,u=>n(5,o=u));let l="",s="";const r=async()=>{if(o.username===void 0)return te("You are not logged in."),0;let u=new FormData;u.append("username",l),u.append("password",s);const c=`${Y}/backend/user/create-account.php`;let p=await fetch(c,{method:"POST",body:u});p=await p.json(),p.status==1?(n(0,l=""),n(1,s=""),se("Account created!")):te("This user already exists!")};function a(){l=this.value,n(0,l)}function i(){s=this.value,n(1,s)}return[l,s,r,a,i]}class os extends Z{constructor(e){super(),K(this,e,ls,ns,G,{})}}function ss(t){let e,n,o,l,s,r;return o=new ts({}),s=new os({}),{c(){e=w("div"),n=w("main"),x(o.$$.fragment),l=P(),x(s.$$.fragment),m(n,"class","text-white flex flex-col gap-4 pt-4 justify-center items-center"),m(e,"class","bg-traffic bg-no-repeat bg-cover bg-center h-screen")},m(a,i){C(a,e,i),f(e,n),q(o,n,null),f(n,l),q(s,n,null),r=!0},p:j,i(a){r||(R(o.$$.fragment,a),R(s.$$.fragment,a),r=!0)},o(a){A(o.$$.fragment,a),A(s.$$.fragment,a),r=!1},d(a){a&&$(e),z(o),z(s)}}}class rs extends Z{constructor(e){super(),K(this,e,null,ss,G,{})}}function is(t){let e;return{c(){e=w("div"),e.innerHTML=`<main class="bg-sky-100 opacity-90 p-6"><h2 class="font-semibold text-xl mb-4">References</h2> 

        <p><a target="#" class="flex gap-1 underline" href="https://www.flaticon.com/free-icons/police" title="police icons"><img alt="Blue Police Badge Icon" src="/images/badge.png"/> Police
                favicon icon created by Freepik - Flaticon</a></p> 

        <p>Background Image -
            <a class="underline" target="#" href="https://www.pexels.com/photo/aerial-photography-of-cars-on-the-road-during-night-time-12445652/">Pexels Simon Klasen</a></p> 

        <p>Notifications - <a class="underline" target="#" href="https://github.com/zerodevx/svelte-toast">Zerodevx Svelte-Toast</a></p> 

        <p>Svelte, PHP tutorial <a class="underline" target="#" href="https://www.youtube.com/playlist?list=PLh7PNLbTepP94NqlzNvEQGUlxu8dZXN8U">API application with Svelte, PHP, and MySQL/MariaDB Tutorial</a></p> 

        <p>Svelte Guide <a class="underline" target="#" href="https://www.sitepoint.com/premium/books/svelte-a-beginner-s-guide/">Svelte A Beginner&#39;s Guide by Simon Holthausen</a></p></main>`,m(e,"class","bg-traffic bg-no-repeat bg-cover bg-center min-h-screen")},m(n,o){C(n,e,o)},p:j,i:j,o:j,d(n){n&&$(e)}}}class as extends Z{constructor(e){super(),K(this,e,null,is,G,{})}}function cs(t){let e;return{c(){e=w("h2"),e.textContent="Nothing here"},m(n,o){C(n,e,o)},p:j,i:j,o:j,d(n){n&&$(e)}}}class us extends Z{constructor(e){super(),K(this,e,null,cs,G,{})}}function nn(t){let e,n;return{c(){e=lt("title"),n=V(t[0])},m(o,l){C(o,e,l),f(e,n)},p(o,l){l&1&&U(n,o[0])},d(o){o&&$(e)}}}function fs(t){let e,n,o,l=t[0]&&nn(t);const s=t[3].default,r=Vn(s,t,t[2],null);return{c(){e=lt("svg"),l&&l.c(),n=pe(),r&&r.c(),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"viewBox",t[1]),m(e,"class","svelte-c8tyih")},m(a,i){C(a,e,i),l&&l.m(e,null),f(e,n),r&&r.m(e,null),o=!0},p(a,[i]){a[0]?l?l.p(a,i):(l=nn(a),l.c(),l.m(e,n)):l&&(l.d(1),l=null),r&&r.p&&(!o||i&4)&&Tn(r,s,a,a[2],o?Sn(s,a[2],i,null):On(a[2]),null),(!o||i&2)&&m(e,"viewBox",a[1])},i(a){o||(R(r,a),o=!0)},o(a){A(r,a),o=!1},d(a){a&&$(e),l&&l.d(),r&&r.d(a)}}}function ps(t,e,n){let{$$slots:o={},$$scope:l}=e,{title:s=null}=e,{viewBox:r}=e;return t.$$set=a=>{"title"in a&&n(0,s=a.title),"viewBox"in a&&n(1,r=a.viewBox),"$$scope"in a&&n(2,l=a.$$scope)},[s,r,l,o]}class ds extends Z{constructor(e){super(),K(this,e,ps,fs,G,{title:0,viewBox:1})}}function hs(t){let e;return{c(){e=lt("path"),m(e,"d","M499.99 176h-59.87l-16.64-41.6C406.38 91.63 365.57 64 319.5 64h-127c-46.06 0-86.88 27.63-103.99 70.4L71.87 176H12.01C4.2 176-1.53 183.34.37 190.91l6 24C7.7 220.25 12.5 224 18.01 224h20.07C24.65 235.73 16 252.78 16 272v48c0 16.12 6.16 30.67 16 41.93V416c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32v-32h256v32c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32v-54.07c9.84-11.25 16-25.8 16-41.93v-48c0-19.22-8.65-36.27-22.07-48H494c5.51 0 10.31-3.75 11.64-9.09l6-24c1.89-7.57-3.84-14.91-11.65-14.91zm-352.06-17.83c7.29-18.22 24.94-30.17 44.57-30.17h127c19.63 0 37.28 11.95 44.57 30.17L384 208H128l19.93-49.83zM96 319.8c-19.2 0-32-12.76-32-31.9S76.8 256 96 256s48 28.71 48 47.85-28.8 15.95-48 15.95zm320 0c-19.2 0-48 3.19-48-15.95S396.8 256 416 256s32 12.76 32 31.9-12.8 31.9-32 31.9z")},m(n,o){C(n,e,o)},p:j,d(n){n&&$(e)}}}function _s(t){let e,n;const o=[{viewBox:"0 0 512 512"},t[0]];let l={$$slots:{default:[hs]},$$scope:{ctx:t}};for(let s=0;s<o.length;s+=1)l=Ie(l,o[s]);return e=new ds({props:l}),{c(){x(e.$$.fragment)},m(s,r){q(e,s,r),n=!0},p(s,[r]){const a=r&1?_n(o,[o[0],mn(s[0])]):{};r&2&&(a.$$scope={dirty:r,ctx:s}),e.$set(a)},i(s){n||(R(e.$$.fragment,s),n=!0)},o(s){A(e.$$.fragment,s),n=!1},d(s){z(e,s)}}}function ms(t,e,n){return t.$$set=o=>{n(0,e=Ie(Ie({},e),yt(o)))},e=yt(e),[e]}class bs extends Z{constructor(e){super(),K(this,e,ms,_s,G,{})}}function gs(t){let e;return{c(){e=w("a"),e.textContent="Login",m(e,"class","place-self-start font-semibold mr-2 hover:text-gray-500"),m(e,"href","./")},m(n,o){C(n,e,o)},p:j,d(n){n&&$(e)}}}function vs(t){let e,n,o,l=t[0].username+"",s;return{c(){e=w("a"),n=V("Logged in as "),o=w("span"),s=V(l),m(o,"class","font-bold"),m(e,"class","place-self-start font-semibold mr-2 hover:text-gray-500"),m(e,"href","./account")},m(r,a){C(r,e,a),f(e,n),f(e,o),f(o,s)},p(r,a){a&1&&l!==(l=r[0].username+"")&&U(s,l)},d(r){r&&$(e)}}}function ws(t){let e,n,o,l,s,r,a,i,u,c;function p(b,_){if(b[0].username)return vs;if(ue.current!="/")return gs}let d=p(t),g=d&&d(t);return s=new bs({}),{c(){e=w("div"),g&&g.c(),n=P(),o=w("a"),l=w("div"),x(s.$$.fragment),r=P(),a=w("header"),a.textContent="Traffic Records",i=P(),u=w("a"),u.textContent="References",m(l,"class","w-5"),m(a,"class","font-semibold"),m(o,"class","flex gap-2 justify-center items-center hover:text-gray-500 w-max col-start-2 place-self-center"),m(o,"href",t[1]),m(u,"class","place-self-end font-semibold mr-2 hover:text-gray-500"),m(u,"href","./references"),m(e,"class","w-full bg-sky-200 bg-opacity-90 p-2 grid grid-cols-3")},m(b,_){C(b,e,_),g&&g.m(e,null),f(e,n),f(e,o),f(o,l),q(s,l,null),f(o,r),f(o,a),f(e,i),f(e,u),c=!0},p(b,[_]){d===(d=p(b))&&g?g.p(b,_):(g&&g.d(1),g=d&&d(b),g&&(g.c(),g.m(e,n))),(!c||_&2)&&m(o,"href",b[1])},i(b){c||(R(s.$$.fragment,b),c=!0)},o(b){A(s.$$.fragment,b),c=!1},d(b){b&&$(e),g&&g.d(),z(s)}}}function ks(t,e,n){let o;fe(t,be,r=>n(0,o=r));let l="/";const s=()=>{typeof o=="object"&&o.username&&n(1,l="/dashboard")};return t.$$.update=()=>{t.$$.dirty&1&&s()},[o,l]}class ys extends Z{constructor(e){super(),K(this,e,ks,ws,G,{})}}function Ps(t){let e,n,o,l,s,r,a;e=new Nl({}),o=new ys({});var i=t[0];function u(c){return{}}return i&&(s=We(i,u())),{c(){x(e.$$.fragment),n=P(),x(o.$$.fragment),l=P(),s&&x(s.$$.fragment),r=pe()},m(c,p){q(e,c,p),C(c,n,p),q(o,c,p),C(c,l,p),s&&q(s,c,p),C(c,r,p),a=!0},p(c,[p]){if(i!==(i=c[0])){if(s){ae();const d=s;A(d.$$.fragment,1,0,()=>{z(d,1)}),ce()}i?(s=We(i,u()),x(s.$$.fragment),R(s.$$.fragment,1),q(s,r.parentNode,r)):s=null}},i(c){a||(R(e.$$.fragment,c),R(o.$$.fragment,c),s&&R(s.$$.fragment,c),a=!0)},o(c){A(e.$$.fragment,c),A(o.$$.fragment,c),s&&A(s.$$.fragment,c),a=!1},d(c){z(e,c),c&&$(n),z(o,c),c&&$(l),c&&$(r),s&&z(s,c)}}}function $s(t,e,n){let o;return ue(`${ge}/`,()=>n(0,o=ml)),ue(`${ge}/dashboard`,()=>n(0,o=kl)),ue(`${ge}/people`,()=>n(0,o=Wl)),ue(`${ge}/vehicles`,()=>n(0,o=vo)),ue(`${ge}/reports`,()=>n(0,o=Yo)),ue(`${ge}/account`,()=>n(0,o=rs)),ue(`${ge}/references`,()=>n(0,o=as)),ue(`${ge}/*`,()=>n(0,o=us)),ue.start(),console.log(ue.current),[o]}class Cs extends Z{constructor(e){super(),K(this,e,$s,Ps,G,{})}}new Cs({target:document.getElementById("app")});
