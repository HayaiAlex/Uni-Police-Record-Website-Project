(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))l(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&l(r)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function q(){}const qe=t=>t;function Pe(t,e){for(const n in e)t[n]=e[n];return t}function Nn(t){return t()}function Ut(){return Object.create(null)}function ae(t){t.forEach(Nn)}function Xe(t){return typeof t=="function"}function le(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function il(t){return Object.keys(t).length===0}function ol(t,...e){if(t==null)return q;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function se(t,e,n){t.$$.on_destroy.push(ol(e,n))}function rl(t,e,n,l){if(t){const i=Fn(t,e,n,l);return t[0](i)}}function Fn(t,e,n,l){return t[1]&&l?Pe(n.ctx.slice(),t[1](l(e))):n.ctx}function sl(t,e,n,l){if(t[2]&&l){const i=t[2](l(n));if(e.dirty===void 0)return i;if(typeof i=="object"){const o=[],r=Math.max(e.dirty.length,i.length);for(let c=0;c<r;c+=1)o[c]=e.dirty[c]|i[c];return o}return e.dirty|i}return e.dirty}function al(t,e,n,l,i,o){if(i){const r=Fn(e,n,l,o);t.p(r,i)}}function cl(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let l=0;l<n;l++)e[l]=-1;return e}return-1}function He(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function Mt(t){return t==null?"":t}function ye(t,e,n){return t.set(n),e}const Ln=typeof window<"u";let _t=Ln?()=>window.performance.now():()=>Date.now(),St=Ln?t=>requestAnimationFrame(t):q;const Be=new Set;function Un(t){Be.forEach(e=>{e.c(t)||(Be.delete(e),e.f())}),Be.size!==0&&St(Un)}function ht(t){let e;return Be.size===0&&St(Un),{promise:new Promise(n=>{Be.add(e={c:t,f:n})}),abort(){Be.delete(e)}}}function s(t,e){t.appendChild(e)}function Mn(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function ul(t){const e=h("style");return fl(Mn(t),e),e.sheet}function fl(t,e){return s(t.head||t,e),e.sheet}function D(t,e,n){t.insertBefore(e,n||null)}function I(t){t.parentNode.removeChild(t)}function Le(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function h(t){return document.createElement(t)}function Ge(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function V(t){return document.createTextNode(t)}function P(){return V(" ")}function Ce(){return V("")}function L(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function ve(t){return function(e){return e.preventDefault(),t.call(this,e)}}function m(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function st(t){return t===""?null:+t}function dl(t){return Array.from(t.childNodes)}function j(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function z(t,e){t.value=e==null?"":e}function at(t,e){for(let n=0;n<t.options.length;n+=1){const l=t.options[n];if(l.__value===e){l.selected=!0;return}}t.selectedIndex=-1}function Bn(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function nt(t,e,n){t.classList[n?"add":"remove"](e)}function Hn(t,e,{bubbles:n=!1,cancelable:l=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n,l,e),i}class pl{constructor(e=!1){this.is_svg=!1,this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,l=null){this.e||(this.is_svg?this.e=Ge(n.nodeName):this.e=h(n.nodeName),this.t=n,this.c(e)),this.i(l)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)D(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(I)}}function ct(t,e){return new t(e)}const ut=new Map;let ft=0;function _l(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function hl(t,e){const n={stylesheet:ul(e),rules:{}};return ut.set(t,n),n}function Et(t,e,n,l,i,o,r,c=0){const a=16.666/l;let u=`{
`;for(let k=0;k<=1;k+=a){const b=e+(n-e)*o(k);u+=k*100+`%{${r(b,1-b)}}
`}const f=u+`100% {${r(n,1-n)}}
}`,d=`__svelte_${_l(f)}_${c}`,p=Mn(t),{stylesheet:g,rules:v}=ut.get(p)||hl(p,t);v[d]||(v[d]=!0,g.insertRule(`@keyframes ${d} ${f}`,g.cssRules.length));const _=t.style.animation||"";return t.style.animation=`${_?`${_}, `:""}${d} ${l}ms linear ${i}ms 1 both`,ft+=1,d}function dt(t,e){const n=(t.style.animation||"").split(", "),l=n.filter(e?o=>o.indexOf(e)<0:o=>o.indexOf("__svelte")===-1),i=n.length-l.length;i&&(t.style.animation=l.join(", "),ft-=i,ft||ml())}function ml(){St(()=>{ft||(ut.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&I(e)}),ut.clear())})}function bl(t,e,n,l){if(!e)return q;const i=t.getBoundingClientRect();if(e.left===i.left&&e.right===i.right&&e.top===i.top&&e.bottom===i.bottom)return q;const{delay:o=0,duration:r=300,easing:c=qe,start:a=_t()+o,end:u=a+r,tick:f=q,css:d}=n(t,{from:e,to:i},l);let p=!0,g=!1,v;function _(){d&&(v=Et(t,0,1,r,o,c,d)),o||(g=!0)}function k(){d&&dt(t,v),p=!1}return ht(b=>{if(!g&&b>=a&&(g=!0),g&&b>=u&&(f(1,0),k()),!p)return!1;if(g){const w=b-a,y=0+1*c(w/r);f(y,1-y)}return!0}),_(),f(0,1),k}function gl(t){const e=getComputedStyle(t);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:n,height:l}=e,i=t.getBoundingClientRect();t.style.position="absolute",t.style.width=n,t.style.height=l,zn(t,i)}}function zn(t,e){const n=t.getBoundingClientRect();if(e.left!==n.left||e.top!==n.top){const l=getComputedStyle(t),i=l.transform==="none"?"":l.transform;t.style.transform=`${i} translate(${e.left-n.left}px, ${e.top-n.top}px)`}}let Qe;function Ze(t){Qe=t}function Ot(){if(!Qe)throw new Error("Function called outside component initialization");return Qe}function Je(t){Ot().$$.on_mount.push(t)}function wl(t){Ot().$$.on_destroy.push(t)}function Te(){const t=Ot();return(e,n,{cancelable:l=!1}={})=>{const i=t.$$.callbacks[e];if(i){const o=Hn(e,n,{cancelable:l});return i.slice().forEach(r=>{r.call(t,o)}),!o.defaultPrevented}return!0}}const Ye=[],Bt=[],it=[],Ht=[],vl=Promise.resolve();let Ct=!1;function kl(){Ct||(Ct=!0,vl.then(qn))}function Oe(t){it.push(t)}const $t=new Set;let lt=0;function qn(){const t=Qe;do{for(;lt<Ye.length;){const e=Ye[lt];lt++,Ze(e),yl(e.$$)}for(Ze(null),Ye.length=0,lt=0;Bt.length;)Bt.pop()();for(let e=0;e<it.length;e+=1){const n=it[e];$t.has(n)||($t.add(n),n())}it.length=0}while(Ye.length);for(;Ht.length;)Ht.pop()();Ct=!1,$t.clear(),Ze(t)}function yl(t){if(t.fragment!==null){t.update(),ae(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Oe)}}let Ke;function Gn(){return Ke||(Ke=Promise.resolve(),Ke.then(()=>{Ke=null})),Ke}function pt(t,e,n){t.dispatchEvent(Hn(`${e?"intro":"outro"}${n}`))}const ot=new Set;let Ee;function ue(){Ee={r:0,c:[],p:Ee}}function fe(){Ee.r||ae(Ee.c),Ee=Ee.p}function R(t,e){t&&t.i&&(ot.delete(t),t.i(e))}function U(t,e,n,l){if(t&&t.o){if(ot.has(t))return;ot.add(t),Ee.c.push(()=>{ot.delete(t),l&&(n&&t.d(1),l())}),t.o(e)}else l&&l()}const Kn={duration:0};function Pl(t,e,n){let l=e(t,n),i=!1,o,r,c=0;function a(){o&&dt(t,o)}function u(){const{delay:d=0,duration:p=300,easing:g=qe,tick:v=q,css:_}=l||Kn;_&&(o=Et(t,0,1,p,d,g,_,c++)),v(0,1);const k=_t()+d,b=k+p;r&&r.abort(),i=!0,Oe(()=>pt(t,!0,"start")),r=ht(w=>{if(i){if(w>=b)return v(1,0),pt(t,!0,"end"),a(),i=!1;if(w>=k){const y=g((w-k)/p);v(y,1-y)}}return i})}let f=!1;return{start(){f||(f=!0,dt(t),Xe(l)?(l=l(),Gn().then(u)):u())},invalidate(){f=!1},end(){i&&(a(),i=!1)}}}function $l(t,e,n){let l=e(t,n),i=!0,o;const r=Ee;r.r+=1;function c(){const{delay:a=0,duration:u=300,easing:f=qe,tick:d=q,css:p}=l||Kn;p&&(o=Et(t,1,0,u,a,f,p));const g=_t()+a,v=g+u;Oe(()=>pt(t,!1,"start")),ht(_=>{if(i){if(_>=v)return d(0,1),pt(t,!1,"end"),--r.r||ae(r.c),!1;if(_>=g){const k=f((_-g)/u);d(1-k,k)}}return i})}return Xe(l)?Gn().then(()=>{l=l(),c()}):c(),{end(a){a&&l.tick&&l.tick(1,0),i&&(o&&dt(t,o),i=!1)}}}function Al(t,e){U(t,1,1,()=>{e.delete(t.key)})}function Cl(t,e){t.f(),Al(t,e)}function Il(t,e,n,l,i,o,r,c,a,u,f,d){let p=t.length,g=o.length,v=p;const _={};for(;v--;)_[t[v].key]=v;const k=[],b=new Map,w=new Map;for(v=g;v--;){const E=d(i,o,v),S=n(E);let T=r.get(S);T?l&&T.p(E,e):(T=u(S,E),T.c()),b.set(S,k[v]=T),S in _&&w.set(S,Math.abs(v-_[S]))}const y=new Set,A=new Set;function $(E){R(E,1),E.m(c,f),r.set(E.key,E),f=E.first,g--}for(;p&&g;){const E=k[g-1],S=t[p-1],T=E.key,C=S.key;E===S?(f=E.first,p--,g--):b.has(C)?!r.has(T)||y.has(T)?$(E):A.has(C)?p--:w.get(T)>w.get(C)?(A.add(T),$(E)):(y.add(C),p--):(a(S,r),p--)}for(;p--;){const E=t[p];b.has(E.key)||a(E,r)}for(;g;)$(k[g-1]);return k}function mt(t,e){const n={},l={},i={$$scope:1};let o=t.length;for(;o--;){const r=t[o],c=e[o];if(c){for(const a in r)a in c||(l[a]=1);for(const a in c)i[a]||(n[a]=c[a],i[a]=1);t[o]=c}else for(const a in r)i[a]=1}for(const r in l)r in n||(n[r]=void 0);return n}function bt(t){return typeof t=="object"&&t!==null?t:{}}function te(t){t&&t.c()}function x(t,e,n,l){const{fragment:i,after_update:o}=t.$$;i&&i.m(e,n),l||Oe(()=>{const r=t.$$.on_mount.map(Nn).filter(Xe);t.$$.on_destroy?t.$$.on_destroy.push(...r):ae(r),t.$$.on_mount=[]}),o.forEach(Oe)}function ee(t,e){const n=t.$$;n.fragment!==null&&(ae(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Dl(t,e){t.$$.dirty[0]===-1&&(Ye.push(t),kl(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ie(t,e,n,l,i,o,r,c=[-1]){const a=Qe;Ze(t);const u=t.$$={fragment:null,ctx:[],props:o,update:q,not_equal:i,bound:Ut(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:Ut(),dirty:c,skip_bound:!1,root:e.target||a.$$.root};r&&r(u.root);let f=!1;if(u.ctx=n?n(t,e.props||{},(d,p,...g)=>{const v=g.length?g[0]:p;return u.ctx&&i(u.ctx[d],u.ctx[d]=v)&&(!u.skip_bound&&u.bound[d]&&u.bound[d](v),f&&Dl(t,d)),p}):[],u.update(),f=!0,ae(u.before_update),u.fragment=l?l(u.ctx):!1,e.target){if(e.hydrate){const d=dl(e.target);u.fragment&&u.fragment.l(d),d.forEach(I)}else u.fragment&&u.fragment.c();e.intro&&R(t.$$.fragment),x(t,e.target,e.anchor,e.customElement),qn()}Ze(a)}class oe{$destroy(){ee(this,1),this.$destroy=q}$on(e,n){if(!Xe(n))return q;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const i=l.indexOf(n);i!==-1&&l.splice(i,1)}}$set(e){this.$$set&&!il(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}let re="http://",Fe=import.meta.url;Fe=Fe.split("config.js")[0];console.log(`Path: ${Fe}`);const zt={"http://localhost/police/index.js":"http://localhost","http://localhost:5173/src/":"http://localhost","http://mersey.cs.nott.ac.uk/~psxaa48/police/main.js":"http://mersey.cs.nott.ac.uk/~psxaa48/police"};zt[Fe]?re=zt[Fe]:(console.log("Did not find a custom root to use. Using default localhost to get php files"),re="http://localhost");console.log(`Root: ${re}`);let he="";const qt={"http://localhost/police/index.js":"/police","http://localhost:5173/src/":"","http://mersey.cs.nott.ac.uk/~psxaa48/police/main.js":"/~psxaa48/police"};qt[Fe]?he=qt[Fe]:console.log("Did not find a custom url prefix to use. Defaulting to /");var It=Array.isArray||function(t){return Object.prototype.toString.call(t)=="[object Array]"},xe=Wn,Vl=Tt,Sl=Rl,El=Yn,Ol=Qn,Tl=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^()])+)\\))?|\\(((?:\\\\.|[^()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function Tt(t){for(var e=[],n=0,l=0,i="",o;(o=Tl.exec(t))!=null;){var r=o[0],c=o[1],a=o.index;if(i+=t.slice(l,a),l=a+r.length,c){i+=c[1];continue}i&&(e.push(i),i="");var u=o[2],f=o[3],d=o[4],p=o[5],g=o[6],v=o[7],_=g==="+"||g==="*",k=g==="?"||g==="*",b=u||"/",w=d||p||(v?".*":"[^"+b+"]+?");e.push({name:f||n++,prefix:u||"",delimiter:b,optional:k,repeat:_,pattern:jl(w)})}return l<t.length&&(i+=t.substr(l)),i&&e.push(i),e}function Rl(t){return Yn(Tt(t))}function Yn(t){for(var e=new Array(t.length),n=0;n<t.length;n++)typeof t[n]=="object"&&(e[n]=new RegExp("^"+t[n].pattern+"$"));return function(l){for(var i="",o=l||{},r=0;r<t.length;r++){var c=t[r];if(typeof c=="string"){i+=c;continue}var a=o[c.name],u;if(a==null){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to be defined')}if(It(a)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received "'+a+'"');if(a.length===0){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var f=0;f<a.length;f++){if(u=encodeURIComponent(a[f]),!e[r].test(u))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received "'+u+'"');i+=(f===0?c.prefix:c.delimiter)+u}continue}if(u=encodeURIComponent(a),!e[r].test(u))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+u+'"');i+=c.prefix+u}return i}}function Gt(t){return t.replace(/([.+*?=^!:${}()[\]|\/])/g,"\\$1")}function jl(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function Rt(t,e){return t.keys=e,t}function Zn(t){return t.sensitive?"":"i"}function Nl(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var l=0;l<n.length;l++)e.push({name:l,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return Rt(t,e)}function Fl(t,e,n){for(var l=[],i=0;i<t.length;i++)l.push(Wn(t[i],e,n).source);var o=new RegExp("(?:"+l.join("|")+")",Zn(n));return Rt(o,e)}function Ll(t,e,n){for(var l=Tt(t),i=Qn(l,n),o=0;o<l.length;o++)typeof l[o]!="string"&&e.push(l[o]);return Rt(i,e)}function Qn(t,e){e=e||{};for(var n=e.strict,l=e.end!==!1,i="",o=t[t.length-1],r=typeof o=="string"&&/\/$/.test(o),c=0;c<t.length;c++){var a=t[c];if(typeof a=="string")i+=Gt(a);else{var u=Gt(a.prefix),f=a.pattern;a.repeat&&(f+="(?:"+u+f+")*"),a.optional?u?f="(?:"+u+"("+f+"))?":f="("+f+")?":f=u+"("+f+")",i+=f}}return n||(i=(r?i.slice(0,-2):i)+"(?:\\/(?=$))?"),l?i+="$":i+=n&&r?"":"(?=\\/|$)",new RegExp("^"+i,Zn(e))}function Wn(t,e,n){return e=e||[],It(e)?n||(n={}):(n=e,e=[]),t instanceof RegExp?Nl(t,e):It(t)?Fl(t,e,n):Ll(t,e,n)}xe.parse=Vl;xe.compile=Sl;xe.tokensToFunction=El;xe.tokensToRegExp=Ol;var ze=typeof document<"u",Ae=typeof window<"u",gt=typeof history<"u",Ul=typeof process<"u",Dt=ze&&document.ontouchstart?"touchstart":"click",Ve=Ae&&!!(window.history.location||window.location);function pe(){this.callbacks=[],this.exits=[],this.current="",this.len=0,this._decodeURLComponents=!0,this._base="",this._strict=!1,this._running=!1,this._hashbang=!1,this.clickHandler=this.clickHandler.bind(this),this._onpopstate=this._onpopstate.bind(this)}pe.prototype.configure=function(t){var e=t||{};this._window=e.window||Ae&&window,this._decodeURLComponents=e.decodeURLComponents!==!1,this._popstate=e.popstate!==!1&&Ae,this._click=e.click!==!1&&ze,this._hashbang=!!e.hashbang;var n=this._window;this._popstate?n.addEventListener("popstate",this._onpopstate,!1):Ae&&n.removeEventListener("popstate",this._onpopstate,!1),this._click?n.document.addEventListener(Dt,this.clickHandler,!1):ze&&n.document.removeEventListener(Dt,this.clickHandler,!1),this._hashbang&&Ae&&!gt?n.addEventListener("hashchange",this._onpopstate,!1):Ae&&n.removeEventListener("hashchange",this._onpopstate,!1)};pe.prototype.base=function(t){if(arguments.length===0)return this._base;this._base=t};pe.prototype._getBase=function(){var t=this._base;if(t)return t;var e=Ae&&this._window&&this._window.location;return Ae&&this._hashbang&&e&&e.protocol==="file:"&&(t=e.pathname),t};pe.prototype.strict=function(t){if(arguments.length===0)return this._strict;this._strict=t};pe.prototype.start=function(t){var e=t||{};if(this.configure(e),e.dispatch!==!1){this._running=!0;var n;if(Ve){var l=this._window,i=l.location;this._hashbang&&~i.hash.indexOf("#!")?n=i.hash.substr(2)+i.search:this._hashbang?n=i.search+i.hash:n=i.pathname+i.search+i.hash}this.replace(n,null,!0,e.dispatch)}};pe.prototype.stop=function(){if(!!this._running){this.current="",this.len=0,this._running=!1;var t=this._window;this._click&&t.document.removeEventListener(Dt,this.clickHandler,!1),Ae&&t.removeEventListener("popstate",this._onpopstate,!1),Ae&&t.removeEventListener("hashchange",this._onpopstate,!1)}};pe.prototype.show=function(t,e,n,l){var i=new et(t,e,this),o=this.prevContext;return this.prevContext=i,this.current=i.path,n!==!1&&this.dispatch(i,o),i.handled!==!1&&l!==!1&&i.pushState(),i};pe.prototype.back=function(t,e){var n=this;if(this.len>0){var l=this._window;gt&&l.history.back(),this.len--}else setTimeout(t?function(){n.show(t,e)}:function(){n.show(n._getBase(),e)})};pe.prototype.redirect=function(t,e){var n=this;typeof t=="string"&&typeof e=="string"&&wt.call(this,t,function(l){setTimeout(function(){n.replace(e)},0)}),typeof t=="string"&&typeof e>"u"&&setTimeout(function(){n.replace(t)},0)};pe.prototype.replace=function(t,e,n,l){var i=new et(t,e,this),o=this.prevContext;return this.prevContext=i,this.current=i.path,i.init=n,i.save(),l!==!1&&this.dispatch(i,o),i};pe.prototype.dispatch=function(t,e){var n=0,l=0,i=this;function o(){var c=i.exits[l++];if(!c)return r();c(e,o)}function r(){var c=i.callbacks[n++];if(t.path!==i.current){t.handled=!1;return}if(!c)return Ml.call(i,t);c(t,r)}e?o():r()};pe.prototype.exit=function(t,e){if(typeof t=="function")return this.exit("*",t);for(var n=new tt(t,null,this),l=1;l<arguments.length;++l)this.exits.push(n.middleware(arguments[l]))};pe.prototype.clickHandler=function(t){if(this._which(t)===1&&!(t.metaKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented){var e=t.target,n=t.path||(t.composedPath?t.composedPath():null);if(n){for(var l=0;l<n.length;l++)if(!!n[l].nodeName&&n[l].nodeName.toUpperCase()==="A"&&!!n[l].href){e=n[l];break}}for(;e&&e.nodeName.toUpperCase()!=="A";)e=e.parentNode;if(!(!e||e.nodeName.toUpperCase()!=="A")){var i=typeof e.href=="object"&&e.href.constructor.name==="SVGAnimatedString";if(!(e.hasAttribute("download")||e.getAttribute("rel")==="external")){var o=e.getAttribute("href");if(!(!this._hashbang&&this._samePath(e)&&(e.hash||o==="#"))&&!(o&&o.indexOf("mailto:")>-1)&&!(i?e.target.baseVal:e.target)&&!(!i&&!this.sameOrigin(e.href))){var r=i?e.href.baseVal:e.pathname+e.search+(e.hash||"");r=r[0]!=="/"?"/"+r:r,Ul&&r.match(/^\/[a-zA-Z]:\//)&&(r=r.replace(/^\/[a-zA-Z]:\//,"/"));var c=r,a=this._getBase();r.indexOf(a)===0&&(r=r.substr(a.length)),this._hashbang&&(r=r.replace("#!","")),!(a&&c===r&&(!Ve||this._window.location.protocol!=="file:"))&&(t.preventDefault(),this.show(c))}}}}};pe.prototype._onpopstate=function(){var t=!1;return Ae?(ze&&document.readyState==="complete"?t=!0:window.addEventListener("load",function(){setTimeout(function(){t=!0},0)}),function(n){if(!!t){var l=this;if(n.state){var i=n.state.path;l.replace(i,n.state)}else if(Ve){var o=l._window.location;l.show(o.pathname+o.search+o.hash,void 0,void 0,!1)}}}):function(){}}();pe.prototype._which=function(t){return t=t||Ae&&this._window.event,t.which==null?t.button:t.which};pe.prototype._toURL=function(t){var e=this._window;if(typeof URL=="function"&&Ve)return new URL(t,e.location.toString());if(ze){var n=e.document.createElement("a");return n.href=t,n}};pe.prototype.sameOrigin=function(t){if(!t||!Ve)return!1;var e=this._toURL(t),n=this._window,l=n.location;return l.protocol===e.protocol&&l.hostname===e.hostname&&(l.port===e.port||l.port===""&&(e.port==80||e.port==443))};pe.prototype._samePath=function(t){if(!Ve)return!1;var e=this._window,n=e.location;return t.pathname===n.pathname&&t.search===n.search};pe.prototype._decodeURLEncodedURIComponent=function(t){return typeof t!="string"?t:this._decodeURLComponents?decodeURIComponent(t.replace(/\+/g," ")):t};function Xn(){var t=new pe;function e(){return wt.apply(t,arguments)}return e.callbacks=t.callbacks,e.exits=t.exits,e.base=t.base.bind(t),e.strict=t.strict.bind(t),e.start=t.start.bind(t),e.stop=t.stop.bind(t),e.show=t.show.bind(t),e.back=t.back.bind(t),e.redirect=t.redirect.bind(t),e.replace=t.replace.bind(t),e.dispatch=t.dispatch.bind(t),e.exit=t.exit.bind(t),e.configure=t.configure.bind(t),e.sameOrigin=t.sameOrigin.bind(t),e.clickHandler=t.clickHandler.bind(t),e.create=Xn,Object.defineProperty(e,"len",{get:function(){return t.len},set:function(n){t.len=n}}),Object.defineProperty(e,"current",{get:function(){return t.current},set:function(n){t.current=n}}),e.Context=et,e.Route=tt,e}function wt(t,e){if(typeof t=="function")return wt.call(this,"*",t);if(typeof e=="function")for(var n=new tt(t,null,this),l=1;l<arguments.length;++l)this.callbacks.push(n.middleware(arguments[l]));else typeof t=="string"?this[typeof e=="string"?"redirect":"show"](t,e):this.start(t)}function Ml(t){if(!t.handled){var e,n=this,l=n._window;n._hashbang?e=Ve&&this._getBase()+l.location.hash.replace("#!",""):e=Ve&&l.location.pathname+l.location.search,e!==t.canonicalPath&&(n.stop(),t.handled=!1,Ve&&(l.location.href=t.canonicalPath))}}function Bl(t){return t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function et(t,e,n){var l=this.page=n||wt,i=l._window,o=l._hashbang,r=l._getBase();t[0]==="/"&&t.indexOf(r)!==0&&(t=r+(o?"#!":"")+t);var c=t.indexOf("?");this.canonicalPath=t;var a=new RegExp("^"+Bl(r));if(this.path=t.replace(a,"")||"/",o&&(this.path=this.path.replace("#!","")||"/"),this.title=ze&&i.document.title,this.state=e||{},this.state.path=t,this.querystring=~c?l._decodeURLEncodedURIComponent(t.slice(c+1)):"",this.pathname=l._decodeURLEncodedURIComponent(~c?t.slice(0,c):t),this.params={},this.hash="",!o){if(!~this.path.indexOf("#"))return;var u=this.path.split("#");this.path=this.pathname=u[0],this.hash=l._decodeURLEncodedURIComponent(u[1])||"",this.querystring=this.querystring.split("#")[0]}}et.prototype.pushState=function(){var t=this.page,e=t._window,n=t._hashbang;t.len++,gt&&e.history.pushState(this.state,this.title,n&&this.path!=="/"?"#!"+this.path:this.canonicalPath)};et.prototype.save=function(){var t=this.page;gt&&t._window.history.replaceState(this.state,this.title,t._hashbang&&this.path!=="/"?"#!"+this.path:this.canonicalPath)};function tt(t,e,n){var l=this.page=n||jt,i=e||{};i.strict=i.strict||l._strict,this.path=t==="*"?"(.*)":t,this.method="GET",this.regexp=xe(this.path,this.keys=[],i)}tt.prototype.middleware=function(t){var e=this;return function(n,l){if(e.match(n.path,n.params))return n.routePath=e.path,t(n,l);l()}};tt.prototype.match=function(t,e){var n=this.keys,l=t.indexOf("?"),i=~l?t.slice(0,l):t,o=this.regexp.exec(decodeURIComponent(i));if(!o)return!1;delete e[0];for(var r=1,c=o.length;r<c;++r){var a=n[r-1],u=this.page._decodeURLEncodedURIComponent(o[r]);(u!==void 0||!hasOwnProperty.call(e,a.name))&&(e[a.name]=u)}return!0};var jt=Xn(),we=jt,Hl=jt;we.default=Hl;const Me=[];function Se(t,e=q){let n;const l=new Set;function i(c){if(le(t,c)&&(t=c,n)){const a=!Me.length;for(const u of l)u[1](),Me.push(u,t);if(a){for(let u=0;u<Me.length;u+=2)Me[u][0](Me[u+1]);Me.length=0}}}function o(c){i(c(t))}function r(c,a=q){const u=[c,a];return l.add(u),l.size===1&&(n=e(i)||q),c(t),()=>{l.delete(u),l.size===0&&(n(),n=null)}}return{set:i,update:o,subscribe:r}}let de=Se({loggedIn:!1});function zl(t){let e,n,l;return{c(){e=h("input"),m(e,"type","password"),m(e,"name","password")},m(i,o){D(i,e,o),z(e,t[1]),n||(l=L(e,"input",t[6]),n=!0)},p(i,o){o&2&&e.value!==i[1]&&z(e,i[1])},d(i){i&&I(e),n=!1,l()}}}function ql(t){let e,n,l;return{c(){e=h("input"),m(e,"class","border-red-700 border-2 -m-0.5 "),m(e,"type","password"),m(e,"name","password")},m(i,o){D(i,e,o),z(e,t[1]),n||(l=L(e,"input",t[5]),n=!0)},p(i,o){o&2&&e.value!==i[1]&&z(e,i[1])},d(i){i&&I(e),n=!1,l()}}}function Gl(t){let e,n,l,i,o,r,c,a,u,f,d,p,g,v,_,k,b,w,y,A;function $(T,C){return T[2].message=="password was incorrect"?ql:zl}let E=$(t),S=E(t);return{c(){e=h("main"),n=h("div"),l=h("div"),l.innerHTML=`<h2 class="text-4xl text-white font-semibold max-w-xs">Managing traffic incidents made
                <span class="text-sky-300 font-bold italic">easy!</span></h2>`,i=P(),o=h("div"),r=h("h2"),r.textContent="Login",c=P(),a=h("form"),u=h("div"),f=h("div"),f.innerHTML=`<label for="username">Username:</label> 
                        <label for="password">Password:</label>`,d=P(),p=h("div"),g=h("input"),v=P(),S.c(),_=P(),k=h("button"),b=V("Sign in"),m(l,"class","self-start"),m(r,"class","text-xl font-bold"),m(f,"class","flex flex-col gap-2 items-end"),m(g,"type","text"),m(g,"name","username"),m(p,"class","flex flex-col gap-2"),m(u,"class","flex gap-2 font-semibold mb-5"),k.disabled=w=!t[0]&&!t[1],m(k,"type","submit"),m(k,"class","bg-sky-500 hover:bg-sky-400 rounded w-max px-6 py-2 font-semibold shadow hover:mb-0.5 hover:-mt-0.5 duration-75 transition-all"),m(o,"class","flex flex-col items-center gap-6 text-center bg-opacity-90 bg-sky-200 rounded-lg w-96 px-5 pt-10 pb-16 min-w-min shadow"),m(n,"class","flex justify-center items-center gap-4 absolute top-1/4 left-1/2 -translate-x-1/2"),m(e,"class","bg-traffic bg-no-repeat bg-cover bg-center min-h-screen relative")},m(T,C){D(T,e,C),s(e,n),s(n,l),s(n,i),s(n,o),s(o,r),s(o,c),s(o,a),s(a,u),s(u,f),s(u,d),s(u,p),s(p,g),z(g,t[0]),s(p,v),S.m(p,null),s(a,_),s(a,k),s(k,b),y||(A=[L(g,"input",t[4]),L(a,"submit",ve(t[3]))],y=!0)},p(T,[C]){C&1&&g.value!==T[0]&&z(g,T[0]),E===(E=$(T))&&S?S.p(T,C):(S.d(1),S=E(T),S&&(S.c(),S.m(p,null))),C&3&&w!==(w=!T[0]&&!T[1])&&(k.disabled=w)},i:q,o:q,d(T){T&&I(e),S.d(),y=!1,ae(A)}}}function Kl(t,e,n){let l;se(t,de,f=>n(2,l=f));let i,o;const r=async()=>{let f=new FormData;f.append("username",i),f.append("password",o);const d=`${re}/backend/user/login.php`;let p=await fetch(d,{method:"POST",body:f});p=await p.json(),f=p.data,typeof f=="object"&&f!=null?(ye(de,l.loggedIn=!0,l),ye(de,l.username=f.username,l),ye(de,l.admin=f.admin,l),ye(de,l.message="",l),we(`${he}/dashboard`)):ye(de,l.message=f,l),console.log(l)};function c(){i=this.value,n(0,i)}function a(){o=this.value,n(1,o)}function u(){o=this.value,n(1,o)}return[i,o,l,r,c,a,u]}class Yl extends oe{constructor(e){super(),ie(this,e,Kl,Gl,le,{})}}function Zl(t){let e,n,l;return{c(){e=h("p"),n=V(t[1]),l=V(" Records"),m(e,"class","text-lg")},m(i,o){D(i,e,o),s(e,n),s(e,l)},p(i,o){o&2&&j(n,i[1])},d(i){i&&I(e)}}}function Ql(t){let e,n=t[1].length+"",l,i;return{c(){e=h("p"),l=V(n),i=V(" Records"),m(e,"class","text-lg")},m(o,r){D(o,e,r),s(e,l),s(e,i)},p(o,r){r&2&&n!==(n=o[1].length+"")&&j(l,n)},d(o){o&&I(e)}}}function Wl(t){let e,n,l,i,o,r;function c(f,d){return d&2&&(r=null),r==null&&(r=!!Array.isArray(f[1])),r?Ql:Zl}let a=c(t,-1),u=a(t);return{c(){e=h("a"),n=h("div"),l=h("h2"),i=V(t[0]),o=P(),u.c(),m(l,"class","font-bold text-xl"),m(n,"class","m-2 rounded p-4 shadow w-44 h-44 border-4 border-sky-200 bg-sky-200 bg-opacity-70 relative"),m(e,"href",t[2])},m(f,d){D(f,e,d),s(e,n),s(n,l),s(l,i),s(n,o),u.m(n,null)},p(f,[d]){d&1&&j(i,f[0]),a===(a=c(f,d))&&u?u.p(f,d):(u.d(1),u=a(f),u&&(u.c(),u.m(n,null))),d&4&&m(e,"href",f[2])},i:q,o:q,d(f){f&&I(e),u.d()}}}function Xl(t,e,n){let{title:l}=e,{data:i}=e,{route:o}=e;return t.$$set=r=>{"title"in r&&n(0,l=r.title),"data"in r&&n(1,i=r.data),"route"in r&&n(2,o=r.route)},[l,i,o]}class rt extends oe{constructor(e){super(),ie(this,e,Xl,Wl,le,{title:0,data:1,route:2})}}let Kt=Se([]),Yt=Se([]),Zt=Se([]),At=Se([]),Qt=Se(0);function Wt(t){let e,n;return e=new rt({props:{title:"Audits",data:t[0],route:"./audits"}}),{c(){te(e.$$.fragment)},m(l,i){x(e,l,i),n=!0},p(l,i){const o={};i&1&&(o.data=l[0]),e.$set(o)},i(l){n||(R(e.$$.fragment,l),n=!0)},o(l){U(e.$$.fragment,l),n=!1},d(l){ee(e,l)}}}function Jl(t){let e,n,l,i,o,r,c,a,u;l=new rt({props:{title:"People",data:t[3],route:"./people"}}),o=new rt({props:{title:"Vehicles",data:t[2],route:"./vehicles"}}),c=new rt({props:{title:"Reports",data:t[1],route:"./reports"}});let f=t[4].admin=="1"&&Wt(t);return{c(){e=h("div"),n=h("main"),te(l.$$.fragment),i=P(),te(o.$$.fragment),r=P(),te(c.$$.fragment),a=P(),f&&f.c(),m(n,"class","flex flex-wrap justify-center"),m(e,"class","bg-traffic bg-no-repeat bg-cover bg-center h-screen")},m(d,p){D(d,e,p),s(e,n),x(l,n,null),s(n,i),x(o,n,null),s(n,r),x(c,n,null),s(n,a),f&&f.m(n,null),u=!0},p(d,[p]){const g={};p&8&&(g.data=d[3]),l.$set(g);const v={};p&4&&(v.data=d[2]),o.$set(v);const _={};p&2&&(_.data=d[1]),c.$set(_),d[4].admin=="1"?f?(f.p(d,p),p&16&&R(f,1)):(f=Wt(d),f.c(),R(f,1),f.m(n,null)):f&&(ue(),U(f,1,1,()=>{f=null}),fe())},i(d){u||(R(l.$$.fragment,d),R(o.$$.fragment,d),R(c.$$.fragment,d),R(f),u=!0)},o(d){U(l.$$.fragment,d),U(o.$$.fragment,d),U(c.$$.fragment,d),U(f),u=!1},d(d){d&&I(e),ee(l),ee(o),ee(c),f&&f.d()}}}function xl(t,e,n){let l,i,o,r,c;return se(t,Qt,a=>n(0,l=a)),se(t,Zt,a=>n(1,i=a)),se(t,Yt,a=>n(2,o=a)),se(t,Kt,a=>n(3,r=a)),se(t,de,a=>n(4,c=a)),Je(async()=>{const a=`${re}/backend/person/get-people.php`;let u=await fetch(a);u=await u.json(),ye(Kt,r=u.data,r);const f=`${re}/backend/vehicle/get-vehicles.php`;u=await fetch(f),u=await u.json(),ye(Yt,o=u.data,o);const d=`${re}/backend/report/get-reports.php`;u=await fetch(d),u=await u.json(),ye(Zt,i=u.data,i);const p=`${re}/backend/audit/count-audits.php`;u=await fetch(p),u=await u.json(),ye(Qt,l=u.data,l)}),[l,i,o,r,c]}class ei extends oe{constructor(e){super(),ie(this,e,xl,Jl,le,{})}}function Jn(t){const e=t-1;return e*e*e+1}function ti(t,{delay:e=0,duration:n=400,easing:l=qe}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:l,css:o=>`opacity: ${o*i}`}}function ni(t,{delay:e=0,duration:n=400,easing:l=Jn,x:i=0,y:o=0,opacity:r=0}={}){const c=getComputedStyle(t),a=+c.opacity,u=c.transform==="none"?"":c.transform,f=a*(1-r);return{delay:e,duration:n,easing:l,css:(d,p)=>`
			transform: ${u} translate(${(1-d)*i}px, ${(1-d)*o}px);
			opacity: ${a-f*p}`}}function li(t,{from:e,to:n},l={}){const i=getComputedStyle(t),o=i.transform==="none"?"":i.transform,[r,c]=i.transformOrigin.split(" ").map(parseFloat),a=e.left+e.width*r/n.width-(n.left+r),u=e.top+e.height*c/n.height-(n.top+c),{delay:f=0,duration:d=g=>Math.sqrt(g)*120,easing:p=Jn}=l;return{delay:f,duration:Xe(d)?d(Math.sqrt(a*a+u*u)):d,easing:p,css:(g,v)=>{const _=v*a,k=v*u,b=g+v*e.width/n.width,w=g+v*e.height/n.height;return`transform: ${o} translate(${_}px, ${k}px) scale(${b}, ${w});`}}}const ii={duration:4e3,initial:1,next:0,pausable:!1,dismissable:!0,reversed:!1,intro:{x:256}},oi=()=>{const{subscribe:t,update:e}=Se([]);let n=0;const l={},i=u=>u instanceof Object;return{subscribe:t,push:(u,f={})=>{const d={target:"default",...i(u)?u:{...f,msg:u}},p=l[d.target]||{},g={...ii,...p,...d,theme:{...p.theme,...d.theme},classes:[...p.classes||[],...d.classes||[]],id:++n};return e(v=>g.reversed?[...v,g]:[g,...v]),n},pop:u=>{e(f=>{if(!f.length||u===0)return[];if(i(u))return f.filter(p=>u(p));const d=u||Math.max(...f.map(p=>p.id));return f.filter(p=>p.id!==d)})},set:(u,f={})=>{const d=i(u)?{...u}:{...f,id:u};e(p=>{const g=p.findIndex(v=>v.id===d.id);return g>-1&&(p[g]={...p[g],...d}),p})},_init:(u="default",f={})=>(l[u]=f,l)}},We=oi();function Xt(t){return Object.prototype.toString.call(t)==="[object Date]"}function Vt(t,e){if(t===e||t!==t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const l=e.map((i,o)=>Vt(t[o],i));return i=>l.map(o=>o(i))}if(n==="object"){if(!t||!e)throw new Error("Object cannot be null");if(Xt(t)&&Xt(e)){t=t.getTime(),e=e.getTime();const o=e-t;return r=>new Date(t+r*o)}const l=Object.keys(e),i={};return l.forEach(o=>{i[o]=Vt(t[o],e[o])}),o=>{const r={};return l.forEach(c=>{r[c]=i[c](o)}),r}}if(n==="number"){const l=e-t;return i=>t+i*l}throw new Error(`Cannot interpolate ${n} values`)}function ri(t,e={}){const n=Se(t);let l,i=t;function o(r,c){if(t==null)return n.set(t=r),Promise.resolve();i=r;let a=l,u=!1,{delay:f=0,duration:d=400,easing:p=qe,interpolate:g=Vt}=Pe(Pe({},e),c);if(d===0)return a&&(a.abort(),a=null),n.set(t=i),Promise.resolve();const v=_t()+f;let _;return l=ht(k=>{if(k<v)return!0;u||(_=g(t,r),typeof d=="function"&&(d=d(t,r)),u=!0),a&&(a.abort(),a=null);const b=k-v;return b>d?(n.set(t=r),!1):(n.set(t=_(p(b/d))),!0)}),l.promise}return{set:o,update:(r,c)=>o(r(i,t),c),subscribe:n.subscribe}}function si(t){let e,n=t[0].msg+"",l;return{c(){e=new pl(!1),l=Ce(),e.a=l},m(i,o){e.m(n,i,o),D(i,l,o)},p(i,o){o&1&&n!==(n=i[0].msg+"")&&e.p(n)},i:q,o:q,d(i){i&&I(l),i&&e.d()}}}function ai(t){let e,n,l;const i=[t[2]];var o=t[0].component.src;function r(c){let a={};for(let u=0;u<i.length;u+=1)a=Pe(a,i[u]);return{props:a}}return o&&(e=ct(o,r())),{c(){e&&te(e.$$.fragment),n=Ce()},m(c,a){e&&x(e,c,a),D(c,n,a),l=!0},p(c,a){const u=a&4?mt(i,[bt(c[2])]):{};if(o!==(o=c[0].component.src)){if(e){ue();const f=e;U(f.$$.fragment,1,0,()=>{ee(f,1)}),fe()}o?(e=ct(o,r()),te(e.$$.fragment),R(e.$$.fragment,1),x(e,n.parentNode,n)):e=null}else o&&e.$set(u)},i(c){l||(e&&R(e.$$.fragment,c),l=!0)},o(c){e&&U(e.$$.fragment,c),l=!1},d(c){c&&I(n),e&&ee(e,c)}}}function Jt(t){let e,n,l;return{c(){e=h("div"),m(e,"class","_toastBtn pe svelte-l65oht"),m(e,"role","button"),m(e,"tabindex","0")},m(i,o){D(i,e,o),n||(l=[L(e,"click",t[4]),L(e,"keydown",t[8])],n=!0)},p:q,d(i){i&&I(e),n=!1,ae(l)}}}function ci(t){let e,n,l,i,o,r,c,a,u,f;const d=[ai,si],p=[];function g(_,k){return _[0].component?0:1}l=g(t),i=p[l]=d[l](t);let v=t[0].dismissable&&Jt(t);return{c(){e=h("div"),n=h("div"),i.c(),o=P(),v&&v.c(),r=P(),c=h("progress"),m(n,"role","status"),m(n,"class","_toastMsg svelte-l65oht"),nt(n,"pe",t[0].component),m(c,"class","_toastBar svelte-l65oht"),c.value=t[1],m(e,"class","_toastItem svelte-l65oht"),nt(e,"pe",t[0].pausable)},m(_,k){D(_,e,k),s(e,n),p[l].m(n,null),s(e,o),v&&v.m(e,null),s(e,r),s(e,c),a=!0,u||(f=[L(e,"mouseenter",t[9]),L(e,"mouseleave",t[6])],u=!0)},p(_,[k]){let b=l;l=g(_),l===b?p[l].p(_,k):(ue(),U(p[b],1,1,()=>{p[b]=null}),fe(),i=p[l],i?i.p(_,k):(i=p[l]=d[l](_),i.c()),R(i,1),i.m(n,null)),(!a||k&1)&&nt(n,"pe",_[0].component),_[0].dismissable?v?v.p(_,k):(v=Jt(_),v.c(),v.m(e,r)):v&&(v.d(1),v=null),(!a||k&2)&&(c.value=_[1]),(!a||k&1)&&nt(e,"pe",_[0].pausable)},i(_){a||(R(i),a=!0)},o(_){U(i),a=!1},d(_){_&&I(e),p[l].d(),v&&v.d(),u=!1,ae(f)}}}function ui(t,e,n){let l,{item:i}=e;const o=ri(i.initial,{duration:i.duration,easing:qe});se(t,o,y=>n(1,l=y));const r=()=>We.pop(i.id),c=()=>{(l===1||l===0)&&r()};let a=i.initial,u=a,f=!1;const d=()=>{!f&&l!==a&&(o.set(l,{duration:0}),f=!0)},p=()=>{if(f){const y=i.duration,A=y-y*((l-u)/(a-u));o.set(a,{duration:A}).then(c),f=!1}};let g={};const v=(y,A="undefined")=>typeof y===A;let _;Je((y=document)=>{if(v(y.hidden))return;const A=()=>y.hidden?d():p(),$="visibilitychange";y.addEventListener($,A),_=()=>y.removeEventListener($,A),A()}),wl(()=>{v(i.onpop,"function")&&i.onpop(i.id),_&&_()});const b=y=>{y instanceof KeyboardEvent&&["Enter"," "].includes(y.key)&&r()},w=()=>{i.pausable&&d()};return t.$$set=y=>{"item"in y&&n(0,i=y.item)},t.$$.update=()=>{if(t.$$.dirty&1&&(v(i.progress)||n(0,i.next=i.progress,i)),t.$$.dirty&131&&a!==i.next&&(n(7,a=i.next),u=l,f=!1,o.set(a).then(c)),t.$$.dirty&1&&i.component){const{props:y={},sendIdTo:A}=i.component;n(2,g={...y,...A&&{[A]:i.id}})}},[i,l,g,o,r,d,p,a,b,w]}class fi extends oe{constructor(e){super(),ie(this,e,ui,ci,le,{item:0})}}function xt(t,e,n){const l=t.slice();return l[5]=e[n],l}function en(t,e){let n,l,i,o,r,c,a,u,f=q,d;return l=new fi({props:{item:e[5]}}),{key:t,first:null,c(){n=h("li"),te(l.$$.fragment),i=P(),m(n,"class",o=Mt(e[5].classes.join(" "))+" svelte-yh90az"),m(n,"style",r=e[1](e[5].theme)),this.first=n},m(p,g){D(p,n,g),x(l,n,null),s(n,i),d=!0},p(p,g){e=p;const v={};g&1&&(v.item=e[5]),l.$set(v),(!d||g&1&&o!==(o=Mt(e[5].classes.join(" "))+" svelte-yh90az"))&&m(n,"class",o),(!d||g&1&&r!==(r=e[1](e[5].theme)))&&m(n,"style",r)},r(){u=n.getBoundingClientRect()},f(){gl(n),f(),zn(n,u)},a(){f(),f=bl(n,u,li,{duration:200})},i(p){d||(R(l.$$.fragment,p),Oe(()=>{a&&a.end(1),c=Pl(n,ni,e[5].intro),c.start()}),d=!0)},o(p){U(l.$$.fragment,p),c&&c.invalidate(),a=$l(n,ti,{}),d=!1},d(p){p&&I(n),ee(l),p&&a&&a.end()}}}function di(t){let e,n=[],l=new Map,i,o=t[0];const r=c=>c[5].id;for(let c=0;c<o.length;c+=1){let a=xt(t,o,c),u=r(a);l.set(u,n[c]=en(u,a))}return{c(){e=h("ul");for(let c=0;c<n.length;c+=1)n[c].c();m(e,"class","_toastContainer svelte-yh90az")},m(c,a){D(c,e,a);for(let u=0;u<n.length;u+=1)n[u].m(e,null);i=!0},p(c,[a]){if(a&3){o=c[0],ue();for(let u=0;u<n.length;u+=1)n[u].r();n=Il(n,a,r,1,c,o,l,e,Cl,en,null,xt);for(let u=0;u<n.length;u+=1)n[u].a();fe()}},i(c){if(!i){for(let a=0;a<o.length;a+=1)R(n[a]);i=!0}},o(c){for(let a=0;a<n.length;a+=1)U(n[a]);i=!1},d(c){c&&I(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function pi(t,e,n){let l;se(t,We,a=>n(4,l=a));let{options:i={}}=e,{target:o="default"}=e,r;const c=a=>Object.keys(a).reduce((u,f)=>`${u}${f}:${a[f]};`,"");return t.$$set=a=>{"options"in a&&n(2,i=a.options),"target"in a&&n(3,o=a.target)},t.$$.update=()=>{t.$$.dirty&12&&We._init(o,i),t.$$.dirty&24&&n(0,r=l.filter(a=>a.target===o))},[r,c,i,o,l]}class _i extends oe{constructor(e){super(),ie(this,e,pi,di,le,{options:2,target:3})}}const ge=t=>{We.push(t,{theme:{"--toastColor":"mintcream","--toastBackground":"rgba(72,187,120,0.9)","--toastBarBackground":"#2F855A"}})},me=t=>{We.push(t,{theme:{"--toastBackground":"rgba(186, 60, 60, 0.9)","--toastBarBackground":"#D11E1E"}})};function hi(t){let e,n,l,i,o,r,c,a,u,f,d,p,g,v,_,k,b,w,y,A,$,E;return{c(){e=h("div"),n=h("button"),n.textContent="Close",l=P(),i=h("form"),o=h("label"),o.innerHTML='Name <span class="italic text-sm text-gray-600">required</span>',r=P(),c=h("input"),a=P(),u=h("label"),u.textContent="Address",f=P(),d=h("input"),p=P(),g=h("label"),g.textContent="Licence Number",v=P(),_=h("input"),k=P(),b=h("button"),w=V("Add "),y=V(t[0]),m(n,"class","aboslute top-1 rigth-1"),m(o,"for","name"),c.required=!0,m(c,"class","text-black"),m(c,"name","name"),m(c,"type","text"),m(u,"for","address"),m(d,"class","text-black"),m(d,"name","address"),m(d,"type","text"),m(g,"for","licence"),m(_,"class","text-black"),m(_,"name","licence"),m(_,"type","text"),b.disabled=A=t[0]=="",m(b,"type","submit"),m(b,"class","button"),m(i,"class","flex flex-col justify-center items-center gap-2"),m(e,"class","absolute left-1/2 top-1/2 -translate-y-1/2 -translate-x-1/2 bg-sky-300 rounded shadow-screen p-2 text-black w-60 h-72 grid place-content-center z-50")},m(S,T){D(S,e,T),s(e,n),s(e,l),s(e,i),s(i,o),s(i,r),s(i,c),z(c,t[0]),s(i,a),s(i,u),s(i,f),s(i,d),z(d,t[1]),s(i,p),s(i,g),s(i,v),s(i,_),z(_,t[2]),s(i,k),s(i,b),s(b,w),s(b,y),$||(E=[L(n,"click",t[5]),L(c,"input",t[6]),L(d,"input",t[7]),L(_,"input",t[8]),L(i,"submit",ve(t[4]))],$=!0)},p(S,[T]){T&1&&c.value!==S[0]&&z(c,S[0]),T&2&&d.value!==S[1]&&z(d,S[1]),T&4&&_.value!==S[2]&&z(_,S[2]),T&1&&j(y,S[0]),T&1&&A!==(A=S[0]=="")&&(b.disabled=A)},i:q,o:q,d(S){S&&I(e),$=!1,ae(E)}}}function mi(t,e,n){let l;se(t,de,g=>n(9,l=g));const i=Te();let o="",r="",c="";const a=async()=>{let g=new FormData;console.log(l),l.username&&(console.log(l.username),g.append("username",l.username)),g.append("name",o),r.length>0&&g.append("address",r),c.length>0&&g.append("licence",c);const v=`${re}/backend/person/create-person.php`;let _=await fetch(v,{method:"POST",body:g});_=await _.json(),g=_.data,g?(ge(`Added ${o} successfully!`),i("close",{People_ID:g,People_name:o})):me("Please add a name"),console.log(g)},u=()=>{i("close",!1)};function f(){o=this.value,n(0,o)}function d(){r=this.value,n(1,r)}function p(){c=this.value,n(2,c)}return[o,r,c,i,a,u,f,d,p]}class xn extends oe{constructor(e){super(),ie(this,e,mi,hi,le,{})}}function tn(t,e,n){const l=t.slice();return l[16]=e[n],l}function bi(t){let e,n=t[0].People_name+"",l,i,o,r=t[0].People_licence+"",c,a,u,f=t[0].People_address+"",d,p,g;function v(b,w){return b[0].Vehicles.length>0?vi:wi}let _=v(t),k=_(t);return{c(){e=h("h3"),l=V(n),i=P(),o=h("p"),c=V(r),a=P(),u=h("p"),d=V(f),p=P(),k.c(),g=Ce(),m(e,"class","font-bold")},m(b,w){D(b,e,w),s(e,l),D(b,i,w),D(b,o,w),s(o,c),D(b,a,w),D(b,u,w),s(u,d),D(b,p,w),k.m(b,w),D(b,g,w)},p(b,w){w&1&&n!==(n=b[0].People_name+"")&&j(l,n),w&1&&r!==(r=b[0].People_licence+"")&&j(c,r),w&1&&f!==(f=b[0].People_address+"")&&j(d,f),_===(_=v(b))&&k?k.p(b,w):(k.d(1),k=_(b),k&&(k.c(),k.m(g.parentNode,g)))},d(b){b&&I(e),b&&I(i),b&&I(o),b&&I(a),b&&I(u),b&&I(p),k.d(b),b&&I(g)}}}function gi(t){let e,n,l,i,o,r,c,a,u,f,d,p,g;return{c(){e=h("form"),n=h("input"),l=P(),i=h("input"),o=P(),r=h("input"),c=P(),a=h("button"),u=V("Edit "),f=V(t[2]),n.required=!0,m(n,"class","text-black font-bold pl-1"),m(n,"name","name"),m(n,"type","text"),m(i,"class","text-black pl-1"),m(i,"name","licence"),m(i,"type","text"),m(r,"class","text-black pl-1"),m(r,"name","address"),m(r,"type","text"),a.disabled=d=t[2]=="",m(a,"type","submit"),m(a,"class","button"),m(e,"class","flex flex-col gap-1")},m(v,_){D(v,e,_),s(e,n),z(n,t[2]),s(e,l),s(e,i),z(i,t[4]),s(e,o),s(e,r),z(r,t[3]),s(e,c),s(e,a),s(a,u),s(a,f),p||(g=[L(n,"input",t[9]),L(i,"input",t[10]),L(r,"input",t[11]),L(e,"submit",ve(t[7]))],p=!0)},p(v,_){_&4&&n.value!==v[2]&&z(n,v[2]),_&16&&i.value!==v[4]&&z(i,v[4]),_&8&&r.value!==v[3]&&z(r,v[3]),_&4&&j(f,v[2]),_&4&&d!==(d=v[2]=="")&&(a.disabled=d)},d(v){v&&I(e),p=!1,ae(g)}}}function wi(t){let e;return{c(){e=h("h3"),e.textContent="No Vehicles Owned"},m(n,l){D(n,e,l)},p:q,d(n){n&&I(e)}}}function vi(t){let e,n,l,i=t[0].Vehicles,o=[];for(let r=0;r<i.length;r+=1)o[r]=nn(tn(t,i,r));return{c(){e=h("h3"),e.textContent="Vehicles",n=P(),l=h("div");for(let r=0;r<o.length;r+=1)o[r].c();m(e,"class","font-bold mt-2"),m(l,"class","flex flex-col gap-2")},m(r,c){D(r,e,c),D(r,n,c),D(r,l,c);for(let a=0;a<o.length;a+=1)o[a].m(l,null)},p(r,c){if(c&1){i=r[0].Vehicles;let a;for(a=0;a<i.length;a+=1){const u=tn(r,i,a);o[a]?o[a].p(u,c):(o[a]=nn(u),o[a].c(),o[a].m(l,null))}for(;a<o.length;a+=1)o[a].d(1);o.length=i.length}},d(r){r&&I(e),r&&I(n),r&&I(l),Le(o,r)}}}function nn(t){let e,n,l=t[16].Vehicle_make+"",i,o,r=t[16].Vehicle_model+"",c,a,u,f=t[16].Vehicle_colour+"",d,p,g,v=t[16].Vehicle_licence+"",_,k;return{c(){e=h("div"),n=h("p"),i=V(l),o=P(),c=V(r),a=P(),u=h("p"),d=V(f),p=P(),g=h("p"),_=V(v),k=P(),m(e,"class","border-b-2 border-sky-900")},m(b,w){D(b,e,w),s(e,n),s(n,i),s(n,o),s(n,c),s(e,a),s(e,u),s(u,d),s(e,p),s(e,g),s(g,_),s(e,k)},p(b,w){w&1&&l!==(l=b[16].Vehicle_make+"")&&j(i,l),w&1&&r!==(r=b[16].Vehicle_model+"")&&j(c,r),w&1&&f!==(f=b[16].Vehicle_colour+"")&&j(d,f),w&1&&v!==(v=b[16].Vehicle_licence+"")&&j(_,v)},d(b){b&&I(e)}}}function ln(t){let e,n,l;return{c(){e=h("button"),e.textContent="Select",m(e,"class","button bg-green-600")},m(i,o){D(i,e,o),n||(l=L(e,"click",t[12]),n=!0)},p:q,d(i){i&&I(e),n=!1,l()}}}function ki(t){let e,n,l;return{c(){e=h("button"),e.textContent="Edit",m(e,"class","button")},m(i,o){D(i,e,o),n||(l=L(e,"click",t[14]),n=!0)},p:q,d(i){i&&I(e),n=!1,l()}}}function yi(t){let e,n,l;return{c(){e=h("button"),e.textContent="Cancel",m(e,"class","button")},m(i,o){D(i,e,o),n||(l=L(e,"click",t[13]),n=!0)},p:q,d(i){i&&I(e),n=!1,l()}}}function Pi(t){let e,n,l,i,o,r,c,a;function u(k,b){return k[5]?gi:bi}let f=u(t),d=f(t),p=t[1]&&ln(t);function g(k,b){return k[5]?yi:ki}let v=g(t),_=v(t);return{c(){e=h("div"),d.c(),n=P(),l=h("div"),p&&p.c(),i=P(),_.c(),o=P(),r=h("button"),r.textContent="Delete",m(r,"class","button bg-red-400 hover:bg-red-300"),m(l,"class","flex gap-2"),m(e,"class","text-black font-semibold m-2 rounded p-4 shadow w-96 border-4 border-sky-200 bg-sky-200 bg-opacity-90 relative")},m(k,b){D(k,e,b),d.m(e,null),s(e,n),s(e,l),p&&p.m(l,null),s(l,i),_.m(l,null),s(l,o),s(l,r),c||(a=L(r,"click",t[8]),c=!0)},p(k,[b]){f===(f=u(k))&&d?d.p(k,b):(d.d(1),d=f(k),d&&(d.c(),d.m(e,n))),k[1]?p?p.p(k,b):(p=ln(k),p.c(),p.m(l,i)):p&&(p.d(1),p=null),v===(v=g(k))&&_?_.p(k,b):(_.d(1),_=v(k),_&&(_.c(),_.m(l,o)))},i:q,o:q,d(k){k&&I(e),d.d(),p&&p.d(),_.d(),c=!1,a()}}}function $i(t,e,n){let l;se(t,de,y=>n(15,l=y));const i=Te();let{person:o}=e,{selectable:r}=e,c=o.People_name,a=o.People_address,u=o.People_licence,f=!1;const d=async()=>{let y=new FormData;l.username&&y.append("username",l.username),y.append("id",o.People_ID),y.append("name",c),y.append("address",a),y.append("licence",u);const A=`${re}/backend/person/update-person.php`;let $=await fetch(A,{method:"POST",body:y});$=await $.json(),console.log($),$.status==1?(ge("Record successfully editted!"),n(5,f=!1),i("personEditted",{People_ID:o.People_ID,People_name:c,People_address:a,People_licence:u,Vehicles:o.Vehicles})):me("Something went wrong.")},p=async()=>{let y=`?id=${o.People_ID}`;l.username&&(y+=`&username=${l.username}`);const A=`${re}/backend/person/remove-person.php${y}`;let $=await fetch(A);$=await $.json(),console.log($),$.status==1?(ge("Deleted record!"),i("personDeleted",o.People_ID)):me("Cannot delete someone found in a report.")};function g(){c=this.value,n(2,c)}function v(){u=this.value,n(4,u)}function _(){a=this.value,n(3,a)}const k=()=>{i("selected",o)},b=()=>{n(5,f=!f)},w=()=>{n(5,f=!f)};return t.$$set=y=>{"person"in y&&n(0,o=y.person),"selectable"in y&&n(1,r=y.selectable)},[o,r,c,a,u,f,i,d,p,g,v,_,k,b,w]}class Ai extends oe{constructor(e){super(),ie(this,e,$i,Pi,le,{person:0,selectable:1})}}function on(t,e,n){const l=t.slice();return l[13]=e[n],l}function rn(t){let e,n,l;function i(f,d){if(f[2].length==1)return Ii;if(f[2].length>1)return Ci}let o=i(t),r=o&&o(t),c=t[2],a=[];for(let f=0;f<c.length;f+=1)a[f]=sn(on(t,c,f));const u=f=>U(a[f],1,1,()=>{a[f]=null});return{c(){e=h("section"),r&&r.c(),n=P();for(let f=0;f<a.length;f+=1)a[f].c()},m(f,d){D(f,e,d),r&&r.m(e,null),s(e,n);for(let p=0;p<a.length;p+=1)a[p].m(e,null);l=!0},p(f,d){if(o===(o=i(f))&&r?r.p(f,d):(r&&r.d(1),r=o&&o(f),r&&(r.c(),r.m(e,n))),d&37){c=f[2];let p;for(p=0;p<c.length;p+=1){const g=on(f,c,p);a[p]?(a[p].p(g,d),R(a[p],1)):(a[p]=sn(g),a[p].c(),R(a[p],1),a[p].m(e,null))}for(ue(),p=c.length;p<a.length;p+=1)u(p);fe()}},i(f){if(!l){for(let d=0;d<c.length;d+=1)R(a[d]);l=!0}},o(f){a=a.filter(Boolean);for(let d=0;d<a.length;d+=1)U(a[d]);l=!1},d(f){f&&I(e),r&&r.d(),Le(a,f)}}}function Ci(t){let e,n=t[2].length+"",l,i;return{c(){e=h("p"),l=V(n),i=V(" records found."),m(e,"class","text-center")},m(o,r){D(o,e,r),s(e,l),s(e,i)},p(o,r){r&4&&n!==(n=o[2].length+"")&&j(l,n)},d(o){o&&I(e)}}}function Ii(t){let e,n=t[2].length+"",l,i;return{c(){e=h("p"),l=V(n),i=V(" record found."),m(e,"class","text-center")},m(o,r){D(o,e,r),s(e,l),s(e,i)},p(o,r){r&4&&n!==(n=o[2].length+"")&&j(l,n)},d(o){o&&I(e)}}}function sn(t){let e,n;function l(){return t[11](t[13])}return e=new Ai({props:{person:t[13],selectable:t[0]}}),e.$on("personEditted",t[9]),e.$on("personDeleted",t[10]),e.$on("selected",l),{c(){te(e.$$.fragment)},m(i,o){x(e,i,o),n=!0},p(i,o){t=i;const r={};o&4&&(r.person=t[13]),o&1&&(r.selectable=t[0]),e.$set(r)},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){U(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function Di(t){let e,n,l,i,o,r,c,a,u,f,d,p,g,v,_,k,b,w,y,A,$=t[2]&&rn(t);return{c(){e=h("main"),n=h("p"),n.textContent="Search for a person by name or licence number.",l=P(),i=h("form"),o=h("label"),o.textContent="Name",r=P(),c=h("input"),a=P(),u=h("label"),u.textContent="Licence",f=P(),d=h("input"),p=P(),g=h("button"),v=V("Submit"),k=P(),$&&$.c(),m(o,"for","name"),m(c,"class","text-black"),m(c,"name","name"),m(c,"type","text"),m(u,"for","licence"),m(d,"class","text-black"),m(d,"name","licence"),m(d,"type","text"),g.disabled=_=t[3]==""&&t[4]=="",m(g,"type","submit"),m(g,"class","button"),m(i,"class","flex flex-col justify-center items-center gap-2"),m(e,"class",b=t[1]+" flex flex-col justify-center items-center pt-2 gap-2")},m(E,S){D(E,e,S),s(e,n),s(e,l),s(e,i),s(i,o),s(i,r),s(i,c),z(c,t[3]),s(i,a),s(i,u),s(i,f),s(i,d),z(d,t[4]),s(i,p),s(i,g),s(g,v),s(e,k),$&&$.m(e,null),w=!0,y||(A=[L(c,"input",t[7]),L(d,"input",t[8]),L(i,"submit",ve(t[6]))],y=!0)},p(E,[S]){S&8&&c.value!==E[3]&&z(c,E[3]),S&16&&d.value!==E[4]&&z(d,E[4]),(!w||S&24&&_!==(_=E[3]==""&&E[4]==""))&&(g.disabled=_),E[2]?$?($.p(E,S),S&4&&R($,1)):($=rn(E),$.c(),R($,1),$.m(e,null)):$&&(ue(),U($,1,1,()=>{$=null}),fe()),(!w||S&2&&b!==(b=E[1]+" flex flex-col justify-center items-center pt-2 gap-2"))&&m(e,"class",b)},i(E){w||(R($),w=!0)},o(E){U($),w=!1},d(E){E&&I(e),$&&$.d(),y=!1,ae(A)}}}function Vi(t,e,n){let l;se(t,de,k=>n(12,l=k));const i=Te();let{selectable:o}=e,{textColour:r="text-white"}=e,c=[],a="",u="";const f=async()=>{let k="";if(a!=""&&u!="")k="?name="+a+"&licence="+u;else if(a!="")k="?name="+a;else if(u!="")k="?licence="+u;else return;l.username&&(k+=`&username=${l.username}`);const b=`${re}/backend/person/get-person.php${k}`;let w=await fetch(b);w=await w.json(),k=w.data,k?ge(`Found ${k.length} people!`):me("Found no records"),console.log(k),n(2,c=k)};function d(){a=this.value,n(3,a)}function p(){u=this.value,n(4,u)}const g=k=>{const b=k.detail;console.log(b),n(2,c=c.map(w=>b.People_ID==w.People_ID?(console.log("Found"),b):w)),console.log(c)},v=k=>{const b=k.detail;n(2,c=c.filter(w=>w.People_ID!==b)),console.log(c)},_=k=>{i("personSelected",k)};return t.$$set=k=>{"selectable"in k&&n(0,o=k.selectable),"textColour"in k&&n(1,r=k.textColour)},[o,r,c,a,u,i,f,d,p,g,v,_]}class el extends oe{constructor(e){super(),ie(this,e,Vi,Di,le,{selectable:0,textColour:1})}}function an(t){let e,n;return e=new xn({}),e.$on("close",t[2]),{c(){te(e.$$.fragment)},m(l,i){x(e,l,i),n=!0},p:q,i(l){n||(R(e.$$.fragment,l),n=!0)},o(l){U(e.$$.fragment,l),n=!1},d(l){ee(e,l)}}}function Si(t){let e,n,l,i,o,r,c,a,u,f,d=t[0]&&an(t);return c=new el({props:{textColour:"text-white"}}),{c(){e=h("div"),n=h("h2"),n.textContent="People",l=P(),i=h("button"),i.textContent="Create Person",o=P(),d&&d.c(),r=P(),te(c.$$.fragment),m(n,"class","mt-2 text-xl text-center text-white"),m(i,"class","button"),m(e,"class","bg-traffic bg-no-repeat bg-cover bg-center min-h-screen flex flex-col items-center")},m(p,g){D(p,e,g),s(e,n),s(e,l),s(e,i),s(e,o),d&&d.m(e,null),s(e,r),x(c,e,null),a=!0,u||(f=L(i,"click",t[1]),u=!0)},p(p,[g]){p[0]?d?(d.p(p,g),g&1&&R(d,1)):(d=an(p),d.c(),R(d,1),d.m(e,r)):d&&(ue(),U(d,1,1,()=>{d=null}),fe())},i(p){a||(R(d),R(c.$$.fragment,p),a=!0)},o(p){U(d),U(c.$$.fragment,p),a=!1},d(p){p&&I(e),d&&d.d(),ee(c),u=!1,f()}}}function Ei(t,e,n){let l=!1;return[l,()=>{n(0,l=!0)},()=>{n(0,l=!1)}]}class Oi extends oe{constructor(e){super(),ie(this,e,Ei,Si,le,{})}}function Ti(t){let e,n,l,i,o,r;return{c(){e=h("div"),n=h("input"),l=P(),i=h("input"),m(n,"type","button"),n.value="Search People",m(n,"class","button"),m(i,"type","button"),i.value="Create New Person",m(i,"class","button")},m(c,a){D(c,e,a),s(e,n),s(e,l),s(e,i),o||(r=[L(n,"click",t[9]),L(i,"click",t[10])],o=!0)},p:q,d(c){c&&I(e),o=!1,ae(r)}}}function Ri(t){let e,n,l,i;return{c(){e=h("button"),n=V(t[4]),m(e,"class","button")},m(o,r){D(o,e,r),s(e,n),l||(i=L(e,"click",t[8]),l=!0)},p(o,r){r&16&&j(n,o[4])},d(o){o&&I(e),l=!1,i()}}}function cn(t){let e,n;return e=new el({props:{selectable:!0,textColour:t[0]}}),e.$on("personSelected",t[11]),{c(){te(e.$$.fragment)},m(l,i){x(e,l,i),n=!0},p(l,i){const o={};i&1&&(o.textColour=l[0]),e.$set(o)},i(l){n||(R(e.$$.fragment,l),n=!0)},o(l){U(e.$$.fragment,l),n=!1},d(l){ee(e,l)}}}function un(t){let e,n;return e=new xn({}),e.$on("close",t[12]),{c(){te(e.$$.fragment)},m(l,i){x(e,l,i),n=!0},p:q,i(l){n||(R(e.$$.fragment,l),n=!0)},o(l){U(e.$$.fragment,l),n=!1},d(l){ee(e,l)}}}function ji(t){let e,n,l,i;function o(f,d){return f[3]==!1?Ri:Ti}let r=o(t),c=r(t),a=t[1]&&cn(t),u=t[2]&&un(t);return{c(){c.c(),e=P(),a&&a.c(),n=P(),u&&u.c(),l=Ce()},m(f,d){c.m(f,d),D(f,e,d),a&&a.m(f,d),D(f,n,d),u&&u.m(f,d),D(f,l,d),i=!0},p(f,[d]){r===(r=o(f))&&c?c.p(f,d):(c.d(1),c=r(f),c&&(c.c(),c.m(e.parentNode,e))),f[1]?a?(a.p(f,d),d&2&&R(a,1)):(a=cn(f),a.c(),R(a,1),a.m(n.parentNode,n)):a&&(ue(),U(a,1,1,()=>{a=null}),fe()),f[2]?u?(u.p(f,d),d&4&&R(u,1)):(u=un(f),u.c(),R(u,1),u.m(l.parentNode,l)):u&&(ue(),U(u,1,1,()=>{u=null}),fe())},i(f){i||(R(a),R(u),i=!0)},o(f){U(a),U(u),i=!1},d(f){c.d(f),f&&I(e),a&&a.d(f),f&&I(n),u&&u.d(f),f&&I(l)}}}function Ni(t,e,n){const l=Te();let i=!1,o=!1,r=!1,c="Add Person",{personText:a="None"}=e,{buttonText:u="Person"}=e,{textColour:f="text-white"}=e;const d=w=>{w=="None"?n(4,c=`Add ${u}`):n(4,c=`Change ${u}`)},p=w=>{n(3,r=!1),l("personSet",w)},g=()=>{n(3,r=!0)},v=()=>{n(1,i=!0),n(2,o=!1)},_=()=>{n(1,i=!1),n(2,o=!0)},k=w=>{n(1,i=!1),p(w.detail)},b=w=>{n(2,o=!1);let y=w.detail;y&&p(y)};return t.$$set=w=>{"personText"in w&&n(6,a=w.personText),"buttonText"in w&&n(7,u=w.buttonText),"textColour"in w&&n(0,f=w.textColour)},t.$$.update=()=>{t.$$.dirty&64&&d(a)},[f,i,o,r,c,p,a,u,g,v,_,k,b]}class Nt extends oe{constructor(e){super(),ie(this,e,Ni,ji,le,{personText:6,buttonText:7,textColour:0})}}function Fi(t){let e,n,l,i,o,r,c,a,u,f,d,p,g,v,_,k,b,w,y,A,$,E,S,T;return b=new Nt({props:{personText:t[4],buttonText:"Owner"}}),b.$on("personSet",t[6]),{c(){e=h("form"),n=h("div"),l=h("div"),l.innerHTML=`<label for="vehicleMake">Make</label> 
            <label for="vehicleModel">Model</label> 
            <label for="vehicleColour">Colour</label> 
            <label for="numberPlate">Number Plate</label> 
            <p>Owner</p>`,i=P(),o=h("div"),r=h("input"),c=P(),a=h("input"),u=P(),f=h("input"),d=P(),p=h("input"),g=P(),v=h("p"),_=V(t[4]),k=P(),te(b.$$.fragment),w=P(),y=h("button"),A=V("Add new vehicle"),m(l,"class","flex flex-col gap-1 items-end mr-2"),m(r,"class","text-black"),m(r,"name","vehicleType"),m(r,"type","text"),m(a,"class","text-black"),m(a,"name","vehicleType"),m(a,"type","text"),m(f,"class","text-black"),m(f,"name","vehicleColour"),m(f,"type","text"),m(p,"class","text-black"),m(p,"name","numberPlate"),m(p,"type","text"),m(o,"class","flex flex-col gap-1"),m(n,"class","flex"),y.disabled=$=t[0]==""&&t[1]=="",m(y,"type","submit"),m(y,"class","button"),m(e,"class","flex flex-col justify-center items-center gap-2")},m(C,O){D(C,e,O),s(e,n),s(n,l),s(n,i),s(n,o),s(o,r),z(r,t[0]),s(o,c),s(o,a),z(a,t[1]),s(o,u),s(o,f),z(f,t[2]),s(o,d),s(o,p),z(p,t[3]),s(o,g),s(o,v),s(v,_),s(e,k),x(b,e,null),s(e,w),s(e,y),s(y,A),E=!0,S||(T=[L(r,"input",t[7]),L(a,"input",t[8]),L(f,"input",t[9]),L(p,"input",t[10]),L(e,"submit",ve(t[5]))],S=!0)},p(C,[O]){O&1&&r.value!==C[0]&&z(r,C[0]),O&2&&a.value!==C[1]&&z(a,C[1]),O&4&&f.value!==C[2]&&z(f,C[2]),O&8&&p.value!==C[3]&&z(p,C[3]),(!E||O&16)&&j(_,C[4]);const N={};O&16&&(N.personText=C[4]),b.$set(N),(!E||O&3&&$!==($=C[0]==""&&C[1]==""))&&(y.disabled=$)},i(C){E||(R(b.$$.fragment,C),E=!0)},o(C){U(b.$$.fragment,C),E=!1},d(C){C&&I(e),ee(b),S=!1,ae(T)}}}function Li(t,e,n){let l;se(t,de,w=>n(12,l=w));let i="",o="",r="",c="",a,u="None";const f=async()=>{let w=new FormData;w.append("make",i),w.append("model",o),w.append("colour",r),w.append("licence",c),l.username&&w.append("username",l.username);const y=`${re}/backend/vehicle/create-vehicle.php`;let A=await fetch(y,{method:"POST",body:w});A=await A.json();let $=A.data;$?(ge(`Added ${i} ${o} successfully!`),console.log(a),a&&a.People_ID&&d(a.People_ID,$),p()):me("Error Occurred"),console.log($)},d=async(w,y)=>{let A=new FormData;A.append("person-id",w),A.append("vehicle-id",y),l.username&&A.append("username",l.username);const $=`${re}/backend/vehicle/set-vehicle-ownership.php`;let E=await fetch($,{method:"POST",body:A});E=await E.json(),A=E.data,console.log(A),A?ge("Set ownership successfully"):me("Error Occurred Setting Vehicle Onwership")},p=()=>{n(0,i=""),n(1,o=""),n(2,r=""),n(3,c=""),a=null,n(4,u="None")},g=w=>{let y=w.detail;a=y,n(4,u=y.People_name)};function v(){i=this.value,n(0,i)}function _(){o=this.value,n(1,o)}function k(){r=this.value,n(2,r)}function b(){c=this.value,n(3,c)}return[i,o,r,c,u,f,g,v,_,k,b]}class tl extends oe{constructor(e){super(),ie(this,e,Li,Fi,le,{})}}function Ui(t){let e,n=t[0].Vehicle_make+"",l,i,o=t[0].Vehicle_model+"",r,c,a,u=t[0].Vehicle_colour+"",f,d,p,g=t[0].Vehicle_licence+"",v,_,k;function b(A,$){return A[0].People_ID?Hi:Bi}let w=b(t),y=w(t);return{c(){e=h("h3"),l=V(n),i=P(),r=V(o),c=P(),a=h("p"),f=V(u),d=P(),p=h("p"),v=V(g),_=P(),y.c(),k=Ce(),m(e,"class","font-bold")},m(A,$){D(A,e,$),s(e,l),s(e,i),s(e,r),D(A,c,$),D(A,a,$),s(a,f),D(A,d,$),D(A,p,$),s(p,v),D(A,_,$),y.m(A,$),D(A,k,$)},p(A,$){$&1&&n!==(n=A[0].Vehicle_make+"")&&j(l,n),$&1&&o!==(o=A[0].Vehicle_model+"")&&j(r,o),$&1&&u!==(u=A[0].Vehicle_colour+"")&&j(f,u),$&1&&g!==(g=A[0].Vehicle_licence+"")&&j(v,g),w===(w=b(A))&&y?y.p(A,$):(y.d(1),y=w(A),y&&(y.c(),y.m(k.parentNode,k)))},d(A){A&&I(e),A&&I(c),A&&I(a),A&&I(d),A&&I(p),A&&I(_),y.d(A),A&&I(k)}}}function Mi(t){let e,n,l,i,o,r,c,a,u,f,d,p,g,v,_,k,b;return{c(){e=h("form"),n=h("input"),l=P(),i=h("input"),o=P(),r=h("input"),c=P(),a=h("input"),u=P(),f=h("button"),d=V("Edit "),p=V(t[2]),g=P(),v=V(t[3]),n.required=!0,m(n,"class","text-black font-bold pl-1"),m(n,"name","make"),m(n,"type","text"),m(n,"placeholder","Make"),m(i,"class","text-black pl-1"),m(i,"name","model"),m(i,"type","text"),m(i,"placeholder","Model"),m(r,"class","text-black pl-1"),m(r,"name","colour"),m(r,"type","text"),m(r,"placeholder","Colour"),m(a,"class","text-black pl-1"),m(a,"name","licence"),m(a,"type","text"),m(a,"placeholder","Number Plate"),f.disabled=_=t[2]==""||t[3]=="",m(f,"type","submit"),m(f,"class","button"),m(e,"class","flex flex-col gap-1")},m(w,y){D(w,e,y),s(e,n),z(n,t[2]),s(e,l),s(e,i),z(i,t[3]),s(e,o),s(e,r),z(r,t[4]),s(e,c),s(e,a),z(a,t[5]),s(e,u),s(e,f),s(f,d),s(f,p),s(f,g),s(f,v),k||(b=[L(n,"input",t[10]),L(i,"input",t[11]),L(r,"input",t[12]),L(a,"input",t[13]),L(e,"submit",ve(t[8]))],k=!0)},p(w,y){y&4&&n.value!==w[2]&&z(n,w[2]),y&8&&i.value!==w[3]&&z(i,w[3]),y&16&&r.value!==w[4]&&z(r,w[4]),y&32&&a.value!==w[5]&&z(a,w[5]),y&4&&j(p,w[2]),y&8&&j(v,w[3]),y&12&&_!==(_=w[2]==""||w[3]=="")&&(f.disabled=_)},d(w){w&&I(e),k=!1,ae(b)}}}function Bi(t){let e;return{c(){e=h("h3"),e.textContent="This vehicle has no owner.",m(e,"class","font-bold")},m(n,l){D(n,e,l)},p:q,d(n){n&&I(e)}}}function Hi(t){let e,n=t[0].People_name+"",l,i,o,r=t[0].People_licence+"",c;return{c(){e=h("h3"),l=V(n),i=P(),o=h("p"),c=V(r),m(e,"class","font-bold")},m(a,u){D(a,e,u),s(e,l),D(a,i,u),D(a,o,u),s(o,c)},p(a,u){u&1&&n!==(n=a[0].People_name+"")&&j(l,n),u&1&&r!==(r=a[0].People_licence+"")&&j(c,r)},d(a){a&&I(e),a&&I(i),a&&I(o)}}}function fn(t){let e,n,l;return{c(){e=h("button"),e.textContent="Select",m(e,"class","button bg-green-600")},m(i,o){D(i,e,o),n||(l=L(e,"click",t[14]),n=!0)},p:q,d(i){i&&I(e),n=!1,l()}}}function zi(t){let e,n,l;return{c(){e=h("button"),e.textContent="Edit",m(e,"class","button")},m(i,o){D(i,e,o),n||(l=L(e,"click",t[16]),n=!0)},p:q,d(i){i&&I(e),n=!1,l()}}}function qi(t){let e,n,l;return{c(){e=h("button"),e.textContent="Cancel",m(e,"class","button")},m(i,o){D(i,e,o),n||(l=L(e,"click",t[15]),n=!0)},p:q,d(i){i&&I(e),n=!1,l()}}}function Gi(t){let e,n,l,i,o,r,c,a;function u(k,b){return k[6]?Mi:Ui}let f=u(t),d=f(t),p=t[1]&&fn(t);function g(k,b){return k[6]?qi:zi}let v=g(t),_=v(t);return{c(){e=h("section"),d.c(),n=P(),l=h("div"),p&&p.c(),i=P(),_.c(),o=P(),r=h("button"),r.textContent="Delete",m(r,"class","button bg-red-400 hover:bg-red-300"),m(l,"class","flex gap-2"),m(e,"class","text-black font-semibold m-2 rounded p-4 shadow w-96 border-4 border-sky-200 bg-sky-200 bg-opacity-90 relative")},m(k,b){D(k,e,b),d.m(e,null),s(e,n),s(e,l),p&&p.m(l,null),s(l,i),_.m(l,null),s(l,o),s(l,r),c||(a=L(r,"click",t[9]),c=!0)},p(k,[b]){f===(f=u(k))&&d?d.p(k,b):(d.d(1),d=f(k),d&&(d.c(),d.m(e,n))),k[1]?p?p.p(k,b):(p=fn(k),p.c(),p.m(l,i)):p&&(p.d(1),p=null),v===(v=g(k))&&_?_.p(k,b):(_.d(1),_=v(k),_&&(_.c(),_.m(l,o)))},i:q,o:q,d(k){k&&I(e),d.d(),p&&p.d(),_.d(),c=!1,a()}}}function Ki(t,e,n){let l;se(t,de,$=>n(17,l=$));const i=Te();let{data:o}=e,{selectable:r}=e,c=o.Vehicle_make,a=o.Vehicle_model,u=o.Vehicle_colour,f=o.Vehicle_licence,d=!1;console.log(o);const p=async()=>{let $=new FormData;$.append("id",o.Vehicle_ID),$.append("make",c),$.append("model",a),$.append("colour",u),$.append("licence",f),l.username&&$.append("username",l.username);const E=`${re}/backend/vehicle/update-vehicle.php`;let S=await fetch(E,{method:"POST",body:$});S=await S.json(),console.log(S),S.status==1?(ge("Record successfully editted!"),n(6,d=!1),i("vehicleEditted",{Vehicle_ID:o.Vehicle_ID,Vehicle_make:c,Vehicle_model:a,Vehicle_colour:u,Vehicle_licence:f,People_ID:o.People_ID,People_name:o.People_name,People_address:o.People_address,People_licence:o.People_licence})):me("Something went wrong.")},g=async()=>{let $=`?id=${o.Vehicle_ID}`;l.username&&($+=`&username=${l.username}`);const E=`${re}/backend/vehicle/remove-vehicle.php${$}`;let S=await fetch(E);S=await S.json(),console.log(S),S.status==1?(ge("Deleted record!"),i("vehicleDeleted",o.Vehicle_ID)):me("Cannot delete a vehicle found in a report.")};function v(){c=this.value,n(2,c)}function _(){a=this.value,n(3,a)}function k(){u=this.value,n(4,u)}function b(){f=this.value,n(5,f)}const w=()=>{i("selected",o)},y=()=>{n(6,d=!d)},A=()=>{n(6,d=!d)};return t.$$set=$=>{"data"in $&&n(0,o=$.data),"selectable"in $&&n(1,r=$.selectable)},[o,r,c,a,u,f,d,i,p,g,v,_,k,b,w,y,A]}class Yi extends oe{constructor(e){super(),ie(this,e,Ki,Gi,le,{data:0,selectable:1})}}function dn(t,e,n){const l=t.slice();return l[10]=e[n],l}function pn(t){let e,n;function l(...o){return t[7](t[10],...o)}function i(){return t[8](t[10])}return e=new Yi({props:{data:t[10],selectable:t[0]}}),e.$on("vehicleEditted",t[6]),e.$on("vehicleDeleted",l),e.$on("selected",i),{c(){te(e.$$.fragment)},m(o,r){x(e,o,r),n=!0},p(o,r){t=o;const c={};r&2&&(c.data=t[10]),r&1&&(c.selectable=t[0]),e.$set(c)},i(o){n||(R(e.$$.fragment,o),n=!0)},o(o){U(e.$$.fragment,o),n=!1},d(o){ee(e,o)}}}function Zi(t){let e,n,l,i,o,r,c,a,u,f,d,p,g,v=t[1],_=[];for(let b=0;b<v.length;b+=1)_[b]=pn(dn(t,v,b));const k=b=>U(_[b],1,1,()=>{_[b]=null});return{c(){e=h("form"),n=h("label"),n.textContent="Number Plate",l=P(),i=h("input"),o=P(),r=h("button"),c=V("Search"),u=P();for(let b=0;b<_.length;b+=1)_[b].c();f=Ce(),m(n,"for","numberPlate"),m(i,"class","text-black"),m(i,"name","numberPlate"),m(i,"type","text"),r.disabled=a=t[2]=="",m(r,"type","submit"),m(r,"class","text-black bg-sky-500 hover:bg-sky-400 rounded w-max mt-2 px-6 py-2 font-semibold shadow hover:mb-0.5 hover:mt-1.5 duration-75 transition-all"),m(e,"class","flex flex-col justify-center items-center gap-2")},m(b,w){D(b,e,w),s(e,n),s(e,l),s(e,i),z(i,t[2]),s(e,o),s(e,r),s(r,c),D(b,u,w);for(let y=0;y<_.length;y+=1)_[y].m(b,w);D(b,f,w),d=!0,p||(g=[L(i,"input",t[5]),L(e,"submit",ve(t[4]))],p=!0)},p(b,[w]){if(w&4&&i.value!==b[2]&&z(i,b[2]),(!d||w&4&&a!==(a=b[2]==""))&&(r.disabled=a),w&11){v=b[1];let y;for(y=0;y<v.length;y+=1){const A=dn(b,v,y);_[y]?(_[y].p(A,w),R(_[y],1)):(_[y]=pn(A),_[y].c(),R(_[y],1),_[y].m(f.parentNode,f))}for(ue(),y=v.length;y<_.length;y+=1)k(y);fe()}},i(b){if(!d){for(let w=0;w<v.length;w+=1)R(_[w]);d=!0}},o(b){_=_.filter(Boolean);for(let w=0;w<_.length;w+=1)U(_[w]);d=!1},d(b){b&&I(e),b&&I(u),Le(_,b),b&&I(f),p=!1,ae(g)}}}function Qi(t,e,n){let l;se(t,de,g=>n(9,l=g));const i=Te();let o=[],r="",{selectable:c}=e;const a=async()=>{if(r=="")return;let g=`?plateNumber=${r}`;l.username&&(g+=`&username=${l.username}`);const v=`${re}/backend/vehicle/get-vehicle.php${g}`;let _=await fetch(v);_=await _.json(),_.data&&n(1,o=_.data),o.length>0?ge(`Found ${o.length} vehicles.`):me("No vehicle found!"),console.log(o)};function u(){r=this.value,n(2,r)}const f=g=>{const v=g.detail;console.log(v),n(1,o=o.map(_=>v.Vehicle_ID==_.Vehicle_ID?(console.log("Found"),v):_))},d=(g,v)=>{const _=v.detail;n(1,o=o.filter(k=>k.Vehicle_ID!==_)),console.log(g)},p=g=>{i("selected",g)};return t.$$set=g=>{"selectable"in g&&n(0,c=g.selectable)},[c,o,r,i,a,u,f,d,p]}class nl extends oe{constructor(e){super(),ie(this,e,Qi,Zi,le,{selectable:0})}}function Wi(t){let e,n,l,i;return l=new nl({}),{c(){e=h("h3"),e.textContent="Search for a vehicle by entering its number plate.",n=P(),te(l.$$.fragment)},m(o,r){D(o,e,r),D(o,n,r),x(l,o,r),i=!0},i(o){i||(R(l.$$.fragment,o),i=!0)},o(o){U(l.$$.fragment,o),i=!1},d(o){o&&I(e),o&&I(n),ee(l,o)}}}function Xi(t){let e,n,l,i;return l=new tl({}),{c(){e=h("h3"),e.textContent="Add a new vehicle",n=P(),te(l.$$.fragment),m(e,"class","text-center")},m(o,r){D(o,e,r),D(o,n,r),x(l,o,r),i=!0},i(o){i||(R(l.$$.fragment,o),i=!0)},o(o){U(l.$$.fragment,o),i=!1},d(o){o&&I(e),o&&I(n),ee(l,o)}}}function Ji(t){let e,n,l,i,o,r,c,a,u,f,d,p,g,v,_;const k=[Xi,Wi],b=[];function w(y,A){return y[0]?0:y[1]?1:-1}return~(d=w(t))&&(p=b[d]=k[d](t)),{c(){e=h("div"),n=h("main"),l=h("h2"),l.textContent="Vehicles",i=P(),o=h("div"),r=h("button"),r.textContent="Search Vehicles",c=P(),a=h("button"),a.textContent="Create a Vehicle",u=P(),f=h("div"),p&&p.c(),m(l,"class","text-xl"),m(r,"class","button"),m(a,"class","button"),m(o,"class","flex justify-center gap-4"),m(f,"class","grid place-content-center gap-1"),m(n,"class","text-white flex flex-col justify-center items-center pt-2 gap-2"),m(e,"class","bg-traffic bg-no-repeat bg-cover bg-center min-h-screen")},m(y,A){D(y,e,A),s(e,n),s(n,l),s(n,i),s(n,o),s(o,r),s(o,c),s(o,a),s(n,u),s(n,f),~d&&b[d].m(f,null),g=!0,v||(_=[L(r,"click",t[2]),L(a,"click",t[3])],v=!0)},p(y,[A]){let $=d;d=w(y),d!==$&&(p&&(ue(),U(b[$],1,1,()=>{b[$]=null}),fe()),~d?(p=b[d],p||(p=b[d]=k[d](y),p.c()),R(p,1),p.m(f,null)):p=null)},i(y){g||(R(p),g=!0)},o(y){U(p),g=!1},d(y){y&&I(e),~d&&b[d].d(),v=!1,ae(_)}}}function xi(t,e,n){let l=!1,i=!1;return[l,i,()=>{n(1,i=!0),n(0,l=!1)},()=>{n(0,l=!0),n(1,i=!1)}]}class eo extends oe{constructor(e){super(),ie(this,e,xi,Ji,le,{})}}let Ne=Se([]);function to(t){let e,n,l,i,o,r;return{c(){e=h("div"),n=h("input"),l=P(),i=h("input"),m(n,"type","button"),n.value="Search Vehicles",m(n,"class","button"),m(i,"type","button"),i.value="Create New Vehicle",m(i,"class","button")},m(c,a){D(c,e,a),s(e,n),s(e,l),s(e,i),o||(r=[L(n,"click",t[8]),L(i,"click",t[9])],o=!0)},p:q,d(c){c&&I(e),o=!1,ae(r)}}}function no(t){let e,n,l,i;return{c(){e=h("button"),n=V(t[3]),m(e,"class","button")},m(o,r){D(o,e,r),s(e,n),l||(i=L(e,"click",t[7]),l=!0)},p(o,r){r&8&&j(n,o[3])},d(o){o&&I(e),l=!1,i()}}}function _n(t){let e,n;return e=new nl({props:{selectable:!0}}),e.$on("selected",t[10]),{c(){te(e.$$.fragment)},m(l,i){x(e,l,i),n=!0},p:q,i(l){n||(R(e.$$.fragment,l),n=!0)},o(l){U(e.$$.fragment,l),n=!1},d(l){ee(e,l)}}}function hn(t){let e,n;return e=new tl({}),e.$on("close",t[11]),{c(){te(e.$$.fragment)},m(l,i){x(e,l,i),n=!0},p:q,i(l){n||(R(e.$$.fragment,l),n=!0)},o(l){U(e.$$.fragment,l),n=!1},d(l){ee(e,l)}}}function lo(t){let e,n,l,i;function o(f,d){return f[2]==!1?no:to}let r=o(t),c=r(t),a=t[0]&&_n(t),u=t[1]&&hn(t);return{c(){c.c(),e=P(),a&&a.c(),n=P(),u&&u.c(),l=Ce()},m(f,d){c.m(f,d),D(f,e,d),a&&a.m(f,d),D(f,n,d),u&&u.m(f,d),D(f,l,d),i=!0},p(f,[d]){r===(r=o(f))&&c?c.p(f,d):(c.d(1),c=r(f),c&&(c.c(),c.m(e.parentNode,e))),f[0]?a?(a.p(f,d),d&1&&R(a,1)):(a=_n(f),a.c(),R(a,1),a.m(n.parentNode,n)):a&&(ue(),U(a,1,1,()=>{a=null}),fe()),f[1]?u?(u.p(f,d),d&2&&R(u,1)):(u=hn(f),u.c(),R(u,1),u.m(l.parentNode,l)):u&&(ue(),U(u,1,1,()=>{u=null}),fe())},i(f){i||(R(a),R(u),i=!0)},o(f){U(a),U(u),i=!1},d(f){c.d(f),f&&I(e),a&&a.d(f),f&&I(n),u&&u.d(f),f&&I(l)}}}function io(t,e,n){const l=Te();let i=!1,o=!1,r=!1,c="Add Vehicle",{vehicleText:a="None"}=e,{buttonText:u="Vehicle"}=e;const f=b=>{b=="None"?n(3,c=`Add ${u}`):n(3,c=`Change ${u}`)},d=b=>{n(2,r=!1),l("vehicleSet",b)},p=()=>{n(2,r=!0)},g=()=>{n(0,i=!0),n(1,o=!1)},v=()=>{n(1,o=!0),n(0,i=!1)},_=b=>{n(0,i=!1),d(b.detail)},k=b=>{n(1,o=!1);let w=b.detail;w&&d(w)};return t.$$set=b=>{"vehicleText"in b&&n(5,a=b.vehicleText),"buttonText"in b&&n(6,u=b.buttonText)},t.$$.update=()=>{t.$$.dirty&32&&f(a)},[i,o,r,c,d,a,u,p,g,v,_,k]}class ll extends oe{constructor(e){super(),ie(this,e,io,lo,le,{vehicleText:5,buttonText:6})}}function mn(t,e,n){const l=t.slice();return l[5]=e[n],l}function bn(t){let e,n=t[5].Offence_description+"",l,i;return{c(){e=h("option"),l=V(n),e.__value=i=t[5].Offence_ID,e.value=e.__value},m(o,r){D(o,e,r),s(e,l)},p(o,r){r&16&&n!==(n=o[5].Offence_description+"")&&j(l,n),r&16&&i!==(i=o[5].Offence_ID)&&(e.__value=i,e.value=e.__value)},d(o){o&&I(e)}}}function oo(t){let e,n,l,i,o,r,c,a,u,f,d,p,g,v,_,k,b,w,y,A,$,E,S,T,C,O,N,Z,F,G,X,B,H=t[4],Q=[];for(let W=0;W<H.length;W+=1)Q[W]=bn(mn(t,H,W));return $=new Nt({props:{personText:t[2],buttonText:"Person"}}),$.$on("personSet",t[7]),N=new ll({}),N.$on("vehicleSet",t[8]),{c(){e=h("main"),n=h("h2"),n.textContent="Create Report",l=P(),i=h("form"),o=h("label"),o.textContent="Date",r=P(),c=h("input"),a=P(),u=h("label"),u.textContent="Select an offence",f=P(),d=h("select");for(let W=0;W<Q.length;W+=1)Q[W].c();p=P(),g=h("label"),g.textContent="Statement",v=P(),_=h("textarea"),k=P(),b=h("p"),w=V("Person: "),y=V(t[2]),A=P(),te($.$$.fragment),E=P(),S=h("p"),T=V("Vehicle: "),C=V(t[3]),O=P(),te(N.$$.fragment),Z=P(),F=h("button"),F.textContent="Submit",m(n,"class","text-xl"),m(o,"for","currentPassword"),m(c,"class","text-black"),m(c,"name","currentPassword"),m(c,"type","date"),m(u,"for","offences"),m(d,"class","text-black"),m(d,"name","offences"),t[5]===void 0&&Oe(()=>t[10].call(d)),m(g,"for","statement"),m(_,"class","text-black"),m(_,"name","statement"),m(_,"rows","3"),m(_,"cols","40"),m(F,"type","submit"),m(F,"class","button"),m(i,"class","flex flex-col justify-center items-center gap-2"),m(e,"class","text-white flex flex-col gap-4 pt-4 justify-center items-center")},m(W,J){D(W,e,J),s(e,n),s(e,l),s(e,i),s(i,o),s(i,r),s(i,c),z(c,t[0]),s(i,a),s(i,u),s(i,f),s(i,d);for(let K=0;K<Q.length;K+=1)Q[K].m(d,null);at(d,t[5]),s(i,p),s(i,g),s(i,v),s(i,_),z(_,t[1]),s(i,k),s(i,b),s(b,w),s(b,y),s(i,A),x($,i,null),s(i,E),s(i,S),s(S,T),s(S,C),s(i,O),x(N,i,null),s(i,Z),s(i,F),G=!0,X||(B=[L(c,"input",t[9]),L(d,"change",t[10]),L(_,"input",t[11]),L(i,"submit",ve(t[6]))],X=!0)},p(W,[J]){if(J&1&&z(c,W[0]),J&16){H=W[4];let M;for(M=0;M<H.length;M+=1){const Y=mn(W,H,M);Q[M]?Q[M].p(Y,J):(Q[M]=bn(Y),Q[M].c(),Q[M].m(d,null))}for(;M<Q.length;M+=1)Q[M].d(1);Q.length=H.length}J&48&&at(d,W[5]),J&2&&z(_,W[1]),(!G||J&4)&&j(y,W[2]);const K={};J&4&&(K.personText=W[2]),$.$set(K),(!G||J&8)&&j(C,W[3])},i(W){G||(R($.$$.fragment,W),R(N.$$.fragment,W),G=!0)},o(W){U($.$$.fragment,W),U(N.$$.fragment,W),G=!1},d(W){W&&I(e),Le(Q,W),ee($),ee(N),X=!1,ae(B)}}}function ro(t,e,n){let l,i;se(t,de,w=>n(14,l=w)),se(t,Ne,w=>n(4,i=w));let o,r,c,a,u="None",f,d="None";const p=async()=>{let w=new FormData;w.append("date",o),w.append("statement",r),a&&(w.append("person-id",a.People_ID),console.log("added person")),f&&(w.append("vehicle-id",f.Vehicle_ID),console.log("added vehicle")),c&&(w.append("offence-id",c),console.log("added offence")),l.username&&w.append("username",l.username);const y=`${re}/backend/report/create-report.php`;let A=await fetch(y,{method:"POST",body:w});A=await A.json();let $=A.data;$?ge("Created your report!"):me("Error Occurred"),console.log($)},g=w=>{a=w.detail,n(2,u=a.People_name)},v=w=>{f=w.detail,n(3,d=`${f.Vehicle_make} ${f.Vehicle_model}`)};function _(){o=this.value,n(0,o)}function k(){c=Bn(this),n(5,c)}function b(){r=this.value,n(1,r)}return t.$$.update=()=>{t.$$.dirty&1&&console.log(o)},[o,r,u,d,i,c,p,g,v,_,k,b]}class so extends oe{constructor(e){super(),ie(this,e,ro,oo,le,{})}}function gn(t,e,n){const l=t.slice();return l[35]=e[n],l}function ao(t){let e,n=t[0].Incident_Date+"",l,i,o=t[0].Offence_description+"",r,c,a,u,f,d,p=t[0].Incident_Report+"",g,v,_;function k(C,O){return C[3]?fo:uo}let b=k(t),w=b(t);function y(C,O){return C[6]?_o:po}let A=y(t),$=A(t);function E(C,O){return C[16]?bo:C[12]?mo:ho}let S=E(t),T=S(t);return{c(){e=h("h3"),l=V(n),i=V(" - "),r=V(o),c=P(),w.c(),a=P(),$.c(),u=P(),f=h("p"),d=V("Report: "),g=V(p),v=P(),T.c(),_=Ce(),m(e,"class","font-bold"),m(f,"class","border-t-gray-500 border-t-2 mt-1")},m(C,O){D(C,e,O),s(e,l),s(e,i),s(e,r),D(C,c,O),w.m(C,O),D(C,a,O),$.m(C,O),D(C,u,O),D(C,f,O),s(f,d),s(f,g),D(C,v,O),T.m(C,O),D(C,_,O)},p(C,O){O[0]&1&&n!==(n=C[0].Incident_Date+"")&&j(l,n),O[0]&1&&o!==(o=C[0].Offence_description+"")&&j(r,o),b===(b=k(C))&&w?w.p(C,O):(w.d(1),w=b(C),w&&(w.c(),w.m(a.parentNode,a))),A===(A=y(C))&&$?$.p(C,O):($.d(1),$=A(C),$&&($.c(),$.m(u.parentNode,u))),O[0]&1&&p!==(p=C[0].Incident_Report+"")&&j(g,p),S===(S=E(C))&&T?T.p(C,O):(T.d(1),T=S(C),T&&(T.c(),T.m(_.parentNode,_)))},i:q,o:q,d(C){C&&I(e),C&&I(c),w.d(C),C&&I(a),$.d(C),C&&I(u),C&&I(f),C&&I(v),T.d(C),C&&I(_)}}}function co(t){let e,n,l,i,o,r,c,a,u,f,d,p,g,v,_,k,b,w,y,A,$,E,S,T,C,O,N,Z,F,G,X,B,H,Q,W,J,K=t[18],M=[];for(let Y=0;Y<K.length;Y+=1)M[Y]=wn(gn(t,K,Y));return v=new Nt({props:{personText:" ",textColour:"text-black"}}),v.$on("personSet",t[23]),N=new ll({props:{vehicleText:" "}}),N.$on("vehicleSet",t[24]),{c(){e=h("form"),n=h("input"),l=P(),i=h("label"),i.textContent="Select an offence",o=P(),r=h("select");for(let Y=0;Y<M.length;Y+=1)M[Y].c();c=P(),a=h("p"),u=V("Person: "),f=V(t[4]),d=P(),p=V(t[5]),g=P(),te(v.$$.fragment),_=P(),k=h("p"),b=V("Vehicle: "),w=V(t[7]),y=P(),A=V(t[8]),$=P(),E=V(t[9]),S=V(" ("),T=V(t[10]),C=V(")"),O=P(),te(N.$$.fragment),Z=P(),F=h("label"),F.textContent="Report",G=P(),X=h("textarea"),B=P(),H=h("button"),H.textContent="Edit Report",n.required=!0,m(n,"class","text-black font-bold pl-1"),m(n,"name","date"),m(n,"type","date"),m(i,"for","offences"),m(r,"class","text-black"),m(r,"name","offences"),t[1]===void 0&&Oe(()=>t[22].call(r)),m(F,"for","statement"),m(X,"name","statement"),m(X,"cols","30"),m(X,"rows","2"),m(H,"type","submit"),m(H,"class","button"),m(e,"class","flex flex-col gap-1")},m(Y,ne){D(Y,e,ne),s(e,n),z(n,t[2]),s(e,l),s(e,i),s(e,o),s(e,r);for(let ce=0;ce<M.length;ce+=1)M[ce].m(r,null);at(r,t[1]),s(e,c),s(e,a),s(a,u),s(a,f),s(a,d),s(a,p),s(e,g),x(v,e,null),s(e,_),s(e,k),s(k,b),s(k,w),s(k,y),s(k,A),s(k,$),s(k,E),s(k,S),s(k,T),s(k,C),s(e,O),x(N,e,null),s(e,Z),s(e,F),s(e,G),s(e,X),z(X,t[11]),s(e,B),s(e,H),Q=!0,W||(J=[L(n,"input",t[21]),L(r,"change",t[22]),L(X,"input",t[25]),L(e,"submit",ve(t[19]))],W=!0)},p(Y,ne){if(ne[0]&4&&z(n,Y[2]),ne[0]&262146){K=Y[18];let ce;for(ce=0;ce<K.length;ce+=1){const De=gn(Y,K,ce);M[ce]?M[ce].p(De,ne):(M[ce]=wn(De),M[ce].c(),M[ce].m(r,null))}for(;ce<M.length;ce+=1)M[ce].d(1);M.length=K.length}ne[0]&262146&&at(r,Y[1]),(!Q||ne[0]&16)&&j(f,Y[4]),(!Q||ne[0]&32)&&j(p,Y[5]),(!Q||ne[0]&128)&&j(w,Y[7]),(!Q||ne[0]&256)&&j(A,Y[8]),(!Q||ne[0]&512)&&j(E,Y[9]),(!Q||ne[0]&1024)&&j(T,Y[10]),ne[0]&2048&&z(X,Y[11])},i(Y){Q||(R(v.$$.fragment,Y),R(N.$$.fragment,Y),Q=!0)},o(Y){U(v.$$.fragment,Y),U(N.$$.fragment,Y),Q=!1},d(Y){Y&&I(e),Le(M,Y),ee(v),ee(N),W=!1,ae(J)}}}function uo(t){let e;return{c(){e=h("p"),e.textContent="No person associated"},m(n,l){D(n,e,l)},p:q,d(n){n&&I(e)}}}function fo(t){let e,n=t[0].People_name+"",l,i,o=t[0].People_licence+"",r;return{c(){e=h("p"),l=V(n),i=P(),r=V(o)},m(c,a){D(c,e,a),s(e,l),s(e,i),s(e,r)},p(c,a){a[0]&1&&n!==(n=c[0].People_name+"")&&j(l,n),a[0]&1&&o!==(o=c[0].People_licence+"")&&j(r,o)},d(c){c&&I(e)}}}function po(t){let e;return{c(){e=h("p"),e.textContent="No vehicle associated"},m(n,l){D(n,e,l)},p:q,d(n){n&&I(e)}}}function _o(t){let e,n=t[0].Vehicle_colour+"",l,i,o=t[0].Vehicle_make+"",r,c,a=t[0].Vehicle_model+"",u,f,d=t[0].Vehicle_licence+"",p,g;return{c(){e=h("p"),l=V(n),i=P(),r=V(o),c=P(),u=V(a),f=V(`\r
                (`),p=V(d),g=V(")")},m(v,_){D(v,e,_),s(e,l),s(e,i),s(e,r),s(e,c),s(e,u),s(e,f),s(e,p),s(e,g)},p(v,_){_[0]&1&&n!==(n=v[0].Vehicle_colour+"")&&j(l,n),_[0]&1&&o!==(o=v[0].Vehicle_make+"")&&j(r,o),_[0]&1&&a!==(a=v[0].Vehicle_model+"")&&j(u,a),_[0]&1&&d!==(d=v[0].Vehicle_licence+"")&&j(p,d)},d(v){v&&I(e)}}}function ho(t){let e;return{c(){e=h("p"),e.textContent="No fine set"},m(n,l){D(n,e,l)},p:q,d(n){n&&I(e)}}}function mo(t){let e,n,l=t[0].Fine_Amount+"",i,o,r=t[0].Fine_Points+"",c,a;return{c(){e=h("p"),n=V("Fine of \xA3"),i=V(l),o=V(", "),c=V(r),a=V(" Points")},m(u,f){D(u,e,f),s(e,n),s(e,i),s(e,o),s(e,c),s(e,a)},p(u,f){f[0]&1&&l!==(l=u[0].Fine_Amount+"")&&j(i,l),f[0]&1&&r!==(r=u[0].Fine_Points+"")&&j(c,r)},d(u){u&&I(e)}}}function bo(t){let e,n,l,i,o,r,c,a,u=t[18][t[1]].Offence_maxFine+"",f,d,p,g,v,_,k,b,w,y=t[18][t[1]].Offence_maxPoints+"",A,$,E,S,T,C;return{c(){e=h("form"),n=h("div"),l=h("label"),l.textContent="Fine",i=P(),o=h("input"),r=P(),c=h("p"),a=V("(Maximum of \xA3"),f=V(u),d=V(")"),p=P(),g=h("label"),g.textContent="Points",v=P(),_=h("input"),k=P(),b=h("p"),w=V("(Maximum of "),A=V(y),$=V(" points)"),E=P(),S=h("button"),S.textContent="Edit Fine",m(l,"for","fine"),m(o,"class","w-16 px-1"),m(o,"type","number"),m(o,"name","fine"),m(c,"class","text-xs"),m(g,"for","points"),m(_,"class","w-16 px-1"),m(_,"type","number"),m(_,"name","points"),m(b,"class","text-xs"),m(n,"class","grid grid-cols-[max-content_max-content_1fr] gap-1 items-center whitespace-nowrap"),m(S,"type","submit"),m(S,"class","button"),m(e,"class","flex flex-col gap-1")},m(O,N){D(O,e,N),s(e,n),s(n,l),s(n,i),s(n,o),z(o,t[13]),s(n,r),s(n,c),s(c,a),s(c,f),s(c,d),s(n,p),s(n,g),s(n,v),s(n,_),z(_,t[14]),s(n,k),s(n,b),s(b,w),s(b,A),s(b,$),s(e,E),s(e,S),T||(C=[L(o,"input",t[26]),L(_,"input",t[27]),L(e,"submit",ve(t[20]))],T=!0)},p(O,N){N[0]&8192&&st(o.value)!==O[13]&&z(o,O[13]),N[0]&262146&&u!==(u=O[18][O[1]].Offence_maxFine+"")&&j(f,u),N[0]&16384&&st(_.value)!==O[14]&&z(_,O[14]),N[0]&262146&&y!==(y=O[18][O[1]].Offence_maxPoints+"")&&j(A,y)},d(O){O&&I(e),T=!1,ae(C)}}}function go(t){let e,n=t[35].Offence_description+"",l,i;return{c(){e=h("option"),l=V(n),e.__value=i=t[35].Offence_ID,e.value=e.__value},m(o,r){D(o,e,r),s(e,l)},p(o,r){r[0]&262144&&n!==(n=o[35].Offence_description+"")&&j(l,n),r[0]&262144&&i!==(i=o[35].Offence_ID)&&(e.__value=i,e.value=e.__value)},d(o){o&&I(e)}}}function wo(t){let e,n=t[35].Offence_description+"",l,i;return{c(){e=h("option"),l=V(n),e.__value=i=t[35].Offence_ID,e.value=e.__value},m(o,r){D(o,e,r),s(e,l)},p(o,r){r[0]&262144&&n!==(n=o[35].Offence_description+"")&&j(l,n),r[0]&262144&&i!==(i=o[35].Offence_ID)&&(e.__value=i,e.value=e.__value)},d(o){o&&I(e)}}}function wn(t){let e;function n(o,r){return o[35].Offence_ID===o[1]?wo:go}let l=n(t),i=l(t);return{c(){i.c(),e=Ce()},m(o,r){i.m(o,r),D(o,e,r)},p(o,r){l===(l=n(o))&&i?i.p(o,r):(i.d(1),i=l(o),i&&(i.c(),i.m(e.parentNode,e)))},d(o){i.d(o),o&&I(e)}}}function vo(t){let e,n,l;return{c(){e=h("button"),e.textContent="Edit",m(e,"class","button")},m(i,o){D(i,e,o),n||(l=L(e,"click",t[29]),n=!0)},p:q,d(i){i&&I(e),n=!1,l()}}}function ko(t){let e,n,l;return{c(){e=h("button"),e.textContent="Cancel",m(e,"class","button")},m(i,o){D(i,e,o),n||(l=L(e,"click",t[28]),n=!0)},p:q,d(i){i&&I(e),n=!1,l()}}}function vn(t){let e;function n(o,r){return o[12]?Po:yo}let l=n(t),i=l(t);return{c(){i.c(),e=Ce()},m(o,r){i.m(o,r),D(o,e,r)},p(o,r){l===(l=n(o))&&i?i.p(o,r):(i.d(1),i=l(o),i&&(i.c(),i.m(e.parentNode,e)))},d(o){i.d(o),o&&I(e)}}}function yo(t){let e,n,l;function i(c,a){return c[16]?$o:Ao}let o=i(t),r=o(t);return{c(){e=h("button"),r.c(),m(e,"class","button")},m(c,a){D(c,e,a),r.m(e,null),n||(l=L(e,"click",t[31]),n=!0)},p(c,a){o!==(o=i(c))&&(r.d(1),r=o(c),r&&(r.c(),r.m(e,null)))},d(c){c&&I(e),r.d(),n=!1,l()}}}function Po(t){let e,n,l;function i(c,a){return c[16]?Co:Io}let o=i(t),r=o(t);return{c(){e=h("button"),r.c(),m(e,"class","button")},m(c,a){D(c,e,a),r.m(e,null),n||(l=L(e,"click",t[30]),n=!0)},p(c,a){o!==(o=i(c))&&(r.d(1),r=o(c),r&&(r.c(),r.m(e,null)))},d(c){c&&I(e),r.d(),n=!1,l()}}}function $o(t){let e;return{c(){e=V("Cancel")},m(n,l){D(n,e,l)},d(n){n&&I(e)}}}function Ao(t){let e;return{c(){e=V("Add Fine")},m(n,l){D(n,e,l)},d(n){n&&I(e)}}}function Co(t){let e;return{c(){e=V("Cancel")},m(n,l){D(n,e,l)},d(n){n&&I(e)}}}function Io(t){let e;return{c(){e=V("Edit Fine")},m(n,l){D(n,e,l)},d(n){n&&I(e)}}}function Do(t){let e,n,l,i,o,r,c;const a=[co,ao],u=[];function f(_,k){return _[15]?0:1}n=f(t),l=u[n]=a[n](t);function d(_,k){return _[15]?ko:vo}let p=d(t),g=p(t),v=t[17].admin&&t[17].admin==1&&vn(t);return{c(){e=h("section"),l.c(),i=P(),o=h("div"),g.c(),r=P(),v&&v.c(),m(o,"class","flex gap-2"),m(e,"class","text-black font-semibold m-2 rounded p-4 shadow w-96 border-4 border-sky-200 bg-sky-200 bg-opacity-90 relative")},m(_,k){D(_,e,k),u[n].m(e,null),s(e,i),s(e,o),g.m(o,null),s(o,r),v&&v.m(o,null),c=!0},p(_,k){let b=n;n=f(_),n===b?u[n].p(_,k):(ue(),U(u[b],1,1,()=>{u[b]=null}),fe(),l=u[n],l?l.p(_,k):(l=u[n]=a[n](_),l.c()),R(l,1),l.m(e,i)),p===(p=d(_))&&g?g.p(_,k):(g.d(1),g=p(_),g&&(g.c(),g.m(o,r))),_[17].admin&&_[17].admin==1?v?v.p(_,k):(v=vn(_),v.c(),v.m(o,null)):v&&(v.d(1),v=null)},i(_){c||(R(l),c=!0)},o(_){U(l),c=!1},d(_){_&&I(e),u[n].d(),g.d(),v&&v.d()}}}function Vo(t,e,n){let l,i;se(t,de,M=>n(17,l=M)),se(t,Ne,M=>n(18,i=M));const o=Te();let{report:r}=e;console.log(r);let c=r.Incident_Date,a=r.Offence_ID,u=r.People_ID,f=r.People_name,d=r.People_licence,p=r.Vehicle_ID,g=r.Vehicle_colour,v=r.Vehicle_make,_=r.Vehicle_model,k=r.Vehicle_licence,b=r.Incident_Report,w=r.Fine_ID,y=r.Fine_Amount,A=r.Fine_Points,$=!1,E=!1;const S=M=>{for(const Y of i)if(Y.Offence_ID==M)return Y};let T=S(a);const C=async()=>{let M=new FormData;M.append("incidentId",r.Incident_ID),M.append("personId",u),M.append("vehicleId",p),M.append("offenceId",a),M.append("date",c),M.append("statement",b),l.username&&M.append("username",l.username),console.log(r.Incident_ID);const Y=`${re}/backend/report/edit-report.php`;let ne=await fetch(Y,{method:"POST",body:M});ne=await ne.json(),console.log(ne),n(15,$=!1),ne.status==1?(ge("Record successfully editted!"),o("reportEditted",{Incident_ID:r.Incident_ID,Incident_Date:c,Offence_ID:a,Offence_description:T.Offence_description,Offence_maxFine:T.Offence_maxFine,Offence_maxPoints:T.Offence_maxPoints,People_ID:u,People_name:f,People_licence:d,Vehicle_ID:p,Vehicle_colour:g,Vehicle_make:v,Vehicle_model:_,Vehicle_licence:k,Incident_Report:b,Fine_Amount:y,Fine_Points:A})):me("Report was unchanged or something went wrong.")},O=async()=>{if(E)return;let M=new FormData;M.append("incidentId",r.Incident_ID),M.append("amount",y),M.append("points",A),l.username&&M.append("username",l.username);let Y="";w?(M.append("fineId",w),Y=`${re}/backend/report/edit-fine.php`):Y=`${re}/backend/report/add-fine.php`;let ne=await fetch(Y,{method:"POST",body:M});ne=await ne.json(),console.log(ne),n(16,E=!1),ne.status==1?(ge("Fine successfully editted!"),n(12,w=ne.id),o("fineEditted",{Incident_ID:r.Incident_ID,Fine_ID:ne.id,Fine_Amount:y,Fine_Points:A})):me("Fine failed to update!")};function N(){c=this.value,n(2,c)}function Z(){a=Bn(this),n(1,a)}const F=M=>{const Y=M.detail;n(3,u=Y.People_ID),n(4,f=Y.People_name),n(5,d=Y.People_licence)},G=M=>{const Y=M.detail;n(6,p=Y.Vehicle_ID),n(7,g=Y.Vehicle_colour),n(8,v=Y.Vehicle_make),n(9,_=Y.Vehicle_model),n(10,k=Y.Vehicle_licence)};function X(){b=this.value,n(11,b)}function B(){y=st(this.value),n(13,y)}function H(){A=st(this.value),n(14,A)}const Q=()=>{n(15,$=!$)},W=()=>{n(15,$=!$)},J=()=>{n(16,E=!E)},K=()=>{n(16,E=!E)};return t.$$set=M=>{"report"in M&&n(0,r=M.report)},t.$$.update=()=>{t.$$.dirty[0]&2&&(T=S(a))},[r,a,c,u,f,d,p,g,v,_,k,b,w,y,A,$,E,l,i,C,O,N,Z,F,G,X,B,H,Q,W,J,K]}class So extends oe{constructor(e){super(),ie(this,e,Vo,Do,le,{report:0},null,[-1,-1])}}function kn(t,e,n){const l=t.slice();return l[8]=e[n],l[9]=e,l[10]=n,l}function yn(t){let e,n;function l(...i){return t[6](t[8],...i)}return e=new So({props:{report:t[8]}}),e.$on("fineEditted",t[4]),e.$on("reportEditted",t[5]),e.$on("reportDeleted",l),{c(){te(e.$$.fragment)},m(i,o){x(e,i,o),n=!0},p(i,o){t=i;const r={};o&1&&(r.report=t[8]),e.$set(r)},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){U(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function Eo(t){let e,n,l,i,o,r,c,a,u,f,d,p,g,v=t[0],_=[];for(let b=0;b<v.length;b+=1)_[b]=yn(kn(t,v,b));const k=b=>U(_[b],1,1,()=>{_[b]=null});return{c(){e=h("form"),n=h("label"),n.textContent="Name",l=P(),i=h("input"),o=P(),r=h("button"),c=V("Search"),u=P();for(let b=0;b<_.length;b+=1)_[b].c();f=Ce(),m(n,"class","text-white"),m(n,"for","name"),m(i,"class","text-black"),m(i,"name","name"),m(i,"type","text"),r.disabled=a=t[1]=="",m(r,"type","submit"),m(r,"class","button"),m(e,"class","flex flex-col justify-center items-center gap-2")},m(b,w){D(b,e,w),s(e,n),s(e,l),s(e,i),z(i,t[1]),s(e,o),s(e,r),s(r,c),D(b,u,w);for(let y=0;y<_.length;y+=1)_[y].m(b,w);D(b,f,w),d=!0,p||(g=[L(i,"input",t[3]),L(e,"submit",ve(t[2]))],p=!0)},p(b,[w]){if(w&2&&i.value!==b[1]&&z(i,b[1]),(!d||w&2&&a!==(a=b[1]==""))&&(r.disabled=a),w&1){v=b[0];let y;for(y=0;y<v.length;y+=1){const A=kn(b,v,y);_[y]?(_[y].p(A,w),R(_[y],1)):(_[y]=yn(A),_[y].c(),R(_[y],1),_[y].m(f.parentNode,f))}for(ue(),y=v.length;y<_.length;y+=1)k(y);fe()}},i(b){if(!d){for(let w=0;w<v.length;w+=1)R(_[w]);d=!0}},o(b){_=_.filter(Boolean);for(let w=0;w<_.length;w+=1)U(_[w]);d=!1},d(b){b&&I(e),b&&I(u),Le(_,b),b&&I(f),p=!1,ae(g)}}}function Oo(t,e,n){let l;se(t,de,d=>n(7,l=d));let i=[],o="";const r=async()=>{let d=`?name=${o}`;l.username&&(d+=`&username=${l.username}`);const p=`${re}/backend/report/get-reports-by-name.php${d}`;let g=await fetch(p);g=await g.json(),n(0,i=g.data),i?ge(`Found ${i.length} reports.`):me("No report found!"),console.log("Reports",i)};function c(){o=this.value,n(1,o)}return[i,o,r,c,d=>{const p=d.detail;console.log(p),n(0,i=i.map(g=>p.Incident_ID==g.Incident_ID?(g.Fine_ID=p.Fine_ID,g.Fine_Amount=p.Fine_Amount,g.Fine_Points=p.Fine_Points,console.log(g),g):(console.log(g),g)))},d=>{const p=d.detail;console.log(p),n(0,i=i.map(g=>p.Incident_ID==g.Incident_ID?(console.log("Found"),p):g))},(d,p)=>{const g=p.detail;n(0,i=i.filter(v=>v.Incident_ID!==g)),console.log(d)}]}class To extends oe{constructor(e){super(),ie(this,e,Oo,Eo,le,{})}}function Ro(t){let e,n;return e=new To({}),{c(){te(e.$$.fragment)},m(l,i){x(e,l,i),n=!0},i(l){n||(R(e.$$.fragment,l),n=!0)},o(l){U(e.$$.fragment,l),n=!1},d(l){ee(e,l)}}}function jo(t){let e,n;return e=new so({}),{c(){te(e.$$.fragment)},m(l,i){x(e,l,i),n=!0},i(l){n||(R(e.$$.fragment,l),n=!0)},o(l){U(e.$$.fragment,l),n=!1},d(l){ee(e,l)}}}function No(t){let e,n,l,i,o,r,c,a,u,f,d,p;const g=[jo,Ro],v=[];function _(k,b){return k[0]?0:k[1]?1:-1}return~(a=_(t))&&(u=v[a]=g[a](t)),{c(){e=h("div"),n=h("div"),l=h("button"),l.textContent="Search Reports",i=P(),o=h("button"),o.textContent="Create a Report",r=P(),c=h("div"),u&&u.c(),m(l,"class","button"),m(o,"class","button"),m(n,"class","flex justify-center gap-4 py-4"),m(c,"class","grid place-content-center gap-1"),m(e,"class","bg-traffic bg-no-repeat bg-cover bg-center min-h-screen")},m(k,b){D(k,e,b),s(e,n),s(n,l),s(n,i),s(n,o),s(e,r),s(e,c),~a&&v[a].m(c,null),f=!0,d||(p=[L(l,"click",t[2]),L(o,"click",t[3])],d=!0)},p(k,[b]){let w=a;a=_(k),a!==w&&(u&&(ue(),U(v[w],1,1,()=>{v[w]=null}),fe()),~a?(u=v[a],u||(u=v[a]=g[a](k),u.c()),R(u,1),u.m(c,null)):u=null)},i(k){f||(R(u),f=!0)},o(k){U(u),f=!1},d(k){k&&I(e),~a&&v[a].d(),d=!1,ae(p)}}}function Fo(t,e,n){let l;se(t,Ne,u=>n(4,l=u)),Je(async()=>{const u=`${re}/backend/report/get-offences.php`;let f=await fetch(u);f=await f.json(),ye(Ne,l=f.data,l),console.log(Ne)});let o=!1,r=!1;return[o,r,()=>{n(1,r=!0),n(0,o=!1)},()=>{n(0,o=!0),n(1,r=!1)}]}class Lo extends oe{constructor(e){super(),ie(this,e,Fo,No,le,{})}}function Uo(t){let e,n,l,i,o,r,c,a,u,f,d,p,g,v,_,k;return{c(){e=h("h2"),e.textContent="Change password",n=P(),l=h("form"),i=h("label"),i.textContent="Current Password",o=P(),r=h("input"),c=P(),a=h("label"),a.textContent="New Password",u=P(),f=h("input"),d=P(),p=h("button"),g=V("Submit"),m(e,"class","text-xl"),m(i,"for","currentPassword"),m(r,"class","text-black"),m(r,"name","currentPassword"),m(r,"type","password"),m(a,"for","newPassword"),m(f,"class","text-black"),m(f,"name","newPassword"),m(f,"type","password"),p.disabled=v=t[0]==""||t[1]=="",m(p,"type","submit"),m(p,"class","button"),m(l,"class","flex flex-col justify-center items-center gap-2")},m(b,w){D(b,e,w),D(b,n,w),D(b,l,w),s(l,i),s(l,o),s(l,r),z(r,t[0]),s(l,c),s(l,a),s(l,u),s(l,f),z(f,t[1]),s(l,d),s(l,p),s(p,g),_||(k=[L(r,"input",t[3]),L(f,"input",t[4]),L(l,"submit",ve(t[2]))],_=!0)},p(b,[w]){w&1&&r.value!==b[0]&&z(r,b[0]),w&2&&f.value!==b[1]&&z(f,b[1]),w&3&&v!==(v=b[0]==""||b[1]=="")&&(p.disabled=v)},i:q,o:q,d(b){b&&I(e),b&&I(n),b&&I(l),_=!1,ae(k)}}}function Mo(t,e,n){let l;se(t,de,u=>n(5,l=u));let i="",o="";const r=async()=>{if(l.username===void 0)return me("You are not logged in."),0;let u=new FormData;u.append("username",l.username),u.append("currentPassword",i),u.append("newPassword",o);const f=`${re}/backend/user/change-password.php`;let d=await fetch(f,{method:"POST",body:u});d=await d.json(),u=d.data,n(0,i=""),n(1,o=""),u==1?(console.log("Password updated"),ge("Password updated!")):u==0&&(console.log("No rows updated. Password incorrect or new password is the same as old passowrd."),me("Password incorrect!"))};function c(){i=this.value,n(0,i)}function a(){o=this.value,n(1,o)}return[i,o,r,c,a]}class Bo extends oe{constructor(e){super(),ie(this,e,Mo,Uo,le,{})}}function Ho(t){let e,n,l,i,o,r,c,a,u,f,d,p,g,v,_,k;return{c(){e=h("h2"),e.textContent="Create New Police Account",n=P(),l=h("form"),i=h("label"),i.textContent="Username",o=P(),r=h("input"),c=P(),a=h("label"),a.textContent="Password",u=P(),f=h("input"),d=P(),p=h("button"),g=V("Submit"),m(e,"class","text-xl"),m(i,"for","username"),m(r,"class","text-black"),m(r,"name","username"),m(r,"type","text"),m(a,"for","password"),m(f,"class","text-black"),m(f,"name","password"),m(f,"type","password"),p.disabled=v=t[0]==""||t[1]=="",m(p,"type","submit"),m(p,"class","button"),m(l,"class","flex flex-col justify-center items-center gap-2")},m(b,w){D(b,e,w),D(b,n,w),D(b,l,w),s(l,i),s(l,o),s(l,r),z(r,t[0]),s(l,c),s(l,a),s(l,u),s(l,f),z(f,t[1]),s(l,d),s(l,p),s(p,g),_||(k=[L(r,"input",t[3]),L(f,"input",t[4]),L(l,"submit",ve(t[2]))],_=!0)},p(b,[w]){w&1&&r.value!==b[0]&&z(r,b[0]),w&2&&f.value!==b[1]&&z(f,b[1]),w&3&&v!==(v=b[0]==""||b[1]=="")&&(p.disabled=v)},i:q,o:q,d(b){b&&I(e),b&&I(n),b&&I(l),_=!1,ae(k)}}}function zo(t,e,n){let l;se(t,de,u=>n(5,l=u));let i="",o="";const r=async()=>{if(l.username===void 0)return me("You are not logged in."),0;let u=new FormData;u.append("username",i),u.append("password",o),u.append("loggedInUsername",l.username);const f=`${re}/backend/user/create-account.php`;let d=await fetch(f,{method:"POST",body:u});d=await d.json(),d.status==1?(n(0,i=""),n(1,o=""),ge("Account created!")):me("This user already exists!")};function c(){i=this.value,n(0,i)}function a(){o=this.value,n(1,o)}return[i,o,r,c,a]}class qo extends oe{constructor(e){super(),ie(this,e,zo,Ho,le,{})}}function Pn(t){let e,n;return e=new qo({}),{c(){te(e.$$.fragment)},m(l,i){x(e,l,i),n=!0},i(l){n||(R(e.$$.fragment,l),n=!0)},o(l){U(e.$$.fragment,l),n=!1},d(l){ee(e,l)}}}function Go(t){let e,n,l,i,o;l=new Bo({});let r=t[0].admin=="1"&&Pn();return{c(){e=h("div"),n=h("main"),te(l.$$.fragment),i=P(),r&&r.c(),m(n,"class","text-white flex flex-col gap-4 pt-4 justify-center items-center"),m(e,"class","bg-traffic bg-no-repeat bg-cover bg-center h-screen")},m(c,a){D(c,e,a),s(e,n),x(l,n,null),s(n,i),r&&r.m(n,null),o=!0},p(c,[a]){c[0].admin=="1"?r?a&1&&R(r,1):(r=Pn(),r.c(),R(r,1),r.m(n,null)):r&&(ue(),U(r,1,1,()=>{r=null}),fe())},i(c){o||(R(l.$$.fragment,c),R(r),o=!0)},o(c){U(l.$$.fragment,c),U(r),o=!1},d(c){c&&I(e),ee(l),r&&r.d()}}}function Ko(t,e,n){let l;return se(t,de,i=>n(0,l=i)),[l]}class Yo extends oe{constructor(e){super(),ie(this,e,Ko,Go,le,{})}}function Zo(t){let e;return{c(){e=h("div"),e.innerHTML=`<main class="bg-sky-100 opacity-90 p-6"><h2 class="font-semibold text-xl mb-4">References</h2> 

        <p><a target="#" class="flex gap-1 underline" href="https://www.flaticon.com/free-icons/police" title="police icons"><img alt="Blue Police Badge Icon" src="/images/badge.png"/> Police
                favicon icon created by Freepik - Flaticon</a></p> 

        <p>Background Image -
            <a class="underline" target="#" href="https://www.pexels.com/photo/aerial-photography-of-cars-on-the-road-during-night-time-12445652/">Pexels Simon Klasen</a></p> 

        <p>Notifications - <a class="underline" target="#" href="https://github.com/zerodevx/svelte-toast">Zerodevx Svelte-Toast</a></p> 

        <p>Svelte, PHP tutorial <a class="underline" target="#" href="https://www.youtube.com/playlist?list=PLh7PNLbTepP94NqlzNvEQGUlxu8dZXN8U">API application with Svelte, PHP, and MySQL/MariaDB Tutorial</a></p> 

        <p>Svelte Guide <a class="underline" target="#" href="https://www.sitepoint.com/premium/books/svelte-a-beginner-s-guide/">Svelte A Beginner&#39;s Guide by Simon Holthausen</a></p> 

        <p>Build config help <a class="underline" target="#" href="https://stackoverflow.com/questions/69614671/vite-without-hash-in-filename">rollup - vite without hash in filename - Stack Overflow</a></p></main>`,m(e,"class","bg-traffic bg-no-repeat bg-cover bg-center min-h-screen")},m(n,l){D(n,e,l)},p:q,i:q,o:q,d(n){n&&I(e)}}}class Qo extends oe{constructor(e){super(),ie(this,e,null,Zo,le,{})}}function Wo(t){let e;return{c(){e=h("h2"),e.textContent="Nothing here"},m(n,l){D(n,e,l)},p:q,i:q,o:q,d(n){n&&I(e)}}}class Xo extends oe{constructor(e){super(),ie(this,e,null,Wo,le,{})}}function $n(t){let e,n;return{c(){e=Ge("title"),n=V(t[0])},m(l,i){D(l,e,i),s(e,n)},p(l,i){i&1&&j(n,l[0])},d(l){l&&I(e)}}}function Jo(t){let e,n,l,i=t[0]&&$n(t);const o=t[3].default,r=rl(o,t,t[2],null);return{c(){e=Ge("svg"),i&&i.c(),n=Ce(),r&&r.c(),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"viewBox",t[1]),m(e,"class","svelte-c8tyih")},m(c,a){D(c,e,a),i&&i.m(e,null),s(e,n),r&&r.m(e,null),l=!0},p(c,[a]){c[0]?i?i.p(c,a):(i=$n(c),i.c(),i.m(e,n)):i&&(i.d(1),i=null),r&&r.p&&(!l||a&4)&&al(r,o,c,c[2],l?sl(o,c[2],a,null):cl(c[2]),null),(!l||a&2)&&m(e,"viewBox",c[1])},i(c){l||(R(r,c),l=!0)},o(c){U(r,c),l=!1},d(c){c&&I(e),i&&i.d(),r&&r.d(c)}}}function xo(t,e,n){let{$$slots:l={},$$scope:i}=e,{title:o=null}=e,{viewBox:r}=e;return t.$$set=c=>{"title"in c&&n(0,o=c.title),"viewBox"in c&&n(1,r=c.viewBox),"$$scope"in c&&n(2,i=c.$$scope)},[o,r,i,l]}class Ft extends oe{constructor(e){super(),ie(this,e,xo,Jo,le,{title:0,viewBox:1})}}function er(t){let e;return{c(){e=Ge("path"),m(e,"d","M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z")},m(n,l){D(n,e,l)},p:q,d(n){n&&I(e)}}}function tr(t){let e,n;const l=[{viewBox:"0 0 576 512"},t[0]];let i={$$slots:{default:[er]},$$scope:{ctx:t}};for(let o=0;o<l.length;o+=1)i=Pe(i,l[o]);return e=new Ft({props:i}),{c(){te(e.$$.fragment)},m(o,r){x(e,o,r),n=!0},p(o,[r]){const c=r&1?mt(l,[l[0],bt(o[0])]):{};r&2&&(c.$$scope={dirty:r,ctx:o}),e.$set(c)},i(o){n||(R(e.$$.fragment,o),n=!0)},o(o){U(e.$$.fragment,o),n=!1},d(o){ee(e,o)}}}function nr(t,e,n){return t.$$set=l=>{n(0,e=Pe(Pe({},e),He(l)))},e=He(e),[e]}class lr extends oe{constructor(e){super(),ie(this,e,nr,tr,le,{})}}function ir(t){let e;return{c(){e=Ge("path"),m(e,"d","M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z")},m(n,l){D(n,e,l)},p:q,d(n){n&&I(e)}}}function or(t){let e,n;const l=[{viewBox:"0 0 640 512"},t[0]];let i={$$slots:{default:[ir]},$$scope:{ctx:t}};for(let o=0;o<l.length;o+=1)i=Pe(i,l[o]);return e=new Ft({props:i}),{c(){te(e.$$.fragment)},m(o,r){x(e,o,r),n=!0},p(o,[r]){const c=r&1?mt(l,[l[0],bt(o[0])]):{};r&2&&(c.$$scope={dirty:r,ctx:o}),e.$set(c)},i(o){n||(R(e.$$.fragment,o),n=!0)},o(o){U(e.$$.fragment,o),n=!1},d(o){ee(e,o)}}}function rr(t,e,n){return t.$$set=l=>{n(0,e=Pe(Pe({},e),He(l)))},e=He(e),[e]}class sr extends oe{constructor(e){super(),ie(this,e,rr,or,le,{})}}function An(t){let e,n,l,i,o,r,c;const a=[cr,ar],u=[];function f(d,p){return d[1]?1:0}return l=f(t),i=u[l]=a[l](t),{c(){e=h("td"),n=h("button"),i.c(),m(n,"class","h-5 absolute top-1/2 -translate-y-1/2 opacity-50 hover:opacity-100 hover:cursor-pointer"),m(e,"class","text-center relative")},m(d,p){D(d,e,p),s(e,n),u[l].m(n,null),o=!0,r||(c=L(n,"click",t[8]),r=!0)},p(d,p){let g=l;l=f(d),l!==g&&(ue(),U(u[g],1,1,()=>{u[g]=null}),fe(),i=u[l],i||(i=u[l]=a[l](d),i.c()),R(i,1),i.m(n,null))},i(d){o||(R(i),o=!0)},o(d){U(i),o=!1},d(d){d&&I(e),u[l].d(),r=!1,c()}}}function ar(t){let e,n;return e=new sr({}),{c(){te(e.$$.fragment)},m(l,i){x(e,l,i),n=!0},i(l){n||(R(e.$$.fragment,l),n=!0)},o(l){U(e.$$.fragment,l),n=!1},d(l){ee(e,l)}}}function cr(t){let e,n;return e=new lr({}),{c(){te(e.$$.fragment)},m(l,i){x(e,l,i),n=!0},i(l){n||(R(e.$$.fragment,l),n=!0)},o(l){U(e.$$.fragment,l),n=!1},d(l){ee(e,l)}}}function Cn(t){let e,n,l,i,o,r,c,a=t[0].Audit_People_old_name+"",u,f,d,p=t[0].Audit_People_new_name+"",g,v,_,k,b,w,y=t[0].Audit_People_old_address+"",A,$,E,S=t[0].Audit_People_new_address+"",T,C,O,N,Z,F,G=t[0].Audit_People_old_licence+"",X,B,H,Q=t[0].Audit_People_new_licence+"",W;return{c(){e=h("table"),n=h("tr"),n.innerHTML=`<td></td> 
                <th>Previous</th> 
                <th>New</th>`,l=P(),i=h("tr"),o=h("th"),o.textContent="Name",r=P(),c=h("td"),u=V(a),f=P(),d=h("td"),g=V(p),v=P(),_=h("tr"),k=h("th"),k.textContent="Address",b=P(),w=h("td"),A=V(y),$=P(),E=h("td"),T=V(S),C=P(),O=h("tr"),N=h("th"),N.textContent="Licence",Z=P(),F=h("td"),X=V(G),B=P(),H=h("td"),W=V(Q),m(e,"class","absolute bg-sky-100 -right-1 translate-x-full rounded")},m(J,K){D(J,e,K),s(e,n),s(e,l),s(e,i),s(i,o),s(i,r),s(i,c),s(c,u),s(i,f),s(i,d),s(d,g),s(e,v),s(e,_),s(_,k),s(_,b),s(_,w),s(w,A),s(_,$),s(_,E),s(E,T),s(e,C),s(e,O),s(O,N),s(O,Z),s(O,F),s(F,X),s(O,B),s(O,H),s(H,W)},p(J,K){K&1&&a!==(a=J[0].Audit_People_old_name+"")&&j(u,a),K&1&&p!==(p=J[0].Audit_People_new_name+"")&&j(g,p),K&1&&y!==(y=J[0].Audit_People_old_address+"")&&j(A,y),K&1&&S!==(S=J[0].Audit_People_new_address+"")&&j(T,S),K&1&&G!==(G=J[0].Audit_People_old_licence+"")&&j(X,G),K&1&&Q!==(Q=J[0].Audit_People_new_licence+"")&&j(W,Q)},d(J){J&&I(e)}}}function In(t){let e,n,l,i,o,r,c,a=t[0].Audit_Vehicle_old_make+"",u,f,d,p=t[0].Audit_Vehicle_new_make+"",g,v,_,k,b,w,y=t[0].Audit_Vehicle_old_model+"",A,$,E,S=t[0].Audit_Vehicle_new_model+"",T,C,O,N,Z,F,G=t[0].Audit_Vehicle_old_colour+"",X,B,H,Q=t[0].Audit_Vehicle_new_colour+"",W,J,K,M,Y,ne,ce=t[0].Audit_Vehicle_old_licence+"",De,Ue,Re,je=t[0].Audit_Vehicle_new_licence+"",Ie;return{c(){e=h("table"),n=h("tr"),n.innerHTML=`<td></td> 
                <th>Previous</th> 
                <th>New</th>`,l=P(),i=h("tr"),o=h("th"),o.textContent="Make",r=P(),c=h("td"),u=V(a),f=P(),d=h("td"),g=V(p),v=P(),_=h("tr"),k=h("th"),k.textContent="Model",b=P(),w=h("td"),A=V(y),$=P(),E=h("td"),T=V(S),C=P(),O=h("tr"),N=h("th"),N.textContent="Colour",Z=P(),F=h("td"),X=V(G),B=P(),H=h("td"),W=V(Q),J=P(),K=h("tr"),M=h("th"),M.textContent="Licence",Y=P(),ne=h("td"),De=V(ce),Ue=P(),Re=h("td"),Ie=V(je),m(o,"class","px-2"),m(k,"class","px-2"),m(N,"class","px-2"),m(M,"class","px-2 pb-2"),m(e,"class","absolute bg-sky-100 -right-1 translate-x-full rounded")},m(_e,ke){D(_e,e,ke),s(e,n),s(e,l),s(e,i),s(i,o),s(i,r),s(i,c),s(c,u),s(i,f),s(i,d),s(d,g),s(e,v),s(e,_),s(_,k),s(_,b),s(_,w),s(w,A),s(_,$),s(_,E),s(E,T),s(e,C),s(e,O),s(O,N),s(O,Z),s(O,F),s(F,X),s(O,B),s(O,H),s(H,W),s(e,J),s(e,K),s(K,M),s(K,Y),s(K,ne),s(ne,De),s(K,Ue),s(K,Re),s(Re,Ie)},p(_e,ke){ke&1&&a!==(a=_e[0].Audit_Vehicle_old_make+"")&&j(u,a),ke&1&&p!==(p=_e[0].Audit_Vehicle_new_make+"")&&j(g,p),ke&1&&y!==(y=_e[0].Audit_Vehicle_old_model+"")&&j(A,y),ke&1&&S!==(S=_e[0].Audit_Vehicle_new_model+"")&&j(T,S),ke&1&&G!==(G=_e[0].Audit_Vehicle_old_colour+"")&&j(X,G),ke&1&&Q!==(Q=_e[0].Audit_Vehicle_new_colour+"")&&j(W,Q),ke&1&&ce!==(ce=_e[0].Audit_Vehicle_old_licence+"")&&j(De,ce),ke&1&&je!==(je=_e[0].Audit_Vehicle_new_licence+"")&&j(Ie,je)},d(_e){_e&&I(e)}}}function Dn(t){let e,n,l,i,o,r,c,a=t[0].Audit_Incident_old_date+"",u,f,d,p=t[0].Audit_Incident_new_date+"",g,v,_,k,b,w,y=t[7].filter(t[9])[0].Offence_description+"",A,$,E,S=t[7].filter(t[10])[0].Offence_description+"",T,C,O,N,Z,F,G=t[0].Audit_Incident_old_report+"",X,B,H,Q=t[0].Audit_Incident_new_report+"",W,J,K,M,Y,ne,ce,De,Ue,Re,je,Ie,_e,ke,vt,kt,Lt,yt,Pt;return{c(){e=h("table"),n=h("tr"),n.innerHTML=`<td></td> 
                <th>Previous</th> 
                <th>New</th>`,l=P(),i=h("tr"),o=h("th"),o.textContent="Date",r=P(),c=h("td"),u=V(a),f=P(),d=h("td"),g=V(p),v=P(),_=h("tr"),k=h("th"),k.textContent="Offence",b=P(),w=h("td"),A=V(y),$=P(),E=h("td"),T=V(S),C=P(),O=h("tr"),N=h("th"),N.textContent="Report",Z=P(),F=h("td"),X=V(G),B=P(),H=h("td"),W=V(Q),J=P(),K=h("tr"),M=h("th"),M.textContent="Person",Y=P(),ne=h("td"),ce=V(t[3]),De=P(),Ue=h("td"),Re=V(t[4]),je=P(),Ie=h("tr"),_e=h("th"),_e.textContent="Vehicle",ke=P(),vt=h("td"),kt=V(t[5]),Lt=P(),yt=h("td"),Pt=V(t[6]),m(o,"class","px-2"),m(k,"class","px-2"),m(N,"class","px-2"),m(M,"class","px-2"),m(_e,"class","px-2"),m(e,"class","absolute bg-sky-100 -right-1 translate-x-full rounded")},m(be,$e){D(be,e,$e),s(e,n),s(e,l),s(e,i),s(i,o),s(i,r),s(i,c),s(c,u),s(i,f),s(i,d),s(d,g),s(e,v),s(e,_),s(_,k),s(_,b),s(_,w),s(w,A),s(_,$),s(_,E),s(E,T),s(e,C),s(e,O),s(O,N),s(O,Z),s(O,F),s(F,X),s(O,B),s(O,H),s(H,W),s(e,J),s(e,K),s(K,M),s(K,Y),s(K,ne),s(ne,ce),s(K,De),s(K,Ue),s(Ue,Re),s(e,je),s(e,Ie),s(Ie,_e),s(Ie,ke),s(Ie,vt),s(vt,kt),s(Ie,Lt),s(Ie,yt),s(yt,Pt)},p(be,$e){$e&1&&a!==(a=be[0].Audit_Incident_old_date+"")&&j(u,a),$e&1&&p!==(p=be[0].Audit_Incident_new_date+"")&&j(g,p),$e&129&&y!==(y=be[7].filter(be[9])[0].Offence_description+"")&&j(A,y),$e&129&&S!==(S=be[7].filter(be[10])[0].Offence_description+"")&&j(T,S),$e&1&&G!==(G=be[0].Audit_Incident_old_report+"")&&j(X,G),$e&1&&Q!==(Q=be[0].Audit_Incident_new_report+"")&&j(W,Q),$e&8&&j(ce,be[3]),$e&16&&j(Re,be[4]),$e&32&&j(kt,be[5]),$e&64&&j(Pt,be[6])},d(be){be&&I(e)}}}function Vn(t){let e,n,l,i,o,r,c,a,u,f=t[0].Audit_Fines_old_amount+"",d,p,g,v,_=t[0].Audit_Fines_new_amount+"",k,b,w,y,A,$,E=t[0].Audit_Fines_old_points+"",S,T,C,O=t[0].Audit_Fines_new_points+"",N,Z,F,G,X=t[0].Audit_Fines_incident_ID+"",B;return{c(){e=h("div"),n=h("table"),l=h("tr"),l.innerHTML=`<td></td> 
                    <th>Previous</th> 
                    <th>New</th>`,i=P(),o=h("tr"),r=h("th"),r.textContent="Amount",c=P(),a=h("td"),u=V("\xA3"),d=V(f),p=P(),g=h("td"),v=V("\xA3"),k=V(_),b=P(),w=h("tr"),y=h("th"),y.textContent="Points",A=P(),$=h("td"),S=V(E),T=P(),C=h("td"),N=V(O),Z=P(),F=h("p"),G=V("Report ID: "),B=V(X),m(F,"class","text-center w-full"),m(e,"class","absolute bg-sky-100 -right-1 translate-x-full rounded py-1 px-2")},m(H,Q){D(H,e,Q),s(e,n),s(n,l),s(n,i),s(n,o),s(o,r),s(o,c),s(o,a),s(a,u),s(a,d),s(o,p),s(o,g),s(g,v),s(g,k),s(n,b),s(n,w),s(w,y),s(w,A),s(w,$),s($,S),s(w,T),s(w,C),s(C,N),s(e,Z),s(e,F),s(F,G),s(F,B)},p(H,Q){Q&1&&f!==(f=H[0].Audit_Fines_old_amount+"")&&j(d,f),Q&1&&_!==(_=H[0].Audit_Fines_new_amount+"")&&j(k,_),Q&1&&E!==(E=H[0].Audit_Fines_old_points+"")&&j(S,E),Q&1&&O!==(O=H[0].Audit_Fines_new_points+"")&&j(N,O),Q&1&&X!==(X=H[0].Audit_Fines_incident_ID+"")&&j(B,X)},d(H){H&&I(e)}}}function Sn(t){let e,n,l,i,o,r,c,a,u=t[0].Audit_Users_old_username+"",f,d,p,g=t[0].Audit_Users_new_username+"",v,_,k,b,w,y,A,$,E,S,T,C,O,N,Z,F=t[0].Audit_Users_old_password&&En(),G=t[0].Audit_Users_new_password&&On();function X(K,M){if(K[0].Audit_Users_old_admin==="1")return fr;if(K[0].Audit_Users_old_admin==="0")return ur}let B=X(t),H=B&&B(t);function Q(K,M){if(K[0].Audit_Users_new_admin==="1")return pr;if(K[0].Audit_Users_new_admin==="0")return dr}let W=Q(t),J=W&&W(t);return{c(){e=h("div"),n=h("table"),l=h("tr"),l.innerHTML=`<td></td> 
                    <th>Previous</th> 
                    <th>New</th>`,i=P(),o=h("tr"),r=h("th"),r.textContent="Username",c=P(),a=h("td"),f=V(u),d=P(),p=h("td"),v=V(g),_=P(),k=h("tr"),b=h("th"),b.textContent="Password",w=P(),y=h("td"),F&&F.c(),A=P(),$=h("td"),G&&G.c(),E=P(),S=h("tr"),T=h("th"),T.textContent="Admin",C=P(),O=h("td"),H&&H.c(),N=P(),Z=h("td"),J&&J.c(),m(e,"class","absolute bg-sky-100 -right-1 translate-x-full rounded py-1 px-2")},m(K,M){D(K,e,M),s(e,n),s(n,l),s(n,i),s(n,o),s(o,r),s(o,c),s(o,a),s(a,f),s(o,d),s(o,p),s(p,v),s(n,_),s(n,k),s(k,b),s(k,w),s(k,y),F&&F.m(y,null),s(k,A),s(k,$),G&&G.m($,null),s(n,E),s(n,S),s(S,T),s(S,C),s(S,O),H&&H.m(O,null),s(S,N),s(S,Z),J&&J.m(Z,null)},p(K,M){M&1&&u!==(u=K[0].Audit_Users_old_username+"")&&j(f,u),M&1&&g!==(g=K[0].Audit_Users_new_username+"")&&j(v,g),K[0].Audit_Users_old_password?F||(F=En(),F.c(),F.m(y,null)):F&&(F.d(1),F=null),K[0].Audit_Users_new_password?G||(G=On(),G.c(),G.m($,null)):G&&(G.d(1),G=null),B!==(B=X(K))&&(H&&H.d(1),H=B&&B(K),H&&(H.c(),H.m(O,null))),W!==(W=Q(K))&&(J&&J.d(1),J=W&&W(K),J&&(J.c(),J.m(Z,null)))},d(K){K&&I(e),F&&F.d(),G&&G.d(),H&&H.d(),J&&J.d()}}}function En(t){let e;return{c(){e=V("*********")},m(n,l){D(n,e,l)},d(n){n&&I(e)}}}function On(t){let e;return{c(){e=V("*********")},m(n,l){D(n,e,l)},d(n){n&&I(e)}}}function ur(t){let e;return{c(){e=V("No")},m(n,l){D(n,e,l)},d(n){n&&I(e)}}}function fr(t){let e;return{c(){e=V("Yes")},m(n,l){D(n,e,l)},d(n){n&&I(e)}}}function dr(t){let e;return{c(){e=V("No")},m(n,l){D(n,e,l)},d(n){n&&I(e)}}}function pr(t){let e;return{c(){e=V("Yes")},m(n,l){D(n,e,l)},d(n){n&&I(e)}}}function Tn(t){let e,n,l,i,o,r,c,a,u,f,d,p,g,v,_,k,b,w,y,A,$;return{c(){e=h("div"),n=h("table"),l=h("tr"),l.innerHTML=`<td></td> 
                    <th>Previous</th> 
                    <th>New</th>`,i=P(),o=h("tr"),r=h("th"),r.textContent="Person",c=P(),a=h("td"),u=V(t[3]),f=P(),d=h("td"),p=V(t[4]),g=P(),v=h("tr"),_=h("th"),_.textContent="Vehicle",k=P(),b=h("td"),w=V(t[5]),y=P(),A=h("td"),$=V(t[6]),m(e,"class","absolute bg-sky-100 -right-1 translate-x-full rounded py-1 px-2")},m(E,S){D(E,e,S),s(e,n),s(n,l),s(n,i),s(n,o),s(o,r),s(o,c),s(o,a),s(a,u),s(o,f),s(o,d),s(d,p),s(n,g),s(n,v),s(v,_),s(v,k),s(v,b),s(b,w),s(v,y),s(v,A),s(A,$)},p(E,S){S&8&&j(u,E[3]),S&16&&j(p,E[4]),S&32&&j(w,E[5]),S&64&&j($,E[6])},d(E){E&&I(e)}}}function _r(t){let e,n,l=t[0].Audit_timestamp+"",i,o,r,c=t[0].Audit_username+"",a,u,f,d=t[0].Audit_action+"",p,g,v,_,k,b=Object.keys(t[0]).length>5,w,y,A,$,E,S,T,C=b&&An(t),O=t[1]&&t[0].Audit_People_people_ID&&Cn(t),N=t[1]&&t[0].Audit_Vehicle_vehicle_ID&&In(t),Z=t[1]&&t[0].Audit_Incident_incident_ID&&Dn(t),F=t[1]&&t[0].Audit_Fines_fine_ID&&Vn(t),G=t[1]&&t[0].Audit_Users_new_username&&Sn(t),X=t[1]&&(t[0].Audit_Ownership_new_people_ID||t[0].Audit_Ownership_old_people_ID)&&Tn(t);return{c(){e=h("tr"),n=h("td"),i=V(l),o=P(),r=h("td"),a=V(c),u=P(),f=h("td"),p=V(d),g=P(),v=h("td"),_=V(t[2]),k=P(),C&&C.c(),w=P(),O&&O.c(),y=P(),N&&N.c(),A=P(),Z&&Z.c(),$=P(),F&&F.c(),E=P(),G&&G.c(),S=P(),X&&X.c(),m(n,"class","px-4"),m(r,"class","px-4"),m(f,"class","px-4 text-center"),m(v,"class","px-4 text-center"),m(e,"class","border-t border-gray-400 relative")},m(B,H){D(B,e,H),s(e,n),s(n,i),s(e,o),s(e,r),s(r,a),s(e,u),s(e,f),s(f,p),s(e,g),s(e,v),s(v,_),s(e,k),C&&C.m(e,null),s(e,w),O&&O.m(e,null),s(e,y),N&&N.m(e,null),s(e,A),Z&&Z.m(e,null),s(e,$),F&&F.m(e,null),s(e,E),G&&G.m(e,null),s(e,S),X&&X.m(e,null),T=!0},p(B,[H]){(!T||H&1)&&l!==(l=B[0].Audit_timestamp+"")&&j(i,l),(!T||H&1)&&c!==(c=B[0].Audit_username+"")&&j(a,c),(!T||H&1)&&d!==(d=B[0].Audit_action+"")&&j(p,d),(!T||H&4)&&j(_,B[2]),H&1&&(b=Object.keys(B[0]).length>5),b?C?(C.p(B,H),H&1&&R(C,1)):(C=An(B),C.c(),R(C,1),C.m(e,w)):C&&(ue(),U(C,1,1,()=>{C=null}),fe()),B[1]&&B[0].Audit_People_people_ID?O?O.p(B,H):(O=Cn(B),O.c(),O.m(e,y)):O&&(O.d(1),O=null),B[1]&&B[0].Audit_Vehicle_vehicle_ID?N?N.p(B,H):(N=In(B),N.c(),N.m(e,A)):N&&(N.d(1),N=null),B[1]&&B[0].Audit_Incident_incident_ID?Z?Z.p(B,H):(Z=Dn(B),Z.c(),Z.m(e,$)):Z&&(Z.d(1),Z=null),B[1]&&B[0].Audit_Fines_fine_ID?F?F.p(B,H):(F=Vn(B),F.c(),F.m(e,E)):F&&(F.d(1),F=null),B[1]&&B[0].Audit_Users_new_username?G?G.p(B,H):(G=Sn(B),G.c(),G.m(e,S)):G&&(G.d(1),G=null),B[1]&&(B[0].Audit_Ownership_new_people_ID||B[0].Audit_Ownership_old_people_ID)?X?X.p(B,H):(X=Tn(B),X.c(),X.m(e,null)):X&&(X.d(1),X=null)},i(B){T||(R(C),T=!0)},o(B){U(C),T=!1},d(B){B&&I(e),C&&C.d(),O&&O.d(),N&&N.d(),Z&&Z.d(),F&&F.d(),G&&G.d(),X&&X.d()}}}function hr(t,e,n){let l;se(t,Ne,w=>n(7,l=w));let{audit:i}=e;const o=async()=>{const w=`${re}/backend/report/get-offences.php`;let y=await fetch(w);y=await y.json(),ye(Ne,l=y.data,l),console.log(l)},r=async w=>{const y=`${re}/backend/person/get-person-by-id.php?id=${w}`;let A=await fetch(y);return A=await A.json(),A.data?(console.log(A.data),`${A.data.People_name} (${A.data.People_licence})`):""},c=async w=>{const y=`${re}/backend/vehicle/get-vehicle-by-id.php?id=${w}`;let A=await fetch(y);return A=await A.json(),A.data?(console.log(A.data),`${A.data.Vehicle_make} ${A.data.Vehicle_model} (${A.data.Vehicle_licence})`):""};let a=!1,u="",f="",d="",p="",g="";const v=async()=>{i.Audit_search_term?n(2,u=i.Audit_search_term):i.Audit_People_new_name?n(2,u=i.Audit_People_new_name):i.Audit_Vehicle_new_make?n(2,u=`${i.Audit_Vehicle_new_make} ${i.Audit_Vehicle_new_model}`):i.Audit_Incident_incident_ID?(n(2,u=`${i.Audit_Incident_new_report}`),n(3,f=await r(i.Audit_Incident_old_people_ID)),n(4,d=await r(i.Audit_Incident_new_people_ID)),n(5,p=await c(i.Audit_Incident_old_vehicle_ID)),n(6,g=await c(i.Audit_Incident_new_vehicle_ID)),o()):i.Audit_Users_new_username?n(2,u=i.Audit_Users_new_username):i.Audit_Vehicle_old_make?n(2,u=`${i.Audit_Vehicle_old_make} ${i.Audit_Vehicle_old_model}`):i.Audit_Ownership_new_people_ID||i.Audit_Ownership_old_people_ID?(console.log("test"),n(3,f=await r(i.Audit_Ownership_old_people_ID)),n(4,d=await r(i.Audit_Ownership_new_people_ID)),n(5,p=await c(i.Audit_Ownership_old_vehicle_ID)),n(6,g=await c(i.Audit_Ownership_new_vehicle_ID)),g!=""?n(2,u=g):n(2,u=p)):n(2,u="")};Je(v);const _=()=>{console.log("Show details for",i),n(1,a=!a)},k=w=>w.Offence_ID==i.Audit_Incident_old_offence_ID,b=w=>w.Offence_ID==i.Audit_Incident_new_offence_ID;return t.$$set=w=>{"audit"in w&&n(0,i=w.audit)},t.$$.update=()=>{t.$$.dirty&1&&v(i.Audit_ID)},[i,a,u,f,d,p,g,l,_,k,b]}class mr extends oe{constructor(e){super(),ie(this,e,hr,_r,le,{audit:0})}}function Rn(t,e,n){const l=t.slice();return l[6]=e[n],l}function jn(t){let e,n;return e=new mr({props:{audit:t[6]}}),{c(){te(e.$$.fragment)},m(l,i){x(e,l,i),n=!0},p(l,i){const o={};i&2&&(o.audit=l[6]),e.$set(o)},i(l){n||(R(e.$$.fragment,l),n=!0)},o(l){U(e.$$.fragment,l),n=!1},d(l){ee(e,l)}}}function br(t){let e,n,l,i,o,r,c,a,u,f,d,p,g,v,_,k,b,w,y,A,$,E,S,T=t[1],C=[];for(let N=0;N<T.length;N+=1)C[N]=jn(Rn(t,T,N));const O=N=>U(C[N],1,1,()=>{C[N]=null});return{c(){e=h("div"),n=h("h2"),n.textContent="Audits",l=P(),i=h("main"),o=h("div"),r=h("form"),c=h("label"),c.textContent="Search",a=P(),u=h("input"),f=P(),d=h("button"),p=h("span"),p.textContent="Search",v=P(),_=h("div"),k=h("button"),k.textContent="Recent",b=P(),w=h("table"),y=h("tr"),y.innerHTML=`<th class="px-4 py-1">Time</th> 
                <th class="px-4">Username</th> 
                <th class="px-4">Action</th> 
                <th class="px-4">Search Term/Item</th> 
                <th class="px-4">Show Details</th>`,A=P();for(let N=0;N<C.length;N+=1)C[N].c();m(n,"class","text-2xl font-semibold"),m(c,"for","criteria"),m(u,"class","text-black px-1 h-8"),m(u,"type","text"),m(u,"name","criteria"),m(u,"placeholder","Enter search term..."),m(p,"class","relative -top-1"),d.disabled=g=t[0].length<4,m(d,"class","button h-8 mt-0"),m(d,"type","submit"),m(r,"class","flex items-center gap-2 mt-2"),m(k,"class","button bg-sky-300 rounded-full"),m(_,"class","flex flex-wrap gap-2 my-2"),m(o,"class","flex justify-between"),m(w,"class","bg-sky-100 rounded shadow text-black px-4"),m(i,"class","w-max"),m(e,"class","bg-traffic bg-no-repeat bg-cover bg-center text-white p-4 min-h-screen")},m(N,Z){D(N,e,Z),s(e,n),s(e,l),s(e,i),s(i,o),s(o,r),s(r,c),s(r,a),s(r,u),z(u,t[0]),s(r,f),s(r,d),s(d,p),s(o,v),s(o,_),s(_,k),s(i,b),s(i,w),s(w,y),s(w,A);for(let F=0;F<C.length;F+=1)C[F].m(w,null);$=!0,E||(S=[L(u,"input",t[4]),L(r,"submit",ve(t[2])),L(k,"click",t[3])],E=!0)},p(N,[Z]){if(Z&1&&u.value!==N[0]&&z(u,N[0]),(!$||Z&1&&g!==(g=N[0].length<4))&&(d.disabled=g),Z&2){T=N[1];let F;for(F=0;F<T.length;F+=1){const G=Rn(N,T,F);C[F]?(C[F].p(G,Z),R(C[F],1)):(C[F]=jn(G),C[F].c(),R(C[F],1),C[F].m(w,null))}for(ue(),F=T.length;F<C.length;F+=1)O(F);fe()}},i(N){if(!$){for(let Z=0;Z<T.length;Z+=1)R(C[Z]);$=!0}},o(N){C=C.filter(Boolean);for(let Z=0;Z<C.length;Z+=1)U(C[Z]);$=!1},d(N){N&&I(e),Le(C,N),E=!1,ae(S)}}}function gr(t,e,n){let l;se(t,At,u=>n(1,l=u));let i="";const o=u=>{ye(At,l=u,l),ye(At,l=l.map(f=>{let d={};for(const p in f)f[p]==null?d[p]="":d[p]=f[p];return d}),l)},r=async()=>{console.log(`searching for ${i}...`);const f=`${re}/backend/audit/get-audits-by-keyword.php?keyword=${i}&limit=${50}`;let d=await fetch(f);d=await d.json(),d.data&&(console.log(d.data),o(d.data)),n(0,i="")},c=async()=>{const f=`${re}/backend/audit/get-recent-audits.php?limit=${50}`;let d=await fetch(f);d=await d.json(),d.data&&o(d.data),console.log(l)};Je(c);function a(){i=this.value,n(0,i)}return[i,l,r,c,a]}class wr extends oe{constructor(e){super(),ie(this,e,gr,br,le,{})}}function vr(t){let e;return{c(){e=Ge("path"),m(e,"d","M499.99 176h-59.87l-16.64-41.6C406.38 91.63 365.57 64 319.5 64h-127c-46.06 0-86.88 27.63-103.99 70.4L71.87 176H12.01C4.2 176-1.53 183.34.37 190.91l6 24C7.7 220.25 12.5 224 18.01 224h20.07C24.65 235.73 16 252.78 16 272v48c0 16.12 6.16 30.67 16 41.93V416c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32v-32h256v32c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32v-54.07c9.84-11.25 16-25.8 16-41.93v-48c0-19.22-8.65-36.27-22.07-48H494c5.51 0 10.31-3.75 11.64-9.09l6-24c1.89-7.57-3.84-14.91-11.65-14.91zm-352.06-17.83c7.29-18.22 24.94-30.17 44.57-30.17h127c19.63 0 37.28 11.95 44.57 30.17L384 208H128l19.93-49.83zM96 319.8c-19.2 0-32-12.76-32-31.9S76.8 256 96 256s48 28.71 48 47.85-28.8 15.95-48 15.95zm320 0c-19.2 0-48 3.19-48-15.95S396.8 256 416 256s32 12.76 32 31.9-12.8 31.9-32 31.9z")},m(n,l){D(n,e,l)},p:q,d(n){n&&I(e)}}}function kr(t){let e,n;const l=[{viewBox:"0 0 512 512"},t[0]];let i={$$slots:{default:[vr]},$$scope:{ctx:t}};for(let o=0;o<l.length;o+=1)i=Pe(i,l[o]);return e=new Ft({props:i}),{c(){te(e.$$.fragment)},m(o,r){x(e,o,r),n=!0},p(o,[r]){const c=r&1?mt(l,[l[0],bt(o[0])]):{};r&2&&(c.$$scope={dirty:r,ctx:o}),e.$set(c)},i(o){n||(R(e.$$.fragment,o),n=!0)},o(o){U(e.$$.fragment,o),n=!1},d(o){ee(e,o)}}}function yr(t,e,n){return t.$$set=l=>{n(0,e=Pe(Pe({},e),He(l)))},e=He(e),[e]}class Pr extends oe{constructor(e){super(),ie(this,e,yr,kr,le,{})}}function $r(t){let e,n;return{c(){e=h("a"),n=V("Login"),m(e,"class","place-self-start font-semibold mr-2 hover:text-gray-500"),m(e,"href",`${he}/`)},m(l,i){D(l,e,i),s(e,n)},p:q,d(l){l&&I(e)}}}function Ar(t){let e,n,l,i=t[0].username+"",o;return{c(){e=h("a"),n=V("Logged in as "),l=h("span"),o=V(i),m(l,"class","font-bold"),m(e,"class","place-self-start font-semibold mr-2 hover:text-gray-500"),m(e,"href",`${he}/account`)},m(r,c){D(r,e,c),s(e,n),s(e,l),s(l,o)},p(r,c){c&1&&i!==(i=r[0].username+"")&&j(o,i)},d(r){r&&I(e)}}}function Cr(t){let e,n,l,i,o,r,c,a,u,f,d;function p(_,k){if(_[0].username)return Ar;if(we.current!=`${he}/`)return $r}let g=p(t),v=g&&g(t);return o=new Pr({}),{c(){e=h("div"),v&&v.c(),n=P(),l=h("a"),i=h("div"),te(o.$$.fragment),r=P(),c=h("header"),c.textContent="Traffic Records",a=P(),u=h("a"),f=V("References"),m(i,"class","w-5"),m(c,"class","font-semibold"),m(l,"class","flex gap-2 justify-center items-center hover:text-gray-500 w-max col-start-2 place-self-center"),m(l,"href",t[1]),m(u,"class","place-self-end font-semibold mr-2 hover:text-gray-500"),m(u,"href",`${he}/references`),m(e,"class","w-full bg-sky-200 bg-opacity-90 p-2 grid grid-cols-3")},m(_,k){D(_,e,k),v&&v.m(e,null),s(e,n),s(e,l),s(l,i),x(o,i,null),s(l,r),s(l,c),s(e,a),s(e,u),s(u,f),d=!0},p(_,[k]){g===(g=p(_))&&v?v.p(_,k):(v&&v.d(1),v=g&&g(_),v&&(v.c(),v.m(e,n))),(!d||k&2)&&m(l,"href",_[1])},i(_){d||(R(o.$$.fragment,_),d=!0)},o(_){U(o.$$.fragment,_),d=!1},d(_){_&&I(e),v&&v.d(),ee(o)}}}function Ir(t,e,n){let l;se(t,de,r=>n(0,l=r));let i=`${he}/`;const o=()=>{typeof l=="object"&&l.username&&n(1,i=`${he}/dashboard`)};return t.$$.update=()=>{t.$$.dirty&1&&o()},[l,i]}class Dr extends oe{constructor(e){super(),ie(this,e,Ir,Cr,le,{})}}function Vr(t){let e,n,l,i,o,r,c;e=new _i({}),i=new Dr({});var a=t[0];function u(f){return{}}return a&&(r=ct(a,u())),{c(){te(e.$$.fragment),n=P(),l=h("div"),te(i.$$.fragment),o=P(),r&&te(r.$$.fragment),m(l,"class","bg-black")},m(f,d){x(e,f,d),D(f,n,d),D(f,l,d),x(i,l,null),s(l,o),r&&x(r,l,null),c=!0},p(f,[d]){if(a!==(a=f[0])){if(r){ue();const p=r;U(p.$$.fragment,1,0,()=>{ee(p,1)}),fe()}a?(r=ct(a,u()),te(r.$$.fragment),R(r.$$.fragment,1),x(r,l,null)):r=null}},i(f){c||(R(e.$$.fragment,f),R(i.$$.fragment,f),r&&R(r.$$.fragment,f),c=!0)},o(f){U(e.$$.fragment,f),U(i.$$.fragment,f),r&&U(r.$$.fragment,f),c=!1},d(f){ee(e,f),f&&I(n),f&&I(l),ee(i),r&&ee(r)}}}function Sr(t,e,n){let l;return we(`${he}/`,()=>n(0,l=Yl)),we(`${he}/dashboard`,()=>n(0,l=ei)),we(`${he}/people`,()=>n(0,l=Oi)),we(`${he}/vehicles`,()=>n(0,l=eo)),we(`${he}/reports`,()=>n(0,l=Lo)),we(`${he}/account`,()=>n(0,l=Yo)),we(`${he}/references`,()=>n(0,l=Qo)),we(`${he}/audits`,()=>n(0,l=wr)),we(`${he}/*`,()=>n(0,l=Xo)),we.start(),console.log(we.current),[l]}class Er extends oe{constructor(e){super(),ie(this,e,Sr,Vr,le,{})}}new Er({target:document.getElementById("app")});
